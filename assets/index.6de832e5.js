(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Qc(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ky="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wy=Qc(Ky);function dp(e){return!!e||e===""}function Yc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ye(r)?Yy(r):Yc(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ye(e))return e;if(Ue(e))return e}}const Gy=/;(?![^(]*\))/g,Qy=/:(.+)/;function Yy(e){const t={};return e.split(Gy).forEach(n=>{if(n){const r=n.split(Qy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function _i(e){let t="";if(Ye(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=_i(e[n]);r&&(t+=r+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Xy(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ws(e[r],t[r]);return n}function Ws(e,t){if(e===t)return!0;let n=Vf(e),r=Vf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ao(e),r=Ao(t),n||r)return e===t;if(n=ee(e),r=ee(t),n||r)return n&&r?Xy(e,t):!1;if(n=Ue(e),r=Ue(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const u=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(u&&!a||!u&&a||!Ws(e[s],t[s]))return!1}}return String(e)===String(t)}const Co=e=>Ye(e)?e:e==null?"":ee(e)||Ue(e)&&(e.toString===vp||!ie(e.toString))?JSON.stringify(e,pp,2):String(e),pp=(e,t)=>t&&t.__v_isRef?pp(e,t.value):mi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:gp(t)?{[`Set(${t.size})`]:[...t.values()]}:Ue(t)&&!ee(t)&&!yp(t)?String(t):t,Se={},gi=[],Xt=()=>{},Jy=()=>!1,Zy=/^on[^a-z]/,Ru=e=>Zy.test(e),Xc=e=>e.startsWith("onUpdate:"),nt=Object.assign,Jc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},e0=Object.prototype.hasOwnProperty,de=(e,t)=>e0.call(e,t),ee=Array.isArray,mi=e=>es(e)==="[object Map]",gp=e=>es(e)==="[object Set]",Vf=e=>es(e)==="[object Date]",ie=e=>typeof e=="function",Ye=e=>typeof e=="string",Ao=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",mp=e=>Ue(e)&&ie(e.then)&&ie(e.catch),vp=Object.prototype.toString,es=e=>vp.call(e),t0=e=>es(e).slice(8,-1),yp=e=>es(e)==="[object Object]",Zc=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ls=Qc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ku=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},n0=/-(\w)/g,vn=ku(e=>e.replace(n0,(t,n)=>n?n.toUpperCase():"")),r0=/\B([A-Z])/g,Br=ku(e=>e.replace(r0,"-$1").toLowerCase()),Pu=ku(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ta=ku(e=>e?`on${Pu(e)}`:""),xo=(e,t)=>!Object.is(e,t),Ms=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Gs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Qs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Uf;const i0=()=>Uf||(Uf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let cn;class o0{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&cn&&(this.parent=cn,this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=cn;try{return cn=this,t()}finally{cn=n}}}on(){cn=this}off(){cn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function s0(e,t=cn){t&&t.active&&t.effects.push(e)}const el=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wp=e=>(e.w&nr)>0,bp=e=>(e.n&nr)>0,u0=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=nr},a0=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];wp(i)&&!bp(i)?i.delete(e):t[n++]=i,i.w&=~nr,i.n&=~nr}t.length=n}},Ja=new WeakMap;let ao=0,nr=1;const Za=30;let Qt;const xr=Symbol(""),ec=Symbol("");class tl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,s0(this,r)}run(){if(!this.active)return this.fn();let t=Qt,n=Yn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Qt,Qt=this,Yn=!0,nr=1<<++ao,ao<=Za?u0(this):qf(this),this.fn()}finally{ao<=Za&&a0(this),nr=1<<--ao,Qt=this.parent,Yn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Qt===this?this.deferStop=!0:this.active&&(qf(this),this.onStop&&this.onStop(),this.active=!1)}}function qf(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Yn=!0;const _p=[];function $i(){_p.push(Yn),Yn=!1}function zi(){const e=_p.pop();Yn=e===void 0?!0:e}function Ut(e,t,n){if(Yn&&Qt){let r=Ja.get(e);r||Ja.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=el()),Ep(i)}}function Ep(e,t){let n=!1;ao<=Za?bp(e)||(e.n|=nr,n=!wp(e)):n=!e.has(Qt),n&&(e.add(Qt),Qt.deps.push(e))}function Dn(e,t,n,r,i,o){const s=Ja.get(e);if(!s)return;let u=[];if(t==="clear")u=[...s.values()];else if(n==="length"&&ee(e))s.forEach((a,c)=>{(c==="length"||c>=r)&&u.push(a)});else switch(n!==void 0&&u.push(s.get(n)),t){case"add":ee(e)?Zc(n)&&u.push(s.get("length")):(u.push(s.get(xr)),mi(e)&&u.push(s.get(ec)));break;case"delete":ee(e)||(u.push(s.get(xr)),mi(e)&&u.push(s.get(ec)));break;case"set":mi(e)&&u.push(s.get(xr));break}if(u.length===1)u[0]&&tc(u[0]);else{const a=[];for(const c of u)c&&a.push(...c);tc(el(a))}}function tc(e,t){const n=ee(e)?e:[...e];for(const r of n)r.computed&&jf(r);for(const r of n)r.computed||jf(r)}function jf(e,t){(e!==Qt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const c0=Qc("__proto__,__v_isRef,__isVue"),Tp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ao)),l0=nl(),f0=nl(!1,!0),h0=nl(!0),Bf=d0();function d0(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ve(this);for(let o=0,s=this.length;o<s;o++)Ut(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$i();const r=ve(this)[t].apply(this,n);return zi(),r}}),e}function nl(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?N0:xp:t?Ap:Cp).get(r))return r;const s=ee(r);if(!e&&s&&de(Bf,i))return Reflect.get(Bf,i,o);const u=Reflect.get(r,i,o);return(Ao(i)?Tp.has(i):c0(i))||(e||Ut(r,"get",i),t)?u:lt(u)?s&&Zc(i)?u:u.value:Ue(u)?e?Np(u):$r(u):u}}const p0=Ip(),g0=Ip(!0);function Ip(e=!1){return function(n,r,i,o){let s=n[r];if(No(s)&&lt(s)&&!lt(i))return!1;if(!e&&!No(i)&&(nc(i)||(i=ve(i),s=ve(s)),!ee(n)&&lt(s)&&!lt(i)))return s.value=i,!0;const u=ee(n)&&Zc(r)?Number(r)<n.length:de(n,r),a=Reflect.set(n,r,i,o);return n===ve(o)&&(u?xo(i,s)&&Dn(n,"set",r,i):Dn(n,"add",r,i)),a}}function m0(e,t){const n=de(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Dn(e,"delete",t,void 0),r}function v0(e,t){const n=Reflect.has(e,t);return(!Ao(t)||!Tp.has(t))&&Ut(e,"has",t),n}function y0(e){return Ut(e,"iterate",ee(e)?"length":xr),Reflect.ownKeys(e)}const Sp={get:l0,set:p0,deleteProperty:m0,has:v0,ownKeys:y0},w0={get:h0,set(e,t){return!0},deleteProperty(e,t){return!0}},b0=nt({},Sp,{get:f0,set:g0}),rl=e=>e,Lu=e=>Reflect.getPrototypeOf(e);function _s(e,t,n=!1,r=!1){e=e.__v_raw;const i=ve(e),o=ve(t);n||(t!==o&&Ut(i,"get",t),Ut(i,"get",o));const{has:s}=Lu(i),u=r?rl:n?sl:Do;if(s.call(i,t))return u(e.get(t));if(s.call(i,o))return u(e.get(o));e!==i&&e.get(t)}function Es(e,t=!1){const n=this.__v_raw,r=ve(n),i=ve(e);return t||(e!==i&&Ut(r,"has",e),Ut(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ts(e,t=!1){return e=e.__v_raw,!t&&Ut(ve(e),"iterate",xr),Reflect.get(e,"size",e)}function $f(e){e=ve(e);const t=ve(this);return Lu(t).has.call(t,e)||(t.add(e),Dn(t,"add",e,e)),this}function zf(e,t){t=ve(t);const n=ve(this),{has:r,get:i}=Lu(n);let o=r.call(n,e);o||(e=ve(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?xo(t,s)&&Dn(n,"set",e,t):Dn(n,"add",e,t),this}function Hf(e){const t=ve(this),{has:n,get:r}=Lu(t);let i=n.call(t,e);i||(e=ve(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Dn(t,"delete",e,void 0),o}function Kf(){const e=ve(this),t=e.size!==0,n=e.clear();return t&&Dn(e,"clear",void 0,void 0),n}function Is(e,t){return function(r,i){const o=this,s=o.__v_raw,u=ve(s),a=t?rl:e?sl:Do;return!e&&Ut(u,"iterate",xr),s.forEach((c,l)=>r.call(i,a(c),a(l),o))}}function Ss(e,t,n){return function(...r){const i=this.__v_raw,o=ve(i),s=mi(o),u=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=i[e](...r),l=n?rl:t?sl:Do;return!t&&Ut(o,"iterate",a?ec:xr),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:u?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function Pn(e){return function(...t){return e==="delete"?!1:this}}function _0(){const e={get(o){return _s(this,o)},get size(){return Ts(this)},has:Es,add:$f,set:zf,delete:Hf,clear:Kf,forEach:Is(!1,!1)},t={get(o){return _s(this,o,!1,!0)},get size(){return Ts(this)},has:Es,add:$f,set:zf,delete:Hf,clear:Kf,forEach:Is(!1,!0)},n={get(o){return _s(this,o,!0)},get size(){return Ts(this,!0)},has(o){return Es.call(this,o,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:Is(!0,!1)},r={get(o){return _s(this,o,!0,!0)},get size(){return Ts(this,!0)},has(o){return Es.call(this,o,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:Is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ss(o,!1,!1),n[o]=Ss(o,!0,!1),t[o]=Ss(o,!1,!0),r[o]=Ss(o,!0,!0)}),[e,n,t,r]}const[E0,T0,I0,S0]=_0();function il(e,t){const n=t?e?S0:I0:e?T0:E0;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(de(n,i)&&i in r?n:r,i,o)}const C0={get:il(!1,!1)},A0={get:il(!1,!0)},x0={get:il(!0,!1)},Cp=new WeakMap,Ap=new WeakMap,xp=new WeakMap,N0=new WeakMap;function D0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function O0(e){return e.__v_skip||!Object.isExtensible(e)?0:D0(t0(e))}function $r(e){return No(e)?e:ol(e,!1,Sp,C0,Cp)}function R0(e){return ol(e,!1,b0,A0,Ap)}function Np(e){return ol(e,!0,w0,x0,xp)}function ol(e,t,n,r,i){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=O0(e);if(s===0)return e;const u=new Proxy(e,s===2?r:n);return i.set(e,u),u}function vi(e){return No(e)?vi(e.__v_raw):!!(e&&e.__v_isReactive)}function No(e){return!!(e&&e.__v_isReadonly)}function nc(e){return!!(e&&e.__v_isShallow)}function Dp(e){return vi(e)||No(e)}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Op(e){return Gs(e,"__v_skip",!0),e}const Do=e=>Ue(e)?$r(e):e,sl=e=>Ue(e)?Np(e):e;function Rp(e){Yn&&Qt&&(e=ve(e),Ep(e.dep||(e.dep=el())))}function kp(e,t){e=ve(e),e.dep&&tc(e.dep)}function lt(e){return!!(e&&e.__v_isRef===!0)}function $t(e){return Pp(e,!1)}function k0(e){return Pp(e,!0)}function Pp(e,t){return lt(e)?e:new P0(e,t)}class P0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ve(t),this._value=n?t:Do(t)}get value(){return Rp(this),this._value}set value(t){t=this.__v_isShallow?t:ve(t),xo(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Do(t),kp(this))}}function Xn(e){return lt(e)?e.value:e}const L0={get:(e,t,n)=>Xn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return lt(i)&&!lt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Lp(e){return vi(e)?e:new Proxy(e,L0)}class M0{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new tl(t,()=>{this._dirty||(this._dirty=!0,kp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=ve(this);return Rp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function F0(e,t,n=!1){let r,i;const o=ie(e);return o?(r=e,i=Xt):(r=e.get,i=e.set),new M0(r,i,o||!i,n)}function Jn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Mu(o,t,n)}return i}function Ht(e,t,n,r){if(ie(e)){const o=Jn(e,t,n,r);return o&&mp(o)&&o.catch(s=>{Mu(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Ht(e[o],t,n,r));return i}function Mu(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,u=n;for(;o;){const c=o.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,s,u)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){Jn(a,null,10,[e,s,u]);return}}V0(e,n,i,r)}function V0(e,t,n,r=!0){console.error(e)}let Ys=!1,rc=!1;const Pt=[];let Tn=0;const po=[];let co=null,si=0;const go=[];let Bn=null,ui=0;const Mp=Promise.resolve();let ul=null,ic=null;function al(e){const t=ul||Mp;return e?t.then(this?e.bind(this):e):t}function U0(e){let t=Tn+1,n=Pt.length;for(;t<n;){const r=t+n>>>1;Oo(Pt[r])<e?t=r+1:n=r}return t}function Fp(e){(!Pt.length||!Pt.includes(e,Ys&&e.allowRecurse?Tn+1:Tn))&&e!==ic&&(e.id==null?Pt.push(e):Pt.splice(U0(e.id),0,e),Vp())}function Vp(){!Ys&&!rc&&(rc=!0,ul=Mp.then(jp))}function q0(e){const t=Pt.indexOf(e);t>Tn&&Pt.splice(t,1)}function Up(e,t,n,r){ee(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Vp()}function j0(e){Up(e,co,po,si)}function B0(e){Up(e,Bn,go,ui)}function Fu(e,t=null){if(po.length){for(ic=t,co=[...new Set(po)],po.length=0,si=0;si<co.length;si++)co[si]();co=null,si=0,ic=null,Fu(e,t)}}function qp(e){if(Fu(),go.length){const t=[...new Set(go)];if(go.length=0,Bn){Bn.push(...t);return}for(Bn=t,Bn.sort((n,r)=>Oo(n)-Oo(r)),ui=0;ui<Bn.length;ui++)Bn[ui]();Bn=null,ui=0}}const Oo=e=>e.id==null?1/0:e.id;function jp(e){rc=!1,Ys=!0,Fu(e),Pt.sort((n,r)=>Oo(n)-Oo(r));const t=Xt;try{for(Tn=0;Tn<Pt.length;Tn++){const n=Pt[Tn];n&&n.active!==!1&&Jn(n,null,14)}}finally{Tn=0,Pt.length=0,qp(),Ys=!1,ul=null,(Pt.length||po.length||go.length)&&jp(e)}}function $0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Se;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[l]||Se;h&&(i=n.map(d=>d.trim())),f&&(i=n.map(Qs))}let u,a=r[u=Ta(t)]||r[u=Ta(vn(t))];!a&&o&&(a=r[u=Ta(Br(t))]),a&&Ht(a,e,6,i);const c=r[u+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ht(c,e,6,i)}}function Bp(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},u=!1;if(!ie(e)){const a=c=>{const l=Bp(c,t,!0);l&&(u=!0,nt(s,l))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!u?(r.set(e,null),null):(ee(o)?o.forEach(a=>s[a]=null):nt(s,o),r.set(e,s),s)}function Vu(e,t){return!e||!Ru(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(e,t[0].toLowerCase()+t.slice(1))||de(e,Br(t))||de(e,t))}let ft=null,$p=null;function Xs(e){const t=ft;return ft=e,$p=e&&e.type.__scopeId||null,t}function zt(e,t=ft,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&rh(-1);const o=Xs(t),s=e(...i);return Xs(o),r._d&&rh(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Ia(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:u,attrs:a,emit:c,render:l,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:m}=e;let y,w;const E=Xs(e);try{if(n.shapeFlag&4){const R=i||r;y=pn(l.call(R,R,f,o,d,h,p)),w=a}else{const R=t;y=pn(R.length>1?R(o,{attrs:a,slots:u,emit:c}):R(o,null)),w=t.props?a:z0(a)}}catch(R){yo.length=0,Mu(R,e,1),y=le(Kt)}let T=y;if(w&&m!==!1){const R=Object.keys(w),{shapeFlag:U}=T;R.length&&U&7&&(s&&R.some(Xc)&&(w=H0(w,s)),T=rr(T,w))}return n.dirs&&(T=rr(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),y=T,Xs(E),y}const z0=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ru(n))&&((t||(t={}))[n]=e[n]);return t},H0=(e,t)=>{const n={};for(const r in e)(!Xc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function K0(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:u,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Wf(r,s,c):!!s;if(a&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(s[h]!==r[h]&&!Vu(c,h))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===s?!1:r?s?Wf(r,s,c):!0:!!s;return!1}function Wf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Vu(n,o))return!0}return!1}function W0({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const G0=e=>e.__isSuspense;function Q0(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):B0(e)}function Fs(e,t){if(Qe){let n=Qe.provides;const r=Qe.parent&&Qe.parent.provides;r===n&&(n=Qe.provides=Object.create(r)),n[e]=t}}function Zn(e,t,n=!1){const r=Qe||ft;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ie(t)?t.call(r.proxy):t}}function Y0(e,t){return cl(e,null,t)}const Gf={};function yi(e,t,n){return cl(e,t,n)}function cl(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Se){const u=Qe;let a,c=!1,l=!1;if(lt(e)?(a=()=>e.value,c=nc(e)):vi(e)?(a=()=>e,r=!0):ee(e)?(l=!0,c=e.some(w=>vi(w)||nc(w)),a=()=>e.map(w=>{if(lt(w))return w.value;if(vi(w))return Tr(w);if(ie(w))return Jn(w,u,2)})):ie(e)?t?a=()=>Jn(e,u,2):a=()=>{if(!(u&&u.isUnmounted))return f&&f(),Ht(e,u,3,[h])}:a=Xt,t&&r){const w=a;a=()=>Tr(w())}let f,h=w=>{f=y.onStop=()=>{Jn(w,u,4)}};if(Po)return h=Xt,t?n&&Ht(t,u,3,[a(),l?[]:void 0,h]):a(),Xt;let d=l?[]:Gf;const p=()=>{if(!!y.active)if(t){const w=y.run();(r||c||(l?w.some((E,T)=>xo(E,d[T])):xo(w,d)))&&(f&&f(),Ht(t,u,3,[w,d===Gf?void 0:d,h]),d=w)}else y.run()};p.allowRecurse=!!t;let m;i==="sync"?m=p:i==="post"?m=()=>Et(p,u&&u.suspense):m=()=>j0(p);const y=new tl(a,m);return t?n?p():d=y.run():i==="post"?Et(y.run.bind(y),u&&u.suspense):y.run(),()=>{y.stop(),u&&u.scope&&Jc(u.scope.effects,y)}}function X0(e,t,n){const r=this.proxy,i=Ye(e)?e.includes(".")?zp(r,e):()=>r[e]:e.bind(r,r);let o;ie(t)?o=t:(o=t.handler,n=t);const s=Qe;Ei(this);const u=cl(i,o.bind(r),n);return s?Ei(s):Nr(),u}function zp(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Tr(e,t){if(!Ue(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))Tr(e.value,t);else if(ee(e))for(let n=0;n<e.length;n++)Tr(e[n],t);else if(gp(e)||mi(e))e.forEach(n=>{Tr(n,t)});else if(yp(e))for(const n in e)Tr(e[n],t);return e}function J0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vo(()=>{e.isMounted=!0}),Qp(()=>{e.isUnmounting=!0}),e}const Bt=[Function,Array],Z0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bt,onEnter:Bt,onAfterEnter:Bt,onEnterCancelled:Bt,onBeforeLeave:Bt,onLeave:Bt,onAfterLeave:Bt,onLeaveCancelled:Bt,onBeforeAppear:Bt,onAppear:Bt,onAfterAppear:Bt,onAppearCancelled:Bt},setup(e,{slots:t}){const n=Vw(),r=J0();let i;return()=>{const o=t.default&&Wp(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const m of o)if(m.type!==Kt){s=m;break}}const u=ve(e),{mode:a}=u;if(r.isLeaving)return Sa(s);const c=Qf(s);if(!c)return Sa(s);const l=oc(c,u,r,n);sc(c,l);const f=n.subTree,h=f&&Qf(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(h&&h.type!==Kt&&(!wr(c,h)||d)){const m=oc(h,u,r,n);if(sc(h,m),a==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},Sa(s);a==="in-out"&&c.type!==Kt&&(m.delayLeave=(y,w,E)=>{const T=Kp(r,h);T[String(h.key)]=h,y._leaveCb=()=>{w(),y._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=E})}return s}}},Hp=Z0;function Kp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oc(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:u,onEnter:a,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:w,onAppearCancelled:E}=t,T=String(e.key),R=Kp(n,e),U=(ne,se)=>{ne&&Ht(ne,r,9,se)},Q=(ne,se)=>{const we=se[1];U(ne,se),ee(ne)?ne.every(Pe=>Pe.length<=1)&&we():ne.length<=1&&we()},ce={mode:o,persisted:s,beforeEnter(ne){let se=u;if(!n.isMounted)if(i)se=m||u;else return;ne._leaveCb&&ne._leaveCb(!0);const we=R[T];we&&wr(e,we)&&we.el._leaveCb&&we.el._leaveCb(),U(se,[ne])},enter(ne){let se=a,we=c,Pe=l;if(!n.isMounted)if(i)se=y||a,we=w||c,Pe=E||l;else return;let B=!1;const De=ne._enterCb=it=>{B||(B=!0,it?U(Pe,[ne]):U(we,[ne]),ce.delayedLeave&&ce.delayedLeave(),ne._enterCb=void 0)};se?Q(se,[ne,De]):De()},leave(ne,se){const we=String(e.key);if(ne._enterCb&&ne._enterCb(!0),n.isUnmounting)return se();U(f,[ne]);let Pe=!1;const B=ne._leaveCb=De=>{Pe||(Pe=!0,se(),De?U(p,[ne]):U(d,[ne]),ne._leaveCb=void 0,R[we]===e&&delete R[we])};R[we]=e,h?Q(h,[ne,B]):B()},clone(ne){return oc(ne,t,n,r)}};return ce}function Sa(e){if(qu(e))return e=rr(e),e.children=null,e}function Qf(e){return qu(e)?e.children?e.children[0]:void 0:e}function sc(e,t){e.shapeFlag&6&&e.component?sc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wp(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const u=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Rt?(s.patchFlag&128&&i++,r=r.concat(Wp(s.children,t,u))):(t||s.type!==Kt)&&r.push(u!=null?rr(s,{key:u}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Uu(e){return ie(e)?{setup:e,name:e.name}:e}const mo=e=>!!e.type.__asyncLoader,qu=e=>e.type.__isKeepAlive;function ew(e,t){Gp(e,"a",t)}function tw(e,t){Gp(e,"da",t)}function Gp(e,t,n=Qe){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ju(t,r,n),n){let i=n.parent;for(;i&&i.parent;)qu(i.parent.vnode)&&nw(r,t,n,i),i=i.parent}}function nw(e,t,n,r){const i=ju(t,e,r,!0);Ro(()=>{Jc(r[t],i)},n)}function ju(e,t,n=Qe,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;$i(),Ei(n);const u=Ht(t,n,e,s);return Nr(),zi(),u});return r?i.unshift(o):i.push(o),o}}const Rn=e=>(t,n=Qe)=>(!Po||e==="sp")&&ju(e,t,n),rw=Rn("bm"),vo=Rn("m"),iw=Rn("bu"),ow=Rn("u"),Qp=Rn("bum"),Ro=Rn("um"),sw=Rn("sp"),uw=Rn("rtg"),aw=Rn("rtc");function cw(e,t=Qe){ju("ec",e,t)}function yr(e,t){const n=ft;if(n===null)return e;const r=$u(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,u,a,c=Se]=t[o];ie(s)&&(s={mounted:s,updated:s}),s.deep&&Tr(u),i.push({dir:s,instance:r,value:u,oldValue:void 0,arg:a,modifiers:c})}return e}function fr(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const u=i[s];o&&(u.oldValue=o[s].value);let a=u.dir[r];a&&($i(),Ht(a,n,8,[e.el,u,e,t]),zi())}}const Yp="components",lw="directives";function hi(e,t){return Xp(Yp,e,!0,t)||e}const fw=Symbol();function hw(e){return Xp(lw,e)}function Xp(e,t,n=!0,r=!1){const i=ft||Qe;if(i){const o=i.type;if(e===Yp){const u=$w(o,!1);if(u&&(u===t||u===vn(t)||u===Pu(vn(t))))return o}const s=Yf(i[e]||o[e],t)||Yf(i.appContext[e],t);return!s&&r?o:s}}function Yf(e,t){return e&&(e[t]||e[vn(t)]||e[Pu(vn(t))])}function dw(e,t,n,r){let i;const o=n&&n[r];if(ee(e)||Ye(e)){i=new Array(e.length);for(let s=0,u=e.length;s<u;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ue(e))if(e[Symbol.iterator])i=Array.from(e,(s,u)=>t(s,u,void 0,o&&o[u]));else{const s=Object.keys(e);i=new Array(s.length);for(let u=0,a=s.length;u<a;u++){const c=s[u];i[u]=t(e[c],c,u,o&&o[u])}}else i=[];return n&&(n[r]=i),i}function Jt(e,t,n={},r,i){if(ft.isCE||ft.parent&&mo(ft.parent)&&ft.parent.isCE)return le("slot",t==="default"?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),Ce();const s=o&&Jp(o(n)),u=Ge(Rt,{key:n.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function Jp(e){return e.some(t=>eu(t)?!(t.type===Kt||t.type===Rt&&!Jp(t.children)):!0)?e:null}const uc=e=>e?lg(e)?$u(e)||e.proxy:uc(e.parent):null,Js=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uc(e.parent),$root:e=>uc(e.root),$emit:e=>e.emit,$options:e=>eg(e),$forceUpdate:e=>e.f||(e.f=()=>Fp(e.update)),$nextTick:e=>e.n||(e.n=al.bind(e.proxy)),$watch:e=>X0.bind(e)}),pw={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:u,appContext:a}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Se&&de(r,t))return s[t]=1,r[t];if(i!==Se&&de(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&de(c,t))return s[t]=3,o[t];if(n!==Se&&de(n,t))return s[t]=4,n[t];ac&&(s[t]=0)}}const l=Js[t];let f,h;if(l)return t==="$attrs"&&Ut(e,"get",t),l(e);if((f=u.__cssModules)&&(f=f[t]))return f;if(n!==Se&&de(n,t))return s[t]=4,n[t];if(h=a.config.globalProperties,de(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Se&&de(i,t)?(i[t]=n,!0):r!==Se&&de(r,t)?(r[t]=n,!0):de(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let u;return!!n[s]||e!==Se&&de(e,s)||t!==Se&&de(t,s)||(u=o[0])&&de(u,s)||de(r,s)||de(Js,s)||de(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:de(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let ac=!0;function gw(e){const t=eg(e),n=e.proxy,r=e.ctx;ac=!1,t.beforeCreate&&Xf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:u,provide:a,inject:c,created:l,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:E,destroyed:T,unmounted:R,render:U,renderTracked:Q,renderTriggered:ce,errorCaptured:ne,serverPrefetch:se,expose:we,inheritAttrs:Pe,components:B,directives:De,filters:it}=t;if(c&&mw(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const Ae in s){const be=s[Ae];ie(be)&&(r[Ae]=be.bind(n))}if(i){const Ae=i.call(n,n);Ue(Ae)&&(e.data=$r(Ae))}if(ac=!0,o)for(const Ae in o){const be=o[Ae],Nt=ie(be)?be.bind(n,n):ie(be.get)?be.get.bind(n,n):Xt,Zr=!ie(be)&&ie(be.set)?be.set.bind(n):Xt,_n=ct({get:Nt,set:Zr});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>_n.value,set:sn=>_n.value=sn})}if(u)for(const Ae in u)Zp(u[Ae],r,n,Ae);if(a){const Ae=ie(a)?a.call(n):a;Reflect.ownKeys(Ae).forEach(be=>{Fs(be,Ae[be])})}l&&Xf(l,e,"c");function Me(Ae,be){ee(be)?be.forEach(Nt=>Ae(Nt.bind(n))):be&&Ae(be.bind(n))}if(Me(rw,f),Me(vo,h),Me(iw,d),Me(ow,p),Me(ew,m),Me(tw,y),Me(cw,ne),Me(aw,Q),Me(uw,ce),Me(Qp,E),Me(Ro,R),Me(sw,se),ee(we))if(we.length){const Ae=e.exposed||(e.exposed={});we.forEach(be=>{Object.defineProperty(Ae,be,{get:()=>n[be],set:Nt=>n[be]=Nt})})}else e.exposed||(e.exposed={});U&&e.render===Xt&&(e.render=U),Pe!=null&&(e.inheritAttrs=Pe),B&&(e.components=B),De&&(e.directives=De)}function mw(e,t,n=Xt,r=!1){ee(e)&&(e=cc(e));for(const i in e){const o=e[i];let s;Ue(o)?"default"in o?s=Zn(o.from||i,o.default,!0):s=Zn(o.from||i):s=Zn(o),lt(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[i]=s}}function Xf(e,t,n){Ht(ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Zp(e,t,n,r){const i=r.includes(".")?zp(n,r):()=>n[r];if(Ye(e)){const o=t[e];ie(o)&&yi(i,o)}else if(ie(e))yi(i,e.bind(n));else if(Ue(e))if(ee(e))e.forEach(o=>Zp(o,t,n,r));else{const o=ie(e.handler)?e.handler.bind(n):t[e.handler];ie(o)&&yi(i,o,e)}}function eg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,u=o.get(t);let a;return u?a=u:!i.length&&!n&&!r?a=t:(a={},i.length&&i.forEach(c=>Zs(a,c,s,!0)),Zs(a,t,s)),o.set(t,a),a}function Zs(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Zs(e,o,n,!0),i&&i.forEach(s=>Zs(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const u=vw[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const vw={data:Jf,props:mr,emits:mr,methods:mr,computed:mr,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:mr,directives:mr,watch:ww,provide:Jf,inject:yw};function Jf(e,t){return t?e?function(){return nt(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function yw(e,t){return mr(cc(e),cc(t))}function cc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function mr(e,t){return e?nt(nt(Object.create(null),e),t):t}function ww(e,t){if(!e)return t;if(!t)return e;const n=nt(Object.create(null),e);for(const r in t)n[r]=mt(e[r],t[r]);return n}function bw(e,t,n,r=!1){const i={},o={};Gs(o,Bu,1),e.propsDefaults=Object.create(null),tg(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:R0(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function _w(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,u=ve(i),[a]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(Vu(e.emitsOptions,h))continue;const d=t[h];if(a)if(de(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=vn(h);i[p]=lc(a,u,p,d,e,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{tg(e,t,i,o)&&(c=!0);let l;for(const f in u)(!t||!de(t,f)&&((l=Br(f))===f||!de(t,l)))&&(a?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=lc(a,u,f,void 0,e,!0)):delete i[f]);if(o!==u)for(const f in o)(!t||!de(t,f)&&!0)&&(delete o[f],c=!0)}c&&Dn(e,"set","$attrs")}function tg(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,u;if(t)for(let a in t){if(Ls(a))continue;const c=t[a];let l;i&&de(i,l=vn(a))?!o||!o.includes(l)?n[l]=c:(u||(u={}))[l]=c:Vu(e.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,s=!0)}if(o){const a=ve(n),c=u||Se;for(let l=0;l<o.length;l++){const f=o[l];n[f]=lc(i,a,f,c[f],e,!de(c,f))}}return s}function lc(e,t,n,r,i,o){const s=e[n];if(s!=null){const u=de(s,"default");if(u&&r===void 0){const a=s.default;if(s.type!==Function&&ie(a)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ei(i),r=c[n]=a.call(null,t),Nr())}else r=a}s[0]&&(o&&!u?r=!1:s[1]&&(r===""||r===Br(n))&&(r=!0))}return r}function ng(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},u=[];let a=!1;if(!ie(e)){const l=f=>{a=!0;const[h,d]=ng(f,t,!0);nt(s,h),d&&u.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!a)return r.set(e,gi),gi;if(ee(o))for(let l=0;l<o.length;l++){const f=vn(o[l]);Zf(f)&&(s[f]=Se)}else if(o)for(const l in o){const f=vn(l);if(Zf(f)){const h=o[l],d=s[f]=ee(h)||ie(h)?{type:h}:h;if(d){const p=nh(Boolean,d.type),m=nh(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||de(d,"default"))&&u.push(f)}}}const c=[s,u];return r.set(e,c),c}function Zf(e){return e[0]!=="$"}function eh(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function th(e,t){return eh(e)===eh(t)}function nh(e,t){return ee(t)?t.findIndex(n=>th(n,e)):ie(t)&&th(t,e)?0:-1}const rg=e=>e[0]==="_"||e==="$stable",ll=e=>ee(e)?e.map(pn):[pn(e)],Ew=(e,t,n)=>{if(t._n)return t;const r=zt((...i)=>ll(t(...i)),n);return r._c=!1,r},ig=(e,t,n)=>{const r=e._ctx;for(const i in e){if(rg(i))continue;const o=e[i];if(ie(o))t[i]=Ew(i,o,r);else if(o!=null){const s=ll(o);t[i]=()=>s}}},og=(e,t)=>{const n=ll(t);e.slots.default=()=>n},Tw=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ve(t),Gs(t,"_",n)):ig(t,e.slots={})}else e.slots={},t&&og(e,t);Gs(e.slots,Bu,1)},Iw=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Se;if(r.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:(nt(i,t),!n&&u===1&&delete i._):(o=!t.$stable,ig(t,i)),s=t}else t&&(og(e,t),s={default:1});if(o)for(const u in i)!rg(u)&&!(u in s)&&delete i[u]};function sg(){return{app:null,config:{isNativeTag:Jy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sw=0;function Cw(e,t){return function(r,i=null){ie(r)||(r=Object.assign({},r)),i!=null&&!Ue(i)&&(i=null);const o=sg(),s=new Set;let u=!1;const a=o.app={_uid:Sw++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Hw,get config(){return o.config},set config(c){},use(c,...l){return s.has(c)||(c&&ie(c.install)?(s.add(c),c.install(a,...l)):ie(c)&&(s.add(c),c(a,...l))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,l){return l?(o.components[c]=l,a):o.components[c]},directive(c,l){return l?(o.directives[c]=l,a):o.directives[c]},mount(c,l,f){if(!u){const h=le(r,i);return h.appContext=o,l&&t?t(h,c):e(h,c,f),u=!0,a._container=c,c.__vue_app__=a,$u(h.component)||h.component.proxy}},unmount(){u&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,l){return o.provides[c]=l,a}};return a}}function fc(e,t,n,r,i=!1){if(ee(e)){e.forEach((h,d)=>fc(h,t&&(ee(t)?t[d]:t),n,r,i));return}if(mo(r)&&!i)return;const o=r.shapeFlag&4?$u(r.component)||r.component.proxy:r.el,s=i?null:o,{i:u,r:a}=e,c=t&&t.r,l=u.refs===Se?u.refs={}:u.refs,f=u.setupState;if(c!=null&&c!==a&&(Ye(c)?(l[c]=null,de(f,c)&&(f[c]=null)):lt(c)&&(c.value=null)),ie(a))Jn(a,u,12,[s,l]);else{const h=Ye(a),d=lt(a);if(h||d){const p=()=>{if(e.f){const m=h?l[a]:a.value;i?ee(m)&&Jc(m,o):ee(m)?m.includes(o)||m.push(o):h?(l[a]=[o],de(f,a)&&(f[a]=l[a])):(a.value=[o],e.k&&(l[e.k]=a.value))}else h?(l[a]=s,de(f,a)&&(f[a]=s)):d&&(a.value=s,e.k&&(l[e.k]=s))};s?(p.id=-1,Et(p,n)):p()}}}const Et=Q0;function Aw(e){return xw(e)}function xw(e,t){const n=i0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:u,createComment:a,setText:c,setElementText:l,parentNode:f,nextSibling:h,setScopeId:d=Xt,cloneNode:p,insertStaticContent:m}=e,y=(g,v,_,N=null,A=null,L=null,q=!1,P=null,M=!!v.dynamicChildren)=>{if(g===v)return;g&&!wr(g,v)&&(N=K(g),jt(g,A,L,!0),g=null),v.patchFlag===-2&&(M=!1,v.dynamicChildren=null);const{type:D,ref:Y,shapeFlag:$}=v;switch(D){case fl:w(g,v,_,N);break;case Kt:E(g,v,_,N);break;case Ca:g==null&&T(v,_,N,q);break;case Rt:De(g,v,_,N,A,L,q,P,M);break;default:$&1?Q(g,v,_,N,A,L,q,P,M):$&6?it(g,v,_,N,A,L,q,P,M):($&64||$&128)&&D.process(g,v,_,N,A,L,q,P,M,xe)}Y!=null&&A&&fc(Y,g&&g.ref,L,v||g,!v)},w=(g,v,_,N)=>{if(g==null)r(v.el=u(v.children),_,N);else{const A=v.el=g.el;v.children!==g.children&&c(A,v.children)}},E=(g,v,_,N)=>{g==null?r(v.el=a(v.children||""),_,N):v.el=g.el},T=(g,v,_,N)=>{[g.el,g.anchor]=m(g.children,v,_,N,g.el,g.anchor)},R=({el:g,anchor:v},_,N)=>{let A;for(;g&&g!==v;)A=h(g),r(g,_,N),g=A;r(v,_,N)},U=({el:g,anchor:v})=>{let _;for(;g&&g!==v;)_=h(g),i(g),g=_;i(v)},Q=(g,v,_,N,A,L,q,P,M)=>{q=q||v.type==="svg",g==null?ce(v,_,N,A,L,q,P,M):we(g,v,A,L,q,P,M)},ce=(g,v,_,N,A,L,q,P)=>{let M,D;const{type:Y,props:$,shapeFlag:X,transition:re,patchFlag:pe,dirs:Ee}=g;if(g.el&&p!==void 0&&pe===-1)M=g.el=p(g.el);else{if(M=g.el=s(g.type,L,$&&$.is,$),X&8?l(M,g.children):X&16&&se(g.children,M,null,N,A,L&&Y!=="foreignObject",q,P),Ee&&fr(g,null,N,"created"),$){for(const Oe in $)Oe!=="value"&&!Ls(Oe)&&o(M,Oe,null,$[Oe],L,g.children,N,A,F);"value"in $&&o(M,"value",null,$.value),(D=$.onVnodeBeforeMount)&&an(D,N,g)}ne(M,g,g.scopeId,q,N)}Ee&&fr(g,null,N,"beforeMount");const Te=(!A||A&&!A.pendingBranch)&&re&&!re.persisted;Te&&re.beforeEnter(M),r(M,v,_),((D=$&&$.onVnodeMounted)||Te||Ee)&&Et(()=>{D&&an(D,N,g),Te&&re.enter(M),Ee&&fr(g,null,N,"mounted")},A)},ne=(g,v,_,N,A)=>{if(_&&d(g,_),N)for(let L=0;L<N.length;L++)d(g,N[L]);if(A){let L=A.subTree;if(v===L){const q=A.vnode;ne(g,q,q.scopeId,q.slotScopeIds,A.parent)}}},se=(g,v,_,N,A,L,q,P,M=0)=>{for(let D=M;D<g.length;D++){const Y=g[D]=P?$n(g[D]):pn(g[D]);y(null,Y,v,_,N,A,L,q,P)}},we=(g,v,_,N,A,L,q)=>{const P=v.el=g.el;let{patchFlag:M,dynamicChildren:D,dirs:Y}=v;M|=g.patchFlag&16;const $=g.props||Se,X=v.props||Se;let re;_&&hr(_,!1),(re=X.onVnodeBeforeUpdate)&&an(re,_,v,g),Y&&fr(v,g,_,"beforeUpdate"),_&&hr(_,!0);const pe=A&&v.type!=="foreignObject";if(D?Pe(g.dynamicChildren,D,P,_,N,pe,L):q||Nt(g,v,P,null,_,N,pe,L,!1),M>0){if(M&16)B(P,v,$,X,_,N,A);else if(M&2&&$.class!==X.class&&o(P,"class",null,X.class,A),M&4&&o(P,"style",$.style,X.style,A),M&8){const Ee=v.dynamicProps;for(let Te=0;Te<Ee.length;Te++){const Oe=Ee[Te],Wt=$[Oe],ei=X[Oe];(ei!==Wt||Oe==="value")&&o(P,Oe,Wt,ei,A,g.children,_,N,F)}}M&1&&g.children!==v.children&&l(P,v.children)}else!q&&D==null&&B(P,v,$,X,_,N,A);((re=X.onVnodeUpdated)||Y)&&Et(()=>{re&&an(re,_,v,g),Y&&fr(v,g,_,"updated")},N)},Pe=(g,v,_,N,A,L,q)=>{for(let P=0;P<v.length;P++){const M=g[P],D=v[P],Y=M.el&&(M.type===Rt||!wr(M,D)||M.shapeFlag&70)?f(M.el):_;y(M,D,Y,null,N,A,L,q,!0)}},B=(g,v,_,N,A,L,q)=>{if(_!==N){for(const P in N){if(Ls(P))continue;const M=N[P],D=_[P];M!==D&&P!=="value"&&o(g,P,D,M,q,v.children,A,L,F)}if(_!==Se)for(const P in _)!Ls(P)&&!(P in N)&&o(g,P,_[P],null,q,v.children,A,L,F);"value"in N&&o(g,"value",_.value,N.value)}},De=(g,v,_,N,A,L,q,P,M)=>{const D=v.el=g?g.el:u(""),Y=v.anchor=g?g.anchor:u("");let{patchFlag:$,dynamicChildren:X,slotScopeIds:re}=v;re&&(P=P?P.concat(re):re),g==null?(r(D,_,N),r(Y,_,N),se(v.children,_,Y,A,L,q,P,M)):$>0&&$&64&&X&&g.dynamicChildren?(Pe(g.dynamicChildren,X,_,A,L,q,P),(v.key!=null||A&&v===A.subTree)&&ug(g,v,!0)):Nt(g,v,_,Y,A,L,q,P,M)},it=(g,v,_,N,A,L,q,P,M)=>{v.slotScopeIds=P,g==null?v.shapeFlag&512?A.ctx.activate(v,_,N,q,M):bn(v,_,N,A,L,q,M):Me(g,v,M)},bn=(g,v,_,N,A,L,q)=>{const P=g.component=Fw(g,N,A);if(qu(g)&&(P.ctx.renderer=xe),Uw(P),P.asyncDep){if(A&&A.registerDep(P,Ae),!g.el){const M=P.subTree=le(Kt);E(null,M,v,_)}return}Ae(P,g,v,_,A,L,q)},Me=(g,v,_)=>{const N=v.component=g.component;if(K0(g,v,_))if(N.asyncDep&&!N.asyncResolved){be(N,v,_);return}else N.next=v,q0(N.update),N.update();else v.el=g.el,N.vnode=v},Ae=(g,v,_,N,A,L,q)=>{const P=()=>{if(g.isMounted){let{next:Y,bu:$,u:X,parent:re,vnode:pe}=g,Ee=Y,Te;hr(g,!1),Y?(Y.el=pe.el,be(g,Y,q)):Y=pe,$&&Ms($),(Te=Y.props&&Y.props.onVnodeBeforeUpdate)&&an(Te,re,Y,pe),hr(g,!0);const Oe=Ia(g),Wt=g.subTree;g.subTree=Oe,y(Wt,Oe,f(Wt.el),K(Wt),g,A,L),Y.el=Oe.el,Ee===null&&W0(g,Oe.el),X&&Et(X,A),(Te=Y.props&&Y.props.onVnodeUpdated)&&Et(()=>an(Te,re,Y,pe),A)}else{let Y;const{el:$,props:X}=v,{bm:re,m:pe,parent:Ee}=g,Te=mo(v);if(hr(g,!1),re&&Ms(re),!Te&&(Y=X&&X.onVnodeBeforeMount)&&an(Y,Ee,v),hr(g,!0),$&&oe){const Oe=()=>{g.subTree=Ia(g),oe($,g.subTree,g,A,null)};Te?v.type.__asyncLoader().then(()=>!g.isUnmounted&&Oe()):Oe()}else{const Oe=g.subTree=Ia(g);y(null,Oe,_,N,g,A,L),v.el=Oe.el}if(pe&&Et(pe,A),!Te&&(Y=X&&X.onVnodeMounted)){const Oe=v;Et(()=>an(Y,Ee,Oe),A)}(v.shapeFlag&256||Ee&&mo(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&g.a&&Et(g.a,A),g.isMounted=!0,v=_=N=null}},M=g.effect=new tl(P,()=>Fp(D),g.scope),D=g.update=()=>M.run();D.id=g.uid,hr(g,!0),D()},be=(g,v,_)=>{v.component=g;const N=g.vnode.props;g.vnode=v,g.next=null,_w(g,v.props,N,_),Iw(g,v.children,_),$i(),Fu(void 0,g.update),zi()},Nt=(g,v,_,N,A,L,q,P,M=!1)=>{const D=g&&g.children,Y=g?g.shapeFlag:0,$=v.children,{patchFlag:X,shapeFlag:re}=v;if(X>0){if(X&128){_n(D,$,_,N,A,L,q,P,M);return}else if(X&256){Zr(D,$,_,N,A,L,q,P,M);return}}re&8?(Y&16&&F(D,A,L),$!==D&&l(_,$)):Y&16?re&16?_n(D,$,_,N,A,L,q,P,M):F(D,A,L,!0):(Y&8&&l(_,""),re&16&&se($,_,N,A,L,q,P,M))},Zr=(g,v,_,N,A,L,q,P,M)=>{g=g||gi,v=v||gi;const D=g.length,Y=v.length,$=Math.min(D,Y);let X;for(X=0;X<$;X++){const re=v[X]=M?$n(v[X]):pn(v[X]);y(g[X],re,_,null,A,L,q,P,M)}D>Y?F(g,A,L,!0,!1,$):se(v,_,N,A,L,q,P,M,$)},_n=(g,v,_,N,A,L,q,P,M)=>{let D=0;const Y=v.length;let $=g.length-1,X=Y-1;for(;D<=$&&D<=X;){const re=g[D],pe=v[D]=M?$n(v[D]):pn(v[D]);if(wr(re,pe))y(re,pe,_,null,A,L,q,P,M);else break;D++}for(;D<=$&&D<=X;){const re=g[$],pe=v[X]=M?$n(v[X]):pn(v[X]);if(wr(re,pe))y(re,pe,_,null,A,L,q,P,M);else break;$--,X--}if(D>$){if(D<=X){const re=X+1,pe=re<Y?v[re].el:N;for(;D<=X;)y(null,v[D]=M?$n(v[D]):pn(v[D]),_,pe,A,L,q,P,M),D++}}else if(D>X)for(;D<=$;)jt(g[D],A,L,!0),D++;else{const re=D,pe=D,Ee=new Map;for(D=pe;D<=X;D++){const Dt=v[D]=M?$n(v[D]):pn(v[D]);Dt.key!=null&&Ee.set(Dt.key,D)}let Te,Oe=0;const Wt=X-pe+1;let ei=!1,Lf=0;const no=new Array(Wt);for(D=0;D<Wt;D++)no[D]=0;for(D=re;D<=$;D++){const Dt=g[D];if(Oe>=Wt){jt(Dt,A,L,!0);continue}let un;if(Dt.key!=null)un=Ee.get(Dt.key);else for(Te=pe;Te<=X;Te++)if(no[Te-pe]===0&&wr(Dt,v[Te])){un=Te;break}un===void 0?jt(Dt,A,L,!0):(no[un-pe]=D+1,un>=Lf?Lf=un:ei=!0,y(Dt,v[un],_,null,A,L,q,P,M),Oe++)}const Mf=ei?Nw(no):gi;for(Te=Mf.length-1,D=Wt-1;D>=0;D--){const Dt=pe+D,un=v[Dt],Ff=Dt+1<Y?v[Dt+1].el:N;no[D]===0?y(null,un,_,Ff,A,L,q,P,M):ei&&(Te<0||D!==Mf[Te]?sn(un,_,Ff,2):Te--)}}},sn=(g,v,_,N,A=null)=>{const{el:L,type:q,transition:P,children:M,shapeFlag:D}=g;if(D&6){sn(g.component.subTree,v,_,N);return}if(D&128){g.suspense.move(v,_,N);return}if(D&64){q.move(g,v,_,xe);return}if(q===Rt){r(L,v,_);for(let $=0;$<M.length;$++)sn(M[$],v,_,N);r(g.anchor,v,_);return}if(q===Ca){R(g,v,_);return}if(N!==2&&D&1&&P)if(N===0)P.beforeEnter(L),r(L,v,_),Et(()=>P.enter(L),A);else{const{leave:$,delayLeave:X,afterLeave:re}=P,pe=()=>r(L,v,_),Ee=()=>{$(L,()=>{pe(),re&&re()})};X?X(L,pe,Ee):Ee()}else r(L,v,_)},jt=(g,v,_,N=!1,A=!1)=>{const{type:L,props:q,ref:P,children:M,dynamicChildren:D,shapeFlag:Y,patchFlag:$,dirs:X}=g;if(P!=null&&fc(P,null,_,g,!0),Y&256){v.ctx.deactivate(g);return}const re=Y&1&&X,pe=!mo(g);let Ee;if(pe&&(Ee=q&&q.onVnodeBeforeUnmount)&&an(Ee,v,g),Y&6)z(g.component,_,N);else{if(Y&128){g.suspense.unmount(_,N);return}re&&fr(g,null,v,"beforeUnmount"),Y&64?g.type.remove(g,v,_,A,xe,N):D&&(L!==Rt||$>0&&$&64)?F(D,v,_,!1,!0):(L===Rt&&$&384||!A&&Y&16)&&F(M,v,_),N&&to(g)}(pe&&(Ee=q&&q.onVnodeUnmounted)||re)&&Et(()=>{Ee&&an(Ee,v,g),re&&fr(g,null,v,"unmounted")},_)},to=g=>{const{type:v,el:_,anchor:N,transition:A}=g;if(v===Rt){S(_,N);return}if(v===Ca){U(g);return}const L=()=>{i(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:q,delayLeave:P}=A,M=()=>q(_,L);P?P(g.el,L,M):M()}else L()},S=(g,v)=>{let _;for(;g!==v;)_=h(g),i(g),g=_;i(v)},z=(g,v,_)=>{const{bum:N,scope:A,update:L,subTree:q,um:P}=g;N&&Ms(N),A.stop(),L&&(L.active=!1,jt(q,g,v,_)),P&&Et(P,v),Et(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},F=(g,v,_,N=!1,A=!1,L=0)=>{for(let q=L;q<g.length;q++)jt(g[q],v,_,N,A)},K=g=>g.shapeFlag&6?K(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),_e=(g,v,_)=>{g==null?v._vnode&&jt(v._vnode,null,null,!0):y(v._vnode||null,g,v,null,null,null,_),qp(),v._vnode=g},xe={p:y,um:jt,m:sn,r:to,mt:bn,mc:se,pc:Nt,pbc:Pe,n:K,o:e};let ue,oe;return t&&([ue,oe]=t(xe)),{render:_e,hydrate:ue,createApp:Cw(_e,ue)}}function hr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ug(e,t,n=!1){const r=e.children,i=t.children;if(ee(r)&&ee(i))for(let o=0;o<r.length;o++){const s=r[o];let u=i[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[o]=$n(i[o]),u.el=s.el),n||ug(s,u))}}function Nw(e){const t=e.slice(),n=[0];let r,i,o,s,u;const a=e.length;for(r=0;r<a;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)u=o+s>>1,e[n[u]]<c?o=u+1:s=u;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const Dw=e=>e.__isTeleport,Rt=Symbol(void 0),fl=Symbol(void 0),Kt=Symbol(void 0),Ca=Symbol(void 0),yo=[];let Yt=null;function Ce(e=!1){yo.push(Yt=e?null:[])}function Ow(){yo.pop(),Yt=yo[yo.length-1]||null}let ko=1;function rh(e){ko+=e}function ag(e){return e.dynamicChildren=ko>0?Yt||gi:null,Ow(),ko>0&&Yt&&Yt.push(e),e}function Cn(e,t,n,r,i,o){return ag(G(e,t,n,r,i,o,!0))}function Ge(e,t,n,r,i){return ag(le(e,t,n,r,i,!0))}function eu(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const Bu="__vInternal",cg=({key:e})=>e!=null?e:null,Vs=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ye(e)||lt(e)||ie(e)?{i:ft,r:e,k:t,f:!!n}:e:null;function G(e,t=null,n=null,r=0,i=null,o=e===Rt?0:1,s=!1,u=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cg(t),ref:t&&Vs(t),scopeId:$p,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(hl(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=Ye(n)?8:16),ko>0&&!s&&Yt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Yt.push(a),a}const le=Rw;function Rw(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===fw)&&(e=Kt),eu(e)){const u=rr(e,t,!0);return n&&hl(u,n),ko>0&&!o&&Yt&&(u.shapeFlag&6?Yt[Yt.indexOf(e)]=u:Yt.push(u)),u.patchFlag|=-2,u}if(zw(e)&&(e=e.__vccOpts),t){t=kw(t);let{class:u,style:a}=t;u&&!Ye(u)&&(t.class=_i(u)),Ue(a)&&(Dp(a)&&!ee(a)&&(a=nt({},a)),t.style=Yc(a))}const s=Ye(e)?1:G0(e)?128:Dw(e)?64:Ue(e)?4:ie(e)?2:0;return G(e,t,n,r,i,s,o,!0)}function kw(e){return e?Dp(e)||Bu in e?nt({},e):e:null}function rr(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,u=t?Pw(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&cg(u),ref:t&&t.ref?n&&i?ee(i)?i.concat(Vs(t)):[i,Vs(t)]:Vs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Rt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rr(e.ssContent),ssFallback:e.ssFallback&&rr(e.ssFallback),el:e.el,anchor:e.anchor}}function Pr(e=" ",t=0){return le(fl,null,e,t)}function hn(e="",t=!1){return t?(Ce(),Ge(Kt,null,e)):le(Kt,null,e)}function pn(e){return e==null||typeof e=="boolean"?le(Kt):ee(e)?le(Rt,null,e.slice()):typeof e=="object"?$n(e):le(fl,null,String(e))}function $n(e){return e.el===null||e.memo?e:rr(e)}function hl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),hl(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Bu in t)?t._ctx=ft:i===3&&ft&&(ft.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:ft},n=32):(t=String(t),r&64?(n=16,t=[Pr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Pw(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=_i([t.class,r.class]));else if(i==="style")t.style=Yc([t.style,r.style]);else if(Ru(i)){const o=t[i],s=r[i];s&&o!==s&&!(ee(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function an(e,t,n,r=null){Ht(e,t,7,[n,r])}const Lw=sg();let Mw=0;function Fw(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Lw,o={uid:Mw++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new o0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ng(r,i),emitsOptions:Bp(r,i),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:r.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=$0.bind(null,o),e.ce&&e.ce(o),o}let Qe=null;const Vw=()=>Qe||ft,Ei=e=>{Qe=e,e.scope.on()},Nr=()=>{Qe&&Qe.scope.off(),Qe=null};function lg(e){return e.vnode.shapeFlag&4}let Po=!1;function Uw(e,t=!1){Po=t;const{props:n,children:r}=e.vnode,i=lg(e);bw(e,n,i,t),Tw(e,r);const o=i?qw(e,t):void 0;return Po=!1,o}function qw(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Op(new Proxy(e.ctx,pw));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?Bw(e):null;Ei(e),$i();const o=Jn(r,e,0,[e.props,i]);if(zi(),Nr(),mp(o)){if(o.then(Nr,Nr),t)return o.then(s=>{ih(e,s,t)}).catch(s=>{Mu(s,e,0)});e.asyncDep=o}else ih(e,o,t)}else fg(e,t)}function ih(e,t,n){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=Lp(t)),fg(e,n)}let oh;function fg(e,t,n){const r=e.type;if(!e.render){if(!t&&oh&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:u,compilerOptions:a}=r,c=nt(nt({isCustomElement:o,delimiters:u},s),a);r.render=oh(i,c)}}e.render=r.render||Xt}Ei(e),$i(),gw(e),zi(),Nr()}function jw(e){return new Proxy(e.attrs,{get(t,n){return Ut(e,"get","$attrs"),t[n]}})}function Bw(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=jw(e))},slots:e.slots,emit:e.emit,expose:t}}function $u(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Lp(Op(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Js)return Js[n](e)}}))}function $w(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function zw(e){return ie(e)&&"__vccOpts"in e}const ct=(e,t)=>F0(e,t,Po);function dl(e,t,n){const r=arguments.length;return r===2?Ue(t)&&!ee(t)?eu(t)?le(e,null,[t]):le(e,t):le(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&eu(n)&&(n=[n]),le(e,t,n))}const Hw="3.2.37",Kw="http://www.w3.org/2000/svg",br=typeof document<"u"?document:null,sh=br&&br.createElement("template"),Ww={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?br.createElementNS(Kw,e):br.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>br.createTextNode(e),createComment:e=>br.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>br.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{sh.innerHTML=r?`<svg>${e}</svg>`:e;const u=sh.content;if(r){const a=u.firstChild;for(;a.firstChild;)u.appendChild(a.firstChild);u.removeChild(a)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Gw(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Qw(e,t,n){const r=e.style,i=Ye(n);if(n&&!i){for(const o in n)hc(r,o,n[o]);if(t&&!Ye(t))for(const o in t)n[o]==null&&hc(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const uh=/\s*!important$/;function hc(e,t,n){if(ee(n))n.forEach(r=>hc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Yw(e,t);uh.test(n)?e.setProperty(Br(r),n.replace(uh,""),"important"):e[r]=n}}const ah=["Webkit","Moz","ms"],Aa={};function Yw(e,t){const n=Aa[t];if(n)return n;let r=vn(t);if(r!=="filter"&&r in e)return Aa[t]=r;r=Pu(r);for(let i=0;i<ah.length;i++){const o=ah[i]+r;if(o in e)return Aa[t]=o}return t}const ch="http://www.w3.org/1999/xlink";function Xw(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ch,t.slice(6,t.length)):e.setAttributeNS(ch,t,n);else{const o=Wy(t);n==null||o&&!dp(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Jw(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const a=n==null?"":n;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=dp(n):n==null&&a==="string"?(n="",u=!0):a==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}const[hg,Zw]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let dc=0;const eb=Promise.resolve(),tb=()=>{dc=0},nb=()=>dc||(eb.then(tb),dc=hg());function _r(e,t,n,r){e.addEventListener(t,n,r)}function rb(e,t,n,r){e.removeEventListener(t,n,r)}function ib(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[u,a]=ob(t);if(r){const c=o[t]=sb(r,i);_r(e,u,c,a)}else s&&(rb(e,u,s,a),o[t]=void 0)}}const lh=/(?:Once|Passive|Capture)$/;function ob(e){let t;if(lh.test(e)){t={};let n;for(;n=e.match(lh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Br(e.slice(2)),t]}function sb(e,t){const n=r=>{const i=r.timeStamp||hg();(Zw||i>=n.attached-1)&&Ht(ub(r,n.value),t,5,[r])};return n.value=e,n.attached=nb(),n}function ub(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const fh=/^on[a-z]/,ab=(e,t,n,r,i=!1,o,s,u,a)=>{t==="class"?Gw(e,r,i):t==="style"?Qw(e,n,r):Ru(t)?Xc(t)||ib(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):cb(e,t,r,i))?Jw(e,t,r,o,s,u,a):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Xw(e,t,r,i))};function cb(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&fh.test(t)&&ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fh.test(t)&&Ye(n)?!1:t in e}const Ln="transition",ro="animation",zu=(e,{slots:t})=>dl(Hp,lb(e),t);zu.displayName="Transition";const dg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};zu.props=nt({},Hp.props,dg);const dr=(e,t=[])=>{ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},hh=e=>e?ee(e)?e.some(t=>t.length>1):e.length>1:!1;function lb(e){const t={};for(const B in e)B in dg||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:a=o,appearActiveClass:c=s,appearToClass:l=u,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=fb(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:T,onLeave:R,onLeaveCancelled:U,onBeforeAppear:Q=w,onAppear:ce=E,onAppearCancelled:ne=T}=t,se=(B,De,it)=>{pr(B,De?l:u),pr(B,De?c:s),it&&it()},we=(B,De)=>{B._isLeaving=!1,pr(B,f),pr(B,d),pr(B,h),De&&De()},Pe=B=>(De,it)=>{const bn=B?ce:E,Me=()=>se(De,B,it);dr(bn,[De,Me]),dh(()=>{pr(De,B?a:o),Mn(De,B?l:u),hh(bn)||ph(De,r,m,Me)})};return nt(t,{onBeforeEnter(B){dr(w,[B]),Mn(B,o),Mn(B,s)},onBeforeAppear(B){dr(Q,[B]),Mn(B,a),Mn(B,c)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(B,De){B._isLeaving=!0;const it=()=>we(B,De);Mn(B,f),pb(),Mn(B,h),dh(()=>{!B._isLeaving||(pr(B,f),Mn(B,d),hh(R)||ph(B,r,y,it))}),dr(R,[B,it])},onEnterCancelled(B){se(B,!1),dr(T,[B])},onAppearCancelled(B){se(B,!0),dr(ne,[B])},onLeaveCancelled(B){we(B),dr(U,[B])}})}function fb(e){if(e==null)return null;if(Ue(e))return[xa(e.enter),xa(e.leave)];{const t=xa(e);return[t,t]}}function xa(e){return Qs(e)}function Mn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function pr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function dh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hb=0;function ph(e,t,n,r){const i=e._endId=++hb,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:u,propCount:a}=db(e,t);if(!s)return r();const c=s+"end";let l=0;const f=()=>{e.removeEventListener(c,h),o()},h=d=>{d.target===e&&++l>=a&&f()};setTimeout(()=>{l<a&&f()},u+1),e.addEventListener(c,h)}function db(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(Ln+"Delay"),o=r(Ln+"Duration"),s=gh(i,o),u=r(ro+"Delay"),a=r(ro+"Duration"),c=gh(u,a);let l=null,f=0,h=0;t===Ln?s>0&&(l=Ln,f=s,h=o.length):t===ro?c>0&&(l=ro,f=c,h=a.length):(f=Math.max(s,c),l=f>0?s>c?Ln:ro:null,h=l?l===Ln?o.length:a.length:0);const d=l===Ln&&/\b(transform|all)(,|$)/.test(n[Ln+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function gh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>mh(n)+mh(e[r])))}function mh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function pb(){return document.body.offsetHeight}const tu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?n=>Ms(t,n):t};function gb(e){e.target.composing=!0}function vh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Na={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=tu(i);const o=r||i.props&&i.props.type==="number";_r(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),o&&(u=Qs(u)),e._assign(u)}),n&&_r(e,"change",()=>{e.value=e.value.trim()}),t||(_r(e,"compositionstart",gb),_r(e,"compositionend",vh),_r(e,"change",vh))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=tu(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Qs(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},mb={created(e,{value:t},n){e.checked=Ws(t,n.props.value),e._assign=tu(n),_r(e,"change",()=>{e._assign(vb(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=tu(r),t!==n&&(e.checked=Ws(t,r.props.value))}};function vb(e){return"_value"in e?e._value:e.value}const yb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pg=(e,t)=>n=>{if(!("key"in n))return;const r=Br(n.key);if(t.some(i=>i===r||yb[i]===r))return e(n)},gg={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):io(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),io(e,!0),r.enter(e)):r.leave(e,()=>{io(e,!1)}):io(e,t))},beforeUnmount(e,{value:t}){io(e,t)}};function io(e,t){e.style.display=t?e._vod:"none"}const wb=nt({patchProp:ab},Ww);let yh;function mg(){return yh||(yh=Aw(wb))}const vg=(...e)=>{mg().render(...e)},bb=(...e)=>{const t=mg().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=_b(r);if(!i)return;const o=t._component;!ie(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function _b(e){return Ye(e)?document.querySelector(e):e}function Eb(){return yg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function yg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Tb=typeof Proxy=="function",Ib="devtools-plugin:setup",Sb="plugin:settings:set";let ti,pc;function Cb(){var e;return ti!==void 0||(typeof window<"u"&&window.performance?(ti=!0,pc=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(ti=!0,pc=global.perf_hooks.performance):ti=!1),ti}function Ab(){return Cb()?pc.now():Date.now()}class xb{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const u=t.settings[s];r[s]=u.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),u=JSON.parse(s);Object.assign(o,u)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Ab()}},n&&n.on(Sb,(s,u)=>{s===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(s,u)=>this.target?this.target.on[u]:(...a)=>{this.onQueue.push({method:u,args:a})}}),this.proxiedTarget=new Proxy({},{get:(s,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...a)=>(this.targetQueue.push({method:u,args:a,resolve:()=>{}}),this.fallbacks[u](...a)):(...a)=>new Promise(c=>{this.targetQueue.push({method:u,args:a,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Nb(e,t){const n=e,r=yg(),i=Eb(),o=Tb&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Ib,e,t);else{const s=o?new xb(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ai=typeof window<"u";function Db(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ie=Object.assign;function Da(e,t){const n={};for(const r in t){const i=t[r];n[r]=nn(i)?i.map(e):e(i)}return n}const wo=()=>{},nn=Array.isArray,Ob=/\/$/,Rb=e=>e.replace(Ob,"");function Oa(e,t,n="/"){let r,i={},o="",s="";const u=t.indexOf("#");let a=t.indexOf("?");return u<a&&u>=0&&(a=-1),a>-1&&(r=t.slice(0,a),o=t.slice(a+1,u>-1?u:t.length),i=e(o)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=Mb(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function kb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function wh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Pb(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ti(t.matched[r],n.matched[i])&&wg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Lb(e[n],t[n]))return!1;return!0}function Lb(e,t){return nn(e)?bh(e,t):nn(t)?bh(t,e):e===t}function bh(e,t){return nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Mb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Lo;(function(e){e.pop="pop",e.push="push"})(Lo||(Lo={}));var bo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bo||(bo={}));function Fb(e){if(!e)if(ai){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rb(e)}const Vb=/^[^#]+#/;function Ub(e,t){return e.replace(Vb,"#")+t}function qb(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Hu=()=>({left:window.pageXOffset,top:window.pageYOffset});function jb(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=qb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function _h(e,t){return(history.state?history.state.position-t:-1)+e}const gc=new Map;function Bb(e,t){gc.set(e,t)}function $b(e){const t=gc.get(e);return gc.delete(e),t}let zb=()=>location.protocol+"//"+location.host;function bg(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let u=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(u);return a[0]!=="/"&&(a="/"+a),wh(a,"")}return wh(n,e)+r+i}function Hb(e,t,n,r){let i=[],o=[],s=null;const u=({state:h})=>{const d=bg(e,location),p=n.value,m=t.value;let y=0;if(h){if(n.value=d,t.value=h,s&&s===p){s=null;return}y=m?h.position-m.position:0}else r(d);i.forEach(w=>{w(n.value,p,{delta:y,type:Lo.pop,direction:y?y>0?bo.forward:bo.back:bo.unknown})})};function a(){s=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(d),d}function l(){const{history:h}=window;!h.state||h.replaceState(Ie({},h.state,{scroll:Hu()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",l),{pauseListeners:a,listen:c,destroy:f}}function Eh(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Hu():null}}function Kb(e){const{history:t,location:n}=window,r={value:bg(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,c,l){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:zb()+e+a;try{t[l?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[l?"replace":"assign"](h)}}function s(a,c){const l=Ie({},t.state,Eh(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,l,!0),r.value=a}function u(a,c){const l=Ie({},i.value,t.state,{forward:a,scroll:Hu()});o(l.current,l,!0);const f=Ie({},Eh(r.value,a,null),{position:l.position+1},c);o(a,f,!1),r.value=a}return{location:r,state:i,push:u,replace:s}}function Wb(e){e=Fb(e);const t=Kb(e),n=Hb(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Ie({location:"",base:e,go:r,createHref:Ub.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Gb(e){return typeof e=="string"||e&&typeof e=="object"}function _g(e){return typeof e=="string"||typeof e=="symbol"}const Fn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Eg=Symbol("");var Th;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Th||(Th={}));function Ii(e,t){return Ie(new Error,{type:e,[Eg]:!0},t)}function En(e,t){return e instanceof Error&&Eg in e&&(t==null||!!(e.type&t))}const Ih="[^/]+?",Qb={sensitive:!1,strict:!1,start:!0,end:!0},Yb=/[.+*?^${}()[\]/\\]/g;function Xb(e,t){const n=Ie({},Qb,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const l=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(Yb,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:m,optional:y,regexp:w}=h;o.push({name:p,repeatable:m,optional:y});const E=w||Ih;if(E!==Ih){d+=10;try{new RegExp(`(${E})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+R.message)}}let T=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(T=y&&c.length<2?`(?:/${T})`:"/"+T),y&&(T+="?"),i+=T,d+=20,y&&(d+=-8),m&&(d+=-20),E===".*"&&(d+=-50)}l.push(d)}r.push(l)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function u(c){const l=c.match(s),f={};if(!l)return null;for(let h=1;h<l.length;h++){const d=l[h]||"",p=o[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function a(c){let l="",f=!1;for(const h of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const d of h)if(d.type===0)l+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:y}=d,w=p in c?c[p]:"";if(nn(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=nn(w)?w.join("/"):w;if(!E)if(y)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);l+=E}}return l||"/"}return{re:s,score:r,keys:o,parse:u,stringify:a}}function Jb(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Zb(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=Jb(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Sh(r))return 1;if(Sh(i))return-1}return i.length-r.length}function Sh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const e_={type:0,value:""},t_=/[a-zA-Z0-9_]/;function n_(e){if(!e)return[[]];if(e==="/")return[[e_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let u=0,a,c="",l="";function f(){!c||(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;u<e.length;){if(a=e[u++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),s()):a===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:a==="("?n=2:t_.test(a)?h():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&u--);break;case 2:a===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&u--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function r_(e,t,n){const r=Xb(n_(e.path),n),i=Ie(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function i_(e,t){const n=[],r=new Map;t=Ah({strict:!1,end:!0,sensitive:!1},t);function i(l){return r.get(l)}function o(l,f,h){const d=!h,p=s_(l);p.aliasOf=h&&h.record;const m=Ah(t,l),y=[p];if("alias"in l){const T=typeof l.alias=="string"?[l.alias]:l.alias;for(const R of T)y.push(Ie({},p,{components:h?h.record.components:p.components,path:R,aliasOf:h?h.record:p}))}let w,E;for(const T of y){const{path:R}=T;if(f&&R[0]!=="/"){const U=f.record.path,Q=U[U.length-1]==="/"?"":"/";T.path=f.record.path+(R&&Q+R)}if(w=r_(T,f,m),h?h.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),d&&l.name&&!Ch(w)&&s(l.name)),p.children){const U=p.children;for(let Q=0;Q<U.length;Q++)o(U[Q],w,h&&h.children[Q])}h=h||w,a(w)}return E?()=>{s(E)}:wo}function s(l){if(_g(l)){const f=r.get(l);f&&(r.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&r.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function u(){return n}function a(l){let f=0;for(;f<n.length&&Zb(l,n[f])>=0&&(l.record.path!==n[f].record.path||!Tg(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!Ch(l)&&r.set(l.record.name,l)}function c(l,f){let h,d={},p,m;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw Ii(1,{location:l});m=h.record.name,d=Ie(o_(f.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),l.params),p=h.stringify(d)}else if("path"in l)p=l.path,h=n.find(E=>E.re.test(p)),h&&(d=h.parse(p),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(E=>E.re.test(f.path)),!h)throw Ii(1,{location:l,currentLocation:f});m=h.record.name,d=Ie({},f.params,l.params),p=h.stringify(d)}const y=[];let w=h;for(;w;)y.unshift(w.record),w=w.parent;return{name:m,path:p,params:d,matched:y,meta:a_(y)}}return e.forEach(l=>o(l)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:u,getRecordMatcher:i}}function o_(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function s_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:u_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function u_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Ch(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function a_(e){return e.reduce((t,n)=>Ie(t,n.meta),{})}function Ah(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Tg(e,t){return t.children.some(n=>n===e||Tg(e,n))}const Ig=/#/g,c_=/&/g,l_=/\//g,f_=/=/g,h_=/\?/g,Sg=/\+/g,d_=/%5B/g,p_=/%5D/g,Cg=/%5E/g,g_=/%60/g,Ag=/%7B/g,m_=/%7C/g,xg=/%7D/g,v_=/%20/g;function pl(e){return encodeURI(""+e).replace(m_,"|").replace(d_,"[").replace(p_,"]")}function y_(e){return pl(e).replace(Ag,"{").replace(xg,"}").replace(Cg,"^")}function mc(e){return pl(e).replace(Sg,"%2B").replace(v_,"+").replace(Ig,"%23").replace(c_,"%26").replace(g_,"`").replace(Ag,"{").replace(xg,"}").replace(Cg,"^")}function w_(e){return mc(e).replace(f_,"%3D")}function b_(e){return pl(e).replace(Ig,"%23").replace(h_,"%3F")}function __(e){return e==null?"":b_(e).replace(l_,"%2F")}function nu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function E_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Sg," "),s=o.indexOf("="),u=nu(s<0?o:o.slice(0,s)),a=s<0?null:nu(o.slice(s+1));if(u in t){let c=t[u];nn(c)||(c=t[u]=[c]),c.push(a)}else t[u]=a}return t}function xh(e){let t="";for(let n in e){const r=e[n];if(n=w_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nn(r)?r.map(o=>o&&mc(o)):[r&&mc(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function T_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const I_=Symbol(""),Nh=Symbol(""),gl=Symbol(""),Ng=Symbol(""),vc=Symbol("");function oo(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function zn(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,u)=>{const a=f=>{f===!1?u(Ii(4,{from:n,to:t})):f instanceof Error?u(f):Gb(f)?u(Ii(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=e.call(r&&r.instances[i],t,n,a);let l=Promise.resolve(c);e.length<3&&(l=l.then(a)),l.catch(f=>u(f))})}function Ra(e,t,n,r){const i=[];for(const o of e)for(const s in o.components){let u=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(S_(u)){const c=(u.__vccOpts||u)[t];c&&i.push(zn(c,n,r,o,s))}else{let a=u();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=Db(c)?c.default:c;o.components[s]=l;const h=(l.__vccOpts||l)[t];return h&&zn(h,n,r,o,s)()}))}}return i}function S_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Dh(e){const t=Zn(gl),n=Zn(Ng),r=ct(()=>t.resolve(Xn(e.to))),i=ct(()=>{const{matched:a}=r.value,{length:c}=a,l=a[c-1],f=n.matched;if(!l||!f.length)return-1;const h=f.findIndex(Ti.bind(null,l));if(h>-1)return h;const d=Oh(a[c-2]);return c>1&&Oh(l)===d&&f[f.length-1].path!==d?f.findIndex(Ti.bind(null,a[c-2])):h}),o=ct(()=>i.value>-1&&x_(n.params,r.value.params)),s=ct(()=>i.value>-1&&i.value===n.matched.length-1&&wg(n.params,r.value.params));function u(a={}){return A_(a)?t[Xn(e.replace)?"replace":"push"](Xn(e.to)).catch(wo):Promise.resolve()}return{route:r,href:ct(()=>r.value.href),isActive:o,isExactActive:s,navigate:u}}const C_=Uu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dh,setup(e,{slots:t}){const n=$r(Dh(e)),{options:r}=Zn(gl),i=ct(()=>({[Rh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Rh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:dl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Dg=C_;function A_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function x_(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!nn(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Oh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Rh=(e,t,n)=>e!=null?e:t!=null?t:n,N_=Uu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Zn(vc),i=ct(()=>e.route||r.value),o=Zn(Nh,0),s=ct(()=>{let c=Xn(o);const{matched:l}=i.value;let f;for(;(f=l[c])&&!f.components;)c++;return c}),u=ct(()=>i.value.matched[s.value]);Fs(Nh,ct(()=>s.value+1)),Fs(I_,u),Fs(vc,i);const a=$t();return yi(()=>[a.value,u.value,e.name],([c,l,f],[h,d,p])=>{l&&(l.instances[f]=c,d&&d!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),c&&l&&(!d||!Ti(l,d)||!h)&&(l.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,l=e.name,f=u.value,h=f&&f.components[l];if(!h)return kh(n.default,{Component:h,route:c});const d=f.props[l],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,y=dl(h,Ie({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[l]=null)},ref:a}));return kh(n.default,{Component:y,route:c})||y}}});function kh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Og=N_;function D_(e){const t=i_(e.routes,e),n=e.parseQuery||E_,r=e.stringifyQuery||xh,i=e.history,o=oo(),s=oo(),u=oo(),a=k0(Fn);let c=Fn;ai&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Da.bind(null,S=>""+S),f=Da.bind(null,__),h=Da.bind(null,nu);function d(S,z){let F,K;return _g(S)?(F=t.getRecordMatcher(S),K=z):K=S,t.addRoute(K,F)}function p(S){const z=t.getRecordMatcher(S);z&&t.removeRoute(z)}function m(){return t.getRoutes().map(S=>S.record)}function y(S){return!!t.getRecordMatcher(S)}function w(S,z){if(z=Ie({},z||a.value),typeof S=="string"){const oe=Oa(n,S,z.path),g=t.resolve({path:oe.path},z),v=i.createHref(oe.fullPath);return Ie(oe,g,{params:h(g.params),hash:nu(oe.hash),redirectedFrom:void 0,href:v})}let F;if("path"in S)F=Ie({},S,{path:Oa(n,S.path,z.path).path});else{const oe=Ie({},S.params);for(const g in oe)oe[g]==null&&delete oe[g];F=Ie({},S,{params:f(S.params)}),z.params=f(z.params)}const K=t.resolve(F,z),_e=S.hash||"";K.params=l(h(K.params));const xe=kb(r,Ie({},S,{hash:y_(_e),path:K.path})),ue=i.createHref(xe);return Ie({fullPath:xe,hash:_e,query:r===xh?T_(S.query):S.query||{}},K,{redirectedFrom:void 0,href:ue})}function E(S){return typeof S=="string"?Oa(n,S,a.value.path):Ie({},S)}function T(S,z){if(c!==S)return Ii(8,{from:z,to:S})}function R(S){return ce(S)}function U(S){return R(Ie(E(S),{replace:!0}))}function Q(S){const z=S.matched[S.matched.length-1];if(z&&z.redirect){const{redirect:F}=z;let K=typeof F=="function"?F(S):F;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=E(K):{path:K},K.params={}),Ie({query:S.query,hash:S.hash,params:"path"in K?{}:S.params},K)}}function ce(S,z){const F=c=w(S),K=a.value,_e=S.state,xe=S.force,ue=S.replace===!0,oe=Q(F);if(oe)return ce(Ie(E(oe),{state:_e,force:xe,replace:ue}),z||F);const g=F;g.redirectedFrom=z;let v;return!xe&&Pb(r,K,F)&&(v=Ii(16,{to:g,from:K}),Zr(K,K,!0,!1)),(v?Promise.resolve(v):se(g,K)).catch(_=>En(_)?En(_,2)?_:Nt(_):Ae(_,g,K)).then(_=>{if(_){if(En(_,2))return ce(Ie({replace:ue},E(_.to),{state:_e,force:xe}),z||g)}else _=Pe(g,K,!0,ue,_e);return we(g,K,_),_})}function ne(S,z){const F=T(S,z);return F?Promise.reject(F):Promise.resolve()}function se(S,z){let F;const[K,_e,xe]=O_(S,z);F=Ra(K.reverse(),"beforeRouteLeave",S,z);for(const oe of K)oe.leaveGuards.forEach(g=>{F.push(zn(g,S,z))});const ue=ne.bind(null,S,z);return F.push(ue),ni(F).then(()=>{F=[];for(const oe of o.list())F.push(zn(oe,S,z));return F.push(ue),ni(F)}).then(()=>{F=Ra(_e,"beforeRouteUpdate",S,z);for(const oe of _e)oe.updateGuards.forEach(g=>{F.push(zn(g,S,z))});return F.push(ue),ni(F)}).then(()=>{F=[];for(const oe of S.matched)if(oe.beforeEnter&&!z.matched.includes(oe))if(nn(oe.beforeEnter))for(const g of oe.beforeEnter)F.push(zn(g,S,z));else F.push(zn(oe.beforeEnter,S,z));return F.push(ue),ni(F)}).then(()=>(S.matched.forEach(oe=>oe.enterCallbacks={}),F=Ra(xe,"beforeRouteEnter",S,z),F.push(ue),ni(F))).then(()=>{F=[];for(const oe of s.list())F.push(zn(oe,S,z));return F.push(ue),ni(F)}).catch(oe=>En(oe,8)?oe:Promise.reject(oe))}function we(S,z,F){for(const K of u.list())K(S,z,F)}function Pe(S,z,F,K,_e){const xe=T(S,z);if(xe)return xe;const ue=z===Fn,oe=ai?history.state:{};F&&(K||ue?i.replace(S.fullPath,Ie({scroll:ue&&oe&&oe.scroll},_e)):i.push(S.fullPath,_e)),a.value=S,Zr(S,z,F,ue),Nt()}let B;function De(){B||(B=i.listen((S,z,F)=>{if(!to.listening)return;const K=w(S),_e=Q(K);if(_e){ce(Ie(_e,{replace:!0}),K).catch(wo);return}c=K;const xe=a.value;ai&&Bb(_h(xe.fullPath,F.delta),Hu()),se(K,xe).catch(ue=>En(ue,12)?ue:En(ue,2)?(ce(ue.to,K).then(oe=>{En(oe,20)&&!F.delta&&F.type===Lo.pop&&i.go(-1,!1)}).catch(wo),Promise.reject()):(F.delta&&i.go(-F.delta,!1),Ae(ue,K,xe))).then(ue=>{ue=ue||Pe(K,xe,!1),ue&&(F.delta&&!En(ue,8)?i.go(-F.delta,!1):F.type===Lo.pop&&En(ue,20)&&i.go(-1,!1)),we(K,xe,ue)}).catch(wo)}))}let it=oo(),bn=oo(),Me;function Ae(S,z,F){Nt(S);const K=bn.list();return K.length?K.forEach(_e=>_e(S,z,F)):console.error(S),Promise.reject(S)}function be(){return Me&&a.value!==Fn?Promise.resolve():new Promise((S,z)=>{it.add([S,z])})}function Nt(S){return Me||(Me=!S,De(),it.list().forEach(([z,F])=>S?F(S):z()),it.reset()),S}function Zr(S,z,F,K){const{scrollBehavior:_e}=e;if(!ai||!_e)return Promise.resolve();const xe=!F&&$b(_h(S.fullPath,0))||(K||!F)&&history.state&&history.state.scroll||null;return al().then(()=>_e(S,z,xe)).then(ue=>ue&&jb(ue)).catch(ue=>Ae(ue,S,z))}const _n=S=>i.go(S);let sn;const jt=new Set,to={currentRoute:a,listening:!0,addRoute:d,removeRoute:p,hasRoute:y,getRoutes:m,resolve:w,options:e,push:R,replace:U,go:_n,back:()=>_n(-1),forward:()=>_n(1),beforeEach:o.add,beforeResolve:s.add,afterEach:u.add,onError:bn.add,isReady:be,install(S){const z=this;S.component("RouterLink",Dg),S.component("RouterView",Og),S.config.globalProperties.$router=z,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Xn(a)}),ai&&!sn&&a.value===Fn&&(sn=!0,R(i.location).catch(_e=>{}));const F={};for(const _e in Fn)F[_e]=ct(()=>a.value[_e]);S.provide(gl,z),S.provide(Ng,$r(F)),S.provide(vc,a);const K=S.unmount;jt.add(S),S.unmount=function(){jt.delete(S),jt.size<1&&(c=Fn,B&&B(),B=null,a.value=Fn,sn=!1,Me=!1),K()}}};return to}function ni(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function O_(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const u=t.matched[s];u&&(e.matched.find(c=>Ti(c,u))?r.push(u):n.push(u));const a=e.matched[s];a&&(t.matched.find(c=>Ti(c,a))||i.push(a))}return[n,r,i]}const R_={class:"w-full bg-rhino-50"},k_={class:"bg-rhino-700 text-white py-2 px-4 flex justify-between items-center"},P_={class:""},L_=G("img",{class:"pop object-fill w-8 h-8 rounded-full",src:"https://play-lh.googleusercontent.com/Mj_MnS1Rfw57dG529XDloAAEFlKBgZNVYXQepGCkdiEz77seAkbR0uUAlK69WNAvylc",alt:""},null,-1),M_=Pr(" Boba Quiz "),F_={class:"min-h-[65vh] mt-4"},V_={class:"bg-rhino-700 text-white w-full py-2 px-4 flex flex-col items-center justify-center text-sm"},Rg={__name:"BaseLayout",setup(e){return(t,n)=>(Ce(),Cn("div",R_,[G("header",k_,[G("div",P_,[le(Xn(Dg),{to:"/",class:"flex items-center gap-x-2 text-xl font-bold"},{default:zt(()=>[L_,M_]),_:1})]),Jt(t.$slots,"header")]),G("main",F_,[Jt(t.$slots,"main")]),G("footer",V_,[Jt(t.$slots,"footer")])]))}},U_=G("a",{href:""},null,-1),q_=G("p",null,[Pr("Copyright \xA9 "),G("a",{href:"https://vk.ru/mslimka",class:"underline"},"\u041C\u0430\u043A\u0441\u0438\u043C \u0428\u0442\u0438\u043B\u044C")],-1),j_={mounted(){document.querySelectorAll(".pop").forEach(t=>{t.style.animation="pop 0.6s ease-out"})},components:{BaseLayout:Rg}},B_=Object.assign(j_,{__name:"App",setup(e){return(t,n)=>(Ce(),Ge(Rg,null,{header:zt(()=>[U_]),main:zt(()=>[le(Xn(Og))]),footer:zt(()=>[q_]),_:1}))}}),$_="modulepreload",z_=function(e){return"/boba-quiz/"+e},Ph={},ka=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=z_(i),i in Ph)return;Ph[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":$_,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((a,c)=>{u.addEventListener("load",a),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};var yc=function(e,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yc(e,t)};function J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Mo=function(){return Mo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Mo.apply(this,arguments)};function C(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{c(r.next(l))}catch(f){s(f)}}function a(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(u,a)}c((r=r.apply(e,t||[])).next())})}function I(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(c){return function(l){return a([c,l])}}function a(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Pa(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cs(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kg=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},H_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],u=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,u=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=o>>2,f=(o&3)<<4|u>>4,h=(u&15)<<2|c>>6,d=c&63;a||(d=64,s||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kg(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):H_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,u=s?n[e.charAt(i)]:0;++i;var a=i<e.length,c=a?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,o==null||u==null||c==null||f==null)throw Error();var h=o<<2|u>>4;if(r.push(h),c!==64){var d=u<<4&240|c>>2;if(r.push(d),f!==64){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},W_=function(e){var t=kg(e);return K_.encodeByteArray(t,!0)},Lh=function(e){return W_(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){return Fo(void 0,e)}function Fo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Q_(r)||(e[r]=Fo(e[r],t[r]));return e}function Q_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Mo({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[Lh(JSON.stringify(n)),Lh(JSON.stringify(s)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function Pg(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z_(){return typeof self=="object"&&self.self===self}function eE(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nE(){return Lr().indexOf("Electron/")>=0}function rE(){var e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function iE(){return Lr().indexOf("MSAppHost/")>=0}function oE(){return!Pg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sE="FirebaseError",uE=function(e){J(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=sE,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ml.prototype.create),o}return t}(Error),ml=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],u=s?aE(s,i):"Error",a=this.serviceName+": "+u+" ("+o+").",c=new uE(o,a,i);return c},e}();function aE(e,t){return e.replace(cE,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var cE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lE(e,t){var n=new fE(e,t);return n.subscribe.bind(n)}var fE=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hE(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=La),o.error===void 0&&(o.error=La),o.complete===void 0&&(o.complete=La);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function hE(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function La(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}var Ku=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dE=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(gE(t))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}try{for(var i=Pa(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Cs(o.value,2),u=s[0],a=s[1],c=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService({instanceIdentifier:c});a.resolve(l)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=vr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ve(Ve([],Cs(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Cs(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=vr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=vr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var a=Pa(this.instancesDeferred.entries()),c=a.next();!c.done;c=a.next()){var l=Cs(c.value,2),f=l[0],h=l[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(u)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return u},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var s=Pa(o),u=s.next();!u.done;u=s.next()){var a=u.value;try{a(t,n)}catch{}}}catch(c){r={error:c}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:pE(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=vr),this.component?this.component.multipleInstances?t:vr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function pE(e){return e===vr?void 0:e}function gE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mE=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new dE(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Gt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,vl=[],ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));var Lg={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},vE=ge.INFO,yE=(gr={},gr[ge.DEBUG]="log",gr[ge.VERBOSE]="log",gr[ge.INFO]="info",gr[ge.WARN]="warn",gr[ge.ERROR]="error",gr),wE=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=yE[t];if(o)console[o].apply(console,Gt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Mg=function(){function e(t){this.name=t,this._logLevel=vE,this._logHandler=wE,this._userLogHandler=null,vl.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Lg[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,ge.DEBUG],t)),this._logHandler.apply(this,Gt([this,ge.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,ge.VERBOSE],t)),this._logHandler.apply(this,Gt([this,ge.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,ge.INFO],t)),this._logHandler.apply(this,Gt([this,ge.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,ge.WARN],t)),this._logHandler.apply(this,Gt([this,ge.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,ge.ERROR],t)),this._logHandler.apply(this,Gt([this,ge.ERROR],t))},e}();function bE(e){vl.forEach(function(t){t.setLogLevel(e)})}function _E(e,t){for(var n=function(s){var u=null;t&&t.level&&(u=Lg[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(a,c){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var h=l.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");c>=(u!=null?u:a.logLevel)&&e({level:ge[c].toLowerCase(),message:h,args:l,type:a.name})}},r=0,i=vl;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,EE=(Vn={},Vn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Vn["bad-app-name"]="Illegal App name: '{$appName}",Vn["duplicate-app"]="Firebase App named '{$appName}' already exists",Vn["app-deleted"]="Firebase App named '{$appName}' already deleted",Vn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Vn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Vn),ci=new ml("app","Firebase",EE),Fg="@firebase/app",TE="0.6.30",IE="@firebase/analytics",SE="@firebase/app-check",CE="@firebase/auth",AE="@firebase/database",xE="@firebase/functions",NE="@firebase/installations",DE="@firebase/messaging",OE="@firebase/performance",RE="@firebase/remote-config",kE="@firebase/storage",PE="@firebase/firestore",LE="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ru="[DEFAULT]",ME=(ot={},ot[Fg]="fire-core",ot[IE]="fire-analytics",ot[SE]="fire-app-check",ot[CE]="fire-auth",ot[AE]="fire-rtdb",ot[xE]="fire-fn",ot[NE]="fire-iid",ot[DE]="fire-fcm",ot[OE]="fire-perf",ot[RE]="fire-rc",ot[kE]="fire-gcs",ot[PE]="fire-fst",ot["fire-js"]="fire-js",ot[LE]="fire-js-all",ot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=new Mg("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Us=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=G_(t),this.container=new mE(n.name),this._addComponent(new Ku("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=ru),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ru),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Si.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ci.create("app-deleted",{appName:this.name_})},e}();Us.prototype.name&&Us.prototype.options||Us.prototype.delete||console.log("dc");var FE="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:c,setLogLevel:bE,onLog:l,apps:null,SDK_VERSION:FE,INTERNAL:{registerComponent:a,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(h){delete t[h]}function o(h){if(h=h||ru,!Mh(t,h))throw ci.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var p=d;d={name:p}}var m=d;m.name===void 0&&(m.name=ru);var y=m.name;if(typeof y!="string"||!y)throw ci.create("bad-app-name",{appName:String(y)});if(Mh(t,y))throw ci.create("duplicate-app",{appName:y});var w=new e(h,m,r);return t[y]=w,w}function u(){return Object.keys(t).map(function(h){return t[h]})}function a(h){var d=h.name;if(n.has(d))return Si.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var p=function(E){if(E===void 0&&(E=o()),typeof E[d]!="function")throw ci.create("invalid-app-argument",{appName:d});return E[d]()};h.serviceProps!==void 0&&Fo(p,h.serviceProps),r[d]=p,e.prototype[d]=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];var R=this._getService.bind(this,d);return R.apply(this,h.multipleInstances?E:[])}}for(var m=0,y=Object.keys(t);m<y.length;m++){var w=y[m];t[w]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function c(h,d,p){var m,y=(m=ME[h])!==null&&m!==void 0?m:h;p&&(y+="-"+p);var w=y.match(/\s|\//),E=d.match(/\s|\//);if(w||E){var T=['Unable to register library "'+y+'" with version "'+d+'":'];w&&T.push('library name "'+y+'" contains illegal characters (whitespace or "/")'),w&&E&&T.push("and"),E&&T.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),Si.warn(T.join(" "));return}a(new Ku(y+"-version",function(){return{library:y,version:d}},"VERSION"))}function l(h,d){if(h!==null&&typeof h!="function")throw ci.create("invalid-log-argument");_E(h,d)}function f(h,d){if(d==="serverAuth")return null;var p=d;return p}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){var e=VE(Us);e.INTERNAL=Mo(Mo({},e.INTERNAL),{createFirebaseNamespace:Vg,extendNamespace:t,createSubscribe:lE,ErrorFactory:ml,deepExtend:Fo});function t(n){Fo(e,n)}return e}var yl=Vg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UE=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(qE(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function qE(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t){e.INTERNAL.registerComponent(new Ku("platform-logger",function(n){return new UE(n)},"PRIVATE")),e.registerVersion(Fg,TE,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Z_()&&self.firebase!==void 0){Si.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Fh=self.firebase.SDK_VERSION;Fh&&Fh.indexOf("LITE")>=0&&Si.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var BE=yl.initializeApp;yl.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pg()&&Si.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),BE.apply(void 0,e)};var ts=yl;jE(ts);var $E="firebase",Ug="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts.registerVersion($E,Ug,"app");ts.SDK_VERSION=Ug;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wc=function(e,t){return wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wc(e,t)};function zE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function qg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,wl=wl||{},te=HE||self;function iu(){}function bc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ns(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function KE(e){return Object.prototype.hasOwnProperty.call(e,Ma)&&e[Ma]||(e[Ma]=++WE)}var Ma="closure_uid_"+(1e9*Math.random()>>>0),WE=0;function GE(e,t,n){return e.call.apply(e.bind,arguments)}function QE(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function et(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?et=GE:et=QE,et.apply(null,arguments)}function As(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),u=2;u<arguments.length;u++)s[u-2]=arguments[u];return t.prototype[i].apply(r,s)}}function sr(){this.s=this.s,this.o=this.o}var YE=0;sr.prototype.s=!1;sr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YE!=0)&&KE(this)};sr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Bg=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function XE(e){e:{for(var t=B1,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Vh(e){return Array.prototype.concat.apply([],arguments)}function bl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ou(e){return/^[\s\xa0]*$/.test(e)}var Uh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function yt(e,t){return e.indexOf(t)!=-1}function Fa(e,t){return e<t?-1:e>t?1:0}var wt;e:{var qh=te.navigator;if(qh){var jh=qh.userAgent;if(jh){wt=jh;break e}}wt=""}function _l(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $g(e){var t={};for(var n in e)t[n]=e[n];return t}var Bh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zg(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Bh.length;o++)n=Bh[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function El(e){return El[" "](e),e}El[" "]=iu;function JE(e){var t=t1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ZE=yt(wt,"Opera"),Ci=yt(wt,"Trident")||yt(wt,"MSIE"),Hg=yt(wt,"Edge"),_c=Hg||Ci,Kg=yt(wt,"Gecko")&&!(yt(wt.toLowerCase(),"webkit")&&!yt(wt,"Edge"))&&!(yt(wt,"Trident")||yt(wt,"MSIE"))&&!yt(wt,"Edge"),e1=yt(wt.toLowerCase(),"webkit")&&!yt(wt,"Edge");function Wg(){var e=te.document;return e?e.documentMode:void 0}var su;e:{var Va="",Ua=function(){var e=wt;if(Kg)return/rv:([^\);]+)(\)|;)/.exec(e);if(Hg)return/Edge\/([\d\.]+)/.exec(e);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(e1)return/WebKit\/(\S+)/.exec(e);if(ZE)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ua&&(Va=Ua?Ua[1]:""),Ci){var qa=Wg();if(qa!=null&&qa>parseFloat(Va)){su=String(qa);break e}}su=Va}var t1={};function n1(){return JE(function(){for(var e=0,t=Uh(String(su)).split("."),n=Uh("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=Fa(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Fa(o[2].length==0,s[2].length==0)||Fa(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Ec;if(te.document&&Ci){var $h=Wg();Ec=$h||parseInt(su,10)||void 0}else Ec=void 0;var r1=Ec,i1=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{te.addEventListener("test",iu,t),te.removeEventListener("test",iu,t)}catch{}return e}();function dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};function Vo(e,t){if(dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Kg){e:{try{El(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:o1[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vo.Z.h.call(this)}}rt(Vo,dt);var o1={2:"touch",3:"pen",4:"mouse"};Vo.prototype.h=function(){Vo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rs="closure_listenable_"+(1e6*Math.random()|0),s1=0;function u1(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++s1,this.ca=this.fa=!1}function Wu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gu(e){this.src=e,this.g={},this.h=0}Gu.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Ic(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new u1(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function Tc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=jg(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Wu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ic(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Tl="closure_lm_"+(1e6*Math.random()|0),ja={};function Gg(e,t,n,r,i){if(r&&r.once)return Yg(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Gg(e,t[o],n,r,i);return null}return n=Cl(n),e&&e[rs]?e.N(t,n,ns(r)?!!r.capture:!!r,i):Qg(e,t,n,!1,r,i)}function Qg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=ns(i)?!!i.capture:!!i,u=Sl(e);if(u||(e[Tl]=u=new Gu(e)),n=u.add(t,n,r,s,o),n.proxy)return n;if(r=a1(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)i1||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jg(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a1(){function e(n){return t.call(e.src,e.listener,n)}var t=c1;return e}function Yg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Yg(e,t[o],n,r,i);return null}return n=Cl(n),e&&e[rs]?e.O(t,n,ns(r)?!!r.capture:!!r,i):Qg(e,t,n,!0,r,i)}function Xg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Xg(e,t[o],n,r,i);else r=ns(r)?!!r.capture:!!r,n=Cl(n),e&&e[rs]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Ic(o,n,r,i),-1<n&&(Wu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Sl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ic(t,n,r,i)),(n=-1<e?t[e]:null)&&Il(n))}function Il(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[rs])Tc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sl(t))?(Tc(n,e),n.h==0&&(n.src=null,t[Tl]=null)):Wu(e)}}}function Jg(e){return e in ja?ja[e]:ja[e]="on"+e}function c1(e,t){if(e.ca)e=!0;else{t=new Vo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Il(e),e=n.call(r,t)}return e}function Sl(e){return e=e[Tl],e instanceof Gu?e:null}var Ba="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cl(e){return typeof e=="function"?e:(e[Ba]||(e[Ba]=function(t){return e.handleEvent(t)}),e[Ba])}function Xe(){sr.call(this),this.i=new Gu(this),this.P=this,this.I=null}rt(Xe,sr);Xe.prototype[rs]=!0;Xe.prototype.removeEventListener=function(e,t,n,r){Xg(this,e,t,n,r)};function tt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new dt(t,e);else if(t instanceof dt)t.target=t.target||e;else{var i=t;t=new dt(r,e),zg(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=xs(s,r,!0,t)&&i}if(s=t.g=e,i=xs(s,r,!0,t)&&i,i=xs(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=xs(s,r,!1,t)&&i}Xe.prototype.M=function(){if(Xe.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Wu(n[r]);delete e.g[t],e.h--}}this.I=null};Xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function xs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var u=s.listener,a=s.ia||s.src;s.fa&&Tc(e.i,s),i=u.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Al=te.JSON.stringify;function l1(){var e=em,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var f1=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=Zg.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),Zg=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new h1},function(e){return e.reset()}),h1=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function d1(e){te.setTimeout(function(){throw e},0)}function xl(e,t){Sc||p1(),Cc||(Sc(),Cc=!0),em.add(e,t)}var Sc;function p1(){var e=te.Promise.resolve(void 0);Sc=function(){e.then(g1)}}var Cc=!1,em=new f1;function g1(){for(var e;e=l1();){try{e.h.call(e.g)}catch(n){d1(n)}var t=Zg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cc=!1}function Qu(e,t){Xe.call(this),this.h=e||1,this.g=t||te,this.j=et(this.kb,this),this.l=Date.now()}rt(Qu,Xe);j=Qu.prototype;j.da=!1;j.S=null;j.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tt(this,"tick"),this.da&&(Nl(this),this.start()))}};j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Nl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}j.M=function(){Qu.Z.M.call(this),Nl(this),delete this.g};function Dl(e,t,n){if(typeof e=="function")n&&(e=et(e,n));else if(e&&typeof e.handleEvent=="function")e=et(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:te.setTimeout(e,t||0)}function tm(e){e.g=Dl(function(){e.g=null,e.i&&(e.i=!1,tm(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var m1=function(e){zE(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:tm(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(sr);function Uo(e){sr.call(this),this.h=e,this.g={}}rt(Uo,sr);var zh=[];function nm(e,t,n,r){Array.isArray(n)||(n&&(zh[0]=n.toString()),n=zh);for(var i=0;i<n.length;i++){var o=Gg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function rm(e){_l(e.g,function(t,n){this.g.hasOwnProperty(n)&&Il(t)},e),e.g={}}Uo.prototype.M=function(){Uo.Z.M.call(this),rm(this)};Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yu(){this.g=!0}Yu.prototype.Aa=function(){this.g=!1};function v1(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&f[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function y1(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function di(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+b1(e,n)+(r?" "+r:"")})}function w1(e,t){e.info(function(){return"TIMEOUT: "+t})}Yu.prototype.info=function(){};function b1(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Al(n)}catch{return t}}var zr={},Hh=null;function Xu(){return Hh=Hh||new Xe}zr.Ma="serverreachability";function im(e){dt.call(this,zr.Ma,e)}rt(im,dt);function qo(e){var t=Xu();tt(t,new im(t))}zr.STAT_EVENT="statevent";function om(e,t){dt.call(this,zr.STAT_EVENT,e),this.stat=t}rt(om,dt);function bt(e){var t=Xu();tt(t,new om(t,e))}zr.Na="timingevent";function sm(e,t){dt.call(this,zr.Na,e),this.size=t}rt(sm,dt);function is(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){e()},t)}var Ju={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},um={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ol(){}Ol.prototype.h=null;function Kh(e){return e.h||(e.h=e.i())}function am(){}var os={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rl(){dt.call(this,"d")}rt(Rl,dt);function kl(){dt.call(this,"c")}rt(kl,dt);var Ac;function Zu(){}rt(Zu,Ol);Zu.prototype.g=function(){return new XMLHttpRequest};Zu.prototype.i=function(){return{}};Ac=new Zu;function ss(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Uo(this),this.P=_1,e=_c?125:void 0,this.W=new Qu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cm}function cm(){this.i=null,this.g="",this.h=!1}var _1=45e3,xc={},uu={};j=ss.prototype;j.setTimeout=function(e){this.P=e};function Nc(e,t,n){e.K=1,e.v=ta(On(t)),e.s=n,e.U=!0,lm(e,null)}function lm(e,t){e.F=Date.now(),us(e),e.A=On(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new cm,e.g=Fm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new m1(et(e.Ia,e,e.g),e.O)),nm(e.V,e.g,"readystatechange",e.gb),t=e.H?$g(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qo(),v1(e.j,e.u,e.A,e.m,e.X,e.s)}j.gb=function(e){e=e.target;var t=this.L;t&&In(e)==3?t.l():this.Ia(e)};j.Ia=function(e){try{if(e==this.g)e:{var t=In(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||_c||this.g&&(this.h.h||this.g.ga()||Yh(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?qo(3):qo(2)),ea(this);var i=this.g.ba();this.N=i;t:if(fm(this)){var o=Yh(this.g);e="";var s=o.length,u=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),_o(this);var a="";break t}this.h.i=new te.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,y1(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ou(c)){var f=c;break t}}f=null}if(i=f)di(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dc(this,i);else{this.i=!1,this.o=3,bt(12),Ir(this),_o(this);break e}}this.U?(hm(this,t,a),_c&&this.i&&t==3&&(nm(this.V,this.W,"tick",this.fb),this.W.start())):(di(this.j,this.m,a,null),Dc(this,a)),t==4&&Ir(this),this.i&&!this.I&&(t==4?km(this.l,this):(this.i=!1,us(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,bt(12)):(this.o=0,bt(13)),Ir(this),_o(this)}}}catch{}finally{}};function fm(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function hm(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=E1(e,n),i==uu){t==4&&(e.o=4,bt(14),r=!1),di(e.j,e.m,null,"[Incomplete Response]");break}else if(i==xc){e.o=4,bt(15),di(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else di(e.j,e.m,i,null),Dc(e,i);fm(e)&&i!=uu&&i!=xc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,bt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bl(t),t.L=!0,bt(11))):(di(e.j,e.m,n,"[Invalid Chunked Response]"),Ir(e),_o(e))}j.fb=function(){if(this.g){var e=In(this.g),t=this.g.ga();this.C<t.length&&(ea(this),hm(this,e,t),this.i&&e!=4&&us(this))}};function E1(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?uu:(n=Number(t.substring(n,r)),isNaN(n)?xc:(r+=1,r+n>t.length?uu:(t=t.substr(r,n),e.C=r+n,t)))}j.cancel=function(){this.I=!0,Ir(this)};function us(e){e.Y=Date.now()+e.P,dm(e,e.P)}function dm(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=is(et(e.eb,e),t)}function ea(e){e.B&&(te.clearTimeout(e.B),e.B=null)}j.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(w1(this.j,this.A),this.K!=2&&(qo(),bt(17)),Ir(this),this.o=2,_o(this)):dm(this,this.Y-e)};function _o(e){e.l.G==0||e.I||km(e.l,e)}function Ir(e){ea(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Nl(e.W),rm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dc(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Oc(n.i,e))){if(n.I=e.N,!e.J&&Oc(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)fu(n),ia(n);else break e;jl(n),bt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=is(et(n.ab,n),6e3));if(1>=bm(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Sr(n,11)}else if((e.J||n.g==e)&&fu(n),!ou(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var a=o[5];a!=null&&typeof a=="number"&&0<a&&(r=1.5*a,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(yt(l,"spdy")||yt(l,"quic")||yt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ml(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ke(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=Mm(r,r.H?r.la:null,r.W),d.J){_m(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(ea(p),us(p)),r.g=d}else Om(r);0<n.l.length&&oa(n)}else o[0]!="stop"&&o[0]!="close"||Sr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Sr(n,7):ql(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}qo(4)}catch{}}function T1(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(bc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Pl(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(bc(e)||typeof e=="string")Bg(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(bc(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=T1(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Hi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}j=Hi.prototype;j.R=function(){Ll(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};j.T=function(){return Ll(this),this.g.concat()};function Ll(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Mr(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}j.get=function(e,t){return Mr(this.h,e)?this.h[e]:t};j.set=function(e,t){Mr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};j.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function I1(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fr){this.g=t!==void 0?t:e.g,au(this,e.j),this.s=e.s,cu(this,e.i),lu(this,e.m),this.l=e.l,t=e.h;var n=new jo;n.i=t.i,t.g&&(n.g=new Hi(t.g),n.h=t.h),Wh(this,n),this.o=e.o}else e&&(n=String(e).match(pm))?(this.g=!!t,au(this,n[1]||"",!0),this.s=Eo(n[2]||""),cu(this,n[3]||"",!0),lu(this,n[4]),this.l=Eo(n[5]||"",!0),Wh(this,n[6]||"",!0),this.o=Eo(n[7]||"")):(this.g=!!t,this.h=new jo(null,this.g))}Fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lo(t,Gh,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(lo(t,Gh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(lo(n,n.charAt(0)=="/"?N1:x1,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lo(n,O1)),e.join("")};function On(e){return new Fr(e)}function au(e,t,n){e.j=n?Eo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cu(e,t,n){e.i=n?Eo(t,!0):t}function lu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wh(e,t,n){t instanceof jo?(e.h=t,R1(e.h,e.g)):(n||(t=lo(t,D1)),e.h=new jo(t,e.g))}function ke(e,t,n){e.h.set(t,n)}function ta(e){return ke(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function S1(e){return e instanceof Fr?On(e):new Fr(e,void 0)}function C1(e,t,n,r){var i=new Fr(null,void 0);return e&&au(i,e),t&&cu(i,t),n&&lu(i,n),r&&(i.l=r),i}function Eo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,A1),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function A1(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Gh=/[#\/\?@]/g,x1=/[#\?:]/g,N1=/[#\?]/g,D1=/[#\?@]/g,O1=/#/g;function jo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ur(e){e.g||(e.g=new Hi,e.h=0,e.i&&I1(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}j=jo.prototype;j.add=function(e,t){ur(this),this.i=null,e=Ki(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gm(e,t){ur(e),t=Ki(e,t),Mr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Mr(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ll(e)))}function mm(e,t){return ur(e),t=Ki(e,t),Mr(e.g.h,t)}j.forEach=function(e,t){ur(this),this.g.forEach(function(n,r){Bg(n,function(i){e.call(t,i,r,this)},this)},this)};j.T=function(){ur(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};j.R=function(e){ur(this);var t=[];if(typeof e=="string")mm(this,e)&&(t=Vh(t,this.g.get(Ki(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vh(t,e[n])}return t};j.set=function(e,t){return ur(this),this.i=null,e=Ki(this,e),mm(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};j.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function vm(e,t,n){gm(e,t),0<n.length&&(e.i=null,e.g.set(Ki(e,t),bl(n)),e.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function Ki(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function R1(e,t){t&&!e.j&&(ur(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gm(this,r),vm(this,i,n))},e)),e.j=t}var k1=function(){function e(t,n){this.h=t,this.g=n}return e}();function ym(e){this.l=e||P1,te.PerformanceNavigationTiming?(e=te.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var P1=10;function wm(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function bm(e){return e.h?1:e.g?e.g.size:0}function Oc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ml(e,t){e.g?e.g.add(t):e.h=t}function _m(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ym.prototype.cancel=function(){var e,t;if(this.i=Em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=qg(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function Em(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=qg(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return bl(e.i)}function Fl(){}Fl.prototype.stringify=function(e){return te.JSON.stringify(e,void 0)};Fl.prototype.parse=function(e){return te.JSON.parse(e,void 0)};function L1(){this.g=new Fl}function M1(e,t,n){var r=n||"";try{Pl(e,function(i,o){var s=i;ns(i)&&(s=Al(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function F1(e,t){var n=new Yu;if(te.Image){var r=new Image;r.onload=As(Ns,n,r,"TestLoadImage: loaded",!0,t),r.onerror=As(Ns,n,r,"TestLoadImage: error",!1,t),r.onabort=As(Ns,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=As(Ns,n,r,"TestLoadImage: timeout",!1,t),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ns(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function as(e){this.l=e.$b||null,this.j=e.ib||!1}rt(as,Ol);as.prototype.g=function(){return new na(this.l,this.j)};as.prototype.i=function(e){return function(){return e}}({});function na(e,t){Xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Vl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(na,Xe);var Vl=0;j=na.prototype;j.open=function(e,t){if(this.readyState!=Vl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bo(this)};j.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||te).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=Vl};j.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Tm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}j.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cs(this):Bo(this),this.readyState==3&&Tm(this)}};j.Ua=function(e){this.g&&(this.response=this.responseText=e,cs(this))};j.Ta=function(e){this.g&&(this.response=e,cs(this))};j.ha=function(){this.g&&cs(this)};function cs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bo(e)}j.setRequestHeader=function(e,t){this.v.append(e,t)};j.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Bo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var V1=te.JSON.parse;function ze(e){Xe.call(this),this.headers=new Hi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Im,this.K=this.L=!1}rt(ze,Xe);var Im="",U1=/^https?$/i,q1=["POST","PUT"];j=ze.prototype;j.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ac.g(),this.C=this.u?Kh(this.u):Kh(Ac),this.g.onreadystatechange=et(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){Qh(this,o);return}e=n||"";var i=new Hi(this.headers);r&&Pl(r,function(o,s){i.set(s,o)}),r=XE(i.T()),n=te.FormData&&e instanceof te.FormData,!(0<=jg(q1,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Am(this),0<this.B&&((this.K=j1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.pa,this)):this.A=Dl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Qh(this,o)}};function j1(e){return Ci&&n1()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function B1(e){return e.toLowerCase()=="content-type"}j.pa=function(){typeof wl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function Qh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sm(e),ra(e)}function Sm(e){e.D||(e.D=!0,tt(e,"complete"),tt(e,"error"))}j.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),ra(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ra(this,!0)),ze.Z.M.call(this)};j.Fa=function(){this.s||(this.F||this.v||this.l?Cm(this):this.cb())};j.cb=function(){Cm(this)};function Cm(e){if(e.h&&typeof wl<"u"&&(!e.C[1]||In(e)!=4||e.ba()!=2)){if(e.v&&In(e)==4)Dl(e.Fa,0,e);else if(tt(e,"readystatechange"),In(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(pm)[1]||null;if(!o&&te.self&&te.self.location){var s=te.self.location.protocol;o=s.substr(0,s.length-1)}i=!U1.test(o?o.toLowerCase():"")}r=i}if(r)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var u=2<In(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.ba()+"]",Sm(e)}}finally{ra(e)}}}}function ra(e,t){if(e.g){Am(e);var n=e.g,r=e.C[0]?iu:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Am(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(te.clearTimeout(e.A),e.A=null)}function In(e){return e.g?e.g.readyState:0}j.ba=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}};j.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),V1(t)}};function Yh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Im:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}j.Da=function(){return this.m};j.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $1(e){var t="";return _l(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ul(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ke(e,t,n))}function so(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xm(e){this.za=0,this.l=[],this.h=new Yu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=so("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=so("baseRetryDelayMs",5e3,e),this.$a=so("retryDelaySeedMs",1e4,e),this.Ya=so("forwardChannelMaxRetries",2,e),this.ra=so("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ym(e&&e.concurrentRequestLimit),this.Ca=new L1,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}j=xm.prototype;j.ma=8;j.G=1;function ql(e){if(Nm(e),e.G==3){var t=e.V++,n=On(e.F);ke(n,"SID",e.J),ke(n,"RID",t),ke(n,"TYPE","terminate"),ls(e,n),t=new ss(e,e.h,t,void 0),t.K=2,t.v=ta(On(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(t.v.toString(),"")),!n&&te.Image&&(new Image().src=t.v,n=!0),n||(t.g=Fm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),us(t)}Lm(e)}j.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ia(e){e.g&&(Bl(e),e.g.cancel(),e.g=null)}function Nm(e){ia(e),e.u&&(te.clearTimeout(e.u),e.u=null),fu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&te.clearTimeout(e.m),e.m=null)}function $a(e,t){e.l.push(new k1(e.Za++,t)),e.G==3&&oa(e)}function oa(e){wm(e.i)||e.m||(e.m=!0,xl(e.Ha,e),e.C=0)}function z1(e,t){return bm(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=is(et(e.Ha,e,t),Pm(e,e.C)),e.C++,!0)}j.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ss(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=$g(n),zg(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Dm(this,t,r),i=On(this.F),ke(i,"RID",e),ke(i,"CVER",22),this.D&&ke(i,"X-HTTP-Session-Id",this.D),ls(this,i),this.o&&n&&Ul(i,this.o,n),Ml(this.i,t),this.Ra&&ke(i,"TYPE","init"),this.ja?(ke(i,"$req",r),ke(i,"SID","null"),t.$=!0,Nc(t,i,null)):Nc(t,i,r),this.G=2}}else this.G==3&&(e?Xh(this,e):this.l.length==0||wm(this.i)||Xh(this))};function Xh(e,t){var n;t?n=t.m:n=e.V++;var r=On(e.F);ke(r,"SID",e.J),ke(r,"RID",n),ke(r,"AID",e.U),ls(e,r),e.o&&e.s&&Ul(r,e.o,e.s),n=new ss(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Dm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ml(e.i,n),Nc(n,r,t)}function ls(e,t){e.j&&Pl({},function(n,r){ke(t,r,n)})}function Dm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?et(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].h,l=i[a].g;if(c-=o,0>c)o=Math.max(0,i[a].h-100),u=!1;else try{M1(l,s,"req"+c+"_")}catch{r&&r(l)}}if(u){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Om(e){e.g||e.u||(e.Y=1,xl(e.Ga,e),e.A=0)}function jl(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=is(et(e.Ga,e),Pm(e,e.A)),e.A++,!0)}j.Ga=function(){if(this.u=null,Rm(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=is(et(this.bb,this),e)}};j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bt(10),ia(this),Rm(this))};function Bl(e){e.B!=null&&(te.clearTimeout(e.B),e.B=null)}function Rm(e){e.g=new ss(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=On(e.oa);ke(t,"RID","rpc"),ke(t,"SID",e.J),ke(t,"CI",e.N?"0":"1"),ke(t,"AID",e.U),ls(e,t),ke(t,"TYPE","xmlhttp"),e.o&&e.s&&Ul(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ta(On(t)),n.s=null,n.U=!0,lm(n,e)}j.ab=function(){this.v!=null&&(this.v=null,ia(this),jl(this),bt(19))};function fu(e){e.v!=null&&(te.clearTimeout(e.v),e.v=null)}function km(e,t){var n=null;if(e.g==t){fu(e),Bl(e),e.g=null;var r=2}else if(Oc(e.i,t))n=t.D,_m(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Xu(),tt(r,new sm(r,n)),oa(e)}else Om(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&z1(e,t)||r==2&&jl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sr(e,5);break;case 4:Sr(e,10);break;case 3:Sr(e,6);break;default:Sr(e,2)}}}function Pm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=et(e.jb,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||au(n,"https"),ta(n)),F1(n.toString(),r)}else bt(2);e.G=0,e.j&&e.j.va(t),Lm(e),Nm(e)}j.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bt(2)):(this.h.info("Failed to ping google.com"),bt(1))};function Lm(e){e.G=0,e.I=-1,e.j&&((Em(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,bl(e.l),e.l.length=0),e.j.ua())}function Mm(e,t,n){var r=S1(n);if(r.i!="")t&&cu(r,t+"."+r.i),lu(r,r.m);else{var i=te.location;r=C1(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&_l(e.aa,function(o,s){ke(r,s,o)}),t=e.D,n=e.sa,t&&n&&ke(r,t,n),ke(r,"VER",e.ma),ls(e,r),r}function Fm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ze(new as({ib:!0})):new ze(e.qa),t.L=e.H,t}function Vm(){}j=Vm.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Oa=function(){};function hu(){if(Ci&&!(10<=Number(r1)))throw Error("Environmental error: no available transport.")}hu.prototype.g=function(e,t){return new qt(e,t)};function qt(e,t){Xe.call(this),this.g=new xm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ou(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ou(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Wi(this)}rt(qt,Xe);qt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xl(et(e.hb,e,t))),bt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mm(e,null,e.W),oa(e)};qt.prototype.close=function(){ql(this.g)};qt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,$a(this.g,t)}else this.v?(t={},t.__data__=Al(e),$a(this.g,t)):$a(this.g,e)};qt.prototype.M=function(){this.g.j=null,delete this.j,ql(this.g),delete this.g,qt.Z.M.call(this)};function Um(e){Rl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rt(Um,Rl);function qm(){kl.call(this),this.status=1}rt(qm,kl);function Wi(e){this.g=e}rt(Wi,Vm);Wi.prototype.xa=function(){tt(this.g,"a")};Wi.prototype.wa=function(e){tt(this.g,new Um(e))};Wi.prototype.va=function(e){tt(this.g,new qm)};Wi.prototype.ua=function(){tt(this.g,"b")};hu.prototype.createWebChannel=hu.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;Ju.NO_ERROR=0;Ju.TIMEOUT=8;Ju.HTTP_ERROR=6;um.COMPLETE="complete";am.EventType=os;os.OPEN="a";os.CLOSE="b";os.ERROR="c";os.MESSAGE="d";Xe.prototype.listen=Xe.prototype.N;ze.prototype.listenOnce=ze.prototype.O;ze.prototype.getLastError=ze.prototype.La;ze.prototype.getLastErrorCode=ze.prototype.Da;ze.prototype.getStatus=ze.prototype.ba;ze.prototype.getResponseJson=ze.prototype.Qa;ze.prototype.getResponseText=ze.prototype.ga;ze.prototype.send=ze.prototype.ea;var H1=function(){return new hu},K1=function(){return Xu()},za=Ju,W1=um,G1=zr,Jh={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Q1=as,Ds=am,Y1=ze;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Mt.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return J(t,e),t}(Error),Zt=new Mg("@firebase/firestore");function Rc(){return Zt.logLevel}function k(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=ge.DEBUG){var r=t.map($l);Zt.debug.apply(Zt,Ve(["Firestore (8.10.1): "+e],r))}}function Be(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=ge.ERROR){var r=t.map($l);Zt.error.apply(Zt,Ve(["Firestore (8.10.1): "+e],r))}}function du(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=ge.WARN){var r=t.map($l);Zt.warn.apply(Zt,Ve(["Firestore (8.10.1): "+e],r))}}function $l(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Be(t),new Error(t)}function Z(e,t){e||H()}function V(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jm=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=X1(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function fe(e,t){return e<t?-1:e>t?1:0}function Ai(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Bm(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ae=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new It(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $m(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zm=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&H(),r===void 0?r=t.length-n:r>t.length-n&&H(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),me=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(a){return a.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(zm),J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return J1.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var a=n[o];if(a==="\\"){if(o+1===n.length)throw new x(b.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var c=n[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=c,o+=2}else a==="`"?(u=!u,o++):a!=="."||u?(i+=a,o++):(s(),o++)}if(s(),u)throw new x(b.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(zm),xi=function(){function e(t){this.fields=t,t.sort(rn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ai(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),St=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return fe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();St.EMPTY_BYTE_STRING=new St("");var Z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(e){if(Z(!!e),typeof e=="string"){var t=0,n=Z1.exec(e);if(Z(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:je(e.seconds),nanos:je(e.nanos)}}function je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ni(e){return typeof e=="string"?St.fromBase64String(e):St.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hm(e){var t=e.mapValue.fields.__previous_value__;return zl(t)?Hm(t):t}function $o(e){var t=ir(e.mapValue.fields.__local_write_time__.timestampValue);return new It(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e){return e==null}function pu(e){return e===0&&1/e==-1/0}function Km(e){return typeof e=="number"&&Number.isInteger(e)&&!pu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(me.fromString(t))},e.fromName=function(t){return new e(me.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&me.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return me.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new me(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zl(e)?4:10:H()}function yn(e,t){var n=Vr(e);if(n!==Vr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $o(e).isEqual($o(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=ir(r.timestampValue),s=ir(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ni(r.bytesValue).isEqual(Ni(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return je(r.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(r.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return je(r.integerValue)===je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=je(r.doubleValue),s=je(i.doubleValue);return o===s?pu(o)===pu(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Ai(e.arrayValue.values||[],t.arrayValue.values||[],yn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Zh(o)!==Zh(s))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!yn(o[u],s[u])))return!1;return!0}(e,t);default:return H()}}function zo(e,t){return(e.values||[]).find(function(n){return yn(n,t)})!==void 0}function Di(e,t){var n=Vr(e),r=Vr(t);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=je(i.integerValue||i.doubleValue),u=je(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(e,t);case 3:return ed(e.timestampValue,t.timestampValue);case 4:return ed($o(e),$o(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(i,o){var s=Ni(i),u=Ni(o);return s.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),u=o.split("/"),a=0;a<s.length&&a<u.length;a++){var c=fe(s[a],u[a]);if(c!==0)return c}return fe(s.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=fe(je(i.latitude),je(o.latitude));return s!==0?s:fe(je(i.longitude),je(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],u=o.values||[],a=0;a<s.length&&a<u.length;++a){var c=Di(s[a],u[a]);if(c)return c}return fe(s.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},u=Object.keys(s),a=o.fields||{},c=Object.keys(a);u.sort(),c.sort();for(var l=0;l<u.length&&l<c.length;++l){var f=fe(u[l],c[l]);if(f!==0)return f;var h=Di(s[u[l]],a[c[l]]);if(h!==0)return h}return fe(u.length,c.length)}(e.mapValue,t.mapValue);default:throw H()}}function ed(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);var n=ir(e),r=ir(t),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function Hl(e){return kc(e)}function kc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ir(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ni(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,u=r.values||[];s<u.length;s++)o?o=!1:i+=",",i+=kc(u[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,u=Object.keys(r.fields||{}).sort();s<u.length;s++){var a=u[s];o?o=!1:i+=",",i+=a+":"+kc(r.fields[a])}return i+"}"}(e.mapValue):H();var t,n}function gu(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Pc(e){return!!e&&"integerValue"in e}function Kl(e){return!!e&&"arrayValue"in e}function td(e){return!!e&&"nullValue"in e}function nd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qs(e){return!!e&&"mapValue"in e}function To(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hr(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=To(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=To(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!qs(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(n)},e.prototype.setAll=function(t){var n=this,r=rn.emptyPath(),i={},o=[];t.forEach(function(u,a){if(!r.isImmediateParentOf(a)){var c=n.getFieldsMap(r);n.applyChanges(c,i,o),i={},o=[],r=a.popLast()}u?i[a.lastSegment()]=To(u):o.push(a.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());qs(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return yn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];qs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Hr(n,function(u,a){return t[u]=a});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(To(this.value))},e}();function Wm(e){var t=[];return Hr(e.fields,function(n,r){var i=new rn([n]);if(qs(r)){var o=Wm(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,u=o;s<u.length;s++){var a=u[s];t.push(i.child(a))}}else t.push(i)}),new xi(t)}var pt=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ae.min(),Lt.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Lt.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Lt.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),eT=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new eT(e,t,n,r,i,o,s)}function fs(e){var t=V(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Hl(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Kr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=vu(t.startAt)),t.endAt&&(n+="|ub:",n+=vu(t.endAt)),t.h=n}return t.h}function sa(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!aT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!yn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!od(e.startAt,t.startAt)&&od(e.endAt,t.endAt)}function mu(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ft=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return J(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new tT(n,r,i):r==="array-contains"?new iT(n,i):r==="in"?new oT(n,i):r==="not-in"?new sT(n,i):r==="array-contains-any"?new uT(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new nT(n,i):new rT(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Di(r,this.value)):r!==null&&Vr(this.value)===Vr(r)&&this.m(Di(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return H()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),tT=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=W.fromName(i.referenceValue),o}return J(t,e),t.prototype.matches=function(n){var r=W.comparator(n.key,this.key);return this.m(r)},t}(Ft),nT=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Gm("in",r),i}return J(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ft),rT=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Gm("not-in",r),i}return J(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ft);function Gm(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return W.fromName(r.referenceValue)})}var iT=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Kl(r)&&zo(r.arrayValue,this.value)},t}(Ft),oT=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&zo(this.value.arrayValue,r)},t}(Ft),sT=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return J(t,e),t.prototype.matches=function(n){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!zo(this.value.arrayValue,r)},t}(Ft),uT=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return J(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Kl(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return zo(r.value.arrayValue,o)})},t}(Ft),Ho=function(e,t){this.position=e,this.before=t};function vu(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Hl(t)}).join(",")}var wi=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function aT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function id(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):Di(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function od(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn=function(e,t,n,r,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function Qm(e,t,n,r,i,o,s,u){return new kn(e,t,n,r,i,o,s,u)}function hs(e){return new kn(e)}function js(e){return!Kr(e.limit)&&e.limitType==="F"}function yu(e){return!Kr(e.limit)&&e.limitType==="L"}function Wl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gl(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ql(e){return e.collectionGroup!==null}function Oi(e){var t=V(e);if(t.p===null){t.p=[];var n=Gl(t),r=Wl(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new wi(n)),t.p.push(new wi(rn.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var u=s[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wi(rn.keyField(),a))}}}return t.p}function wn(e){var t=V(e);if(!t.T)if(t.limitType==="F")t.T=rd(t.path,t.collectionGroup,Oi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Oi(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new wi(o.field,s))}var u=t.endAt?new Ho(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Ho(t.startAt.position,!t.startAt.before):null;t.T=rd(t.path,t.collectionGroup,n,t.filters,t.limit,u,a)}return t.T}function Ym(e,t,n){return new kn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ds(e,t){return sa(wn(e),wn(t))&&e.limitType===t.limitType}function Xm(e){return fs(wn(e))+"|lt:"+e.limitType}function Lc(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Hl(i.value);var i}).join(", ")+"]"),Kr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+vu(t.startAt)),t.endAt&&(n+=", endAt: "+vu(t.endAt)),"Target("+n+")"}(wn(e))+"; limitType="+e.limitType+")"}function ps(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):W.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!id(n.startAt,Oi(n),r))&&(!n.endAt||!id(n.endAt,Oi(n),r))}(e,t)}function Jm(e){return function(t,n){for(var r=!1,i=0,o=Oi(e);i<o.length;i++){var s=o[i],u=cT(s,t,n);if(u!==0)return u;r=r||s.field.isKeyField()}return 0}}function cT(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(i,o,s){var u=o.data.field(i),a=s.data.field(i);return u!==null&&a!==null?Di(u,a):H()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(t)?"-0":t}}function ev(e){return{integerValue:""+e}}function tv(e,t){return Km(t)?ev(t):Zm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua=function(){this._=void 0};function lT(e,t,n){return e instanceof Ri?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Ur?rv(e,t):e instanceof qr?iv(e,t):function(r,i){var o=nv(r,i),s=sd(o)+sd(r.A);return Pc(o)&&Pc(r.A)?ev(s):Zm(r.R,s)}(e,t)}function fT(e,t,n){return e instanceof Ur?rv(e,t):e instanceof qr?iv(e,t):n}function nv(e,t){return e instanceof ki?Pc(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Ri=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t}(ua),Ur=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(ua);function rv(e,t){for(var n=ov(t),r=function(s){n.some(function(u){return yn(u,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qr=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(ua);function iv(e,t){for(var n=ov(t),r=function(s){n=n.filter(function(u){return!yn(u,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ki=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return J(t,e),t}(ua);function sd(e){return je(e.integerValue||e.doubleValue)}function ov(e){return Kl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs=function(e,t){this.field=e,this.transform=t},hT=function(e,t){this.version=e,this.transformResults=t},ht=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Bs(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var aa=function(){};function dT(e,t,n){e instanceof ms?function(r,i,o){var s=r.value.clone(),u=cd(r.fieldTransforms,i,o.transformResults);s.setAll(u),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof ar?function(r,i,o){if(Bs(r.precondition,i)){var s=cd(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(sv(r)),u.setAll(s),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Mc(e,t,n){e instanceof ms?function(r,i,o){if(Bs(r.precondition,i)){var s=r.value.clone(),u=ld(r.fieldTransforms,o,i);s.setAll(u),i.convertToFoundDocument(ad(i),s).setHasLocalMutations()}}(e,t,n):e instanceof ar?function(r,i,o){if(Bs(r.precondition,i)){var s=ld(r.fieldTransforms,o,i),u=i.data;u.setAll(sv(r)),u.setAll(s),i.convertToFoundDocument(ad(i),u).setHasLocalMutations()}}(e,t,n):function(r,i){Bs(r.precondition,i)&&i.convertToNoDocument(ae.min())}(e,t)}function pT(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),u=nv(o.transform,s||null);u!=null&&(n==null&&(n=Lt.empty()),n.set(o.field,u))}return n||null}function ud(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ai(n,r,function(i,o){return function(s,u){return s.field.isEqual(u.field)&&function(a,c){return a instanceof Ur&&c instanceof Ur||a instanceof qr&&c instanceof qr?Ai(a.elements,c.elements,yn):a instanceof ki&&c instanceof ki?yn(a.A,c.A):a instanceof Ri&&c instanceof Ri}(s.transform,u.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ad(e){return e.isFoundDocument()?e.version:ae.min()}var ms=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return J(t,e),t}(aa),ar=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return J(t,e),t}(aa);function sv(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function cd(e,t,n){var r=new Map;Z(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,u=t.data.field(o.field);r.set(o.field,fT(s,u,n[i]))}return r}function ld(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],u=s.transform,a=n.data.field(s.field);r.set(s.field,lT(u,a,t))}return r}var qe,he,vs=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return J(t,e),t}(aa),Yl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return J(t,e),t}(aa),gT=function(e){this.count=e};function uv(e){switch(e){case b.OK:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return H()}}function av(e){if(e===void 0)return Be("GRPC error has no .code"),b.UNKNOWN;switch(e){case qe.OK:return b.OK;case qe.CANCELLED:return b.CANCELLED;case qe.UNKNOWN:return b.UNKNOWN;case qe.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case qe.INTERNAL:return b.INTERNAL;case qe.UNAVAILABLE:return b.UNAVAILABLE;case qe.UNAUTHENTICATED:return b.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case qe.NOT_FOUND:return b.NOT_FOUND;case qe.ALREADY_EXISTS:return b.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return b.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case qe.ABORTED:return b.ABORTED;case qe.OUT_OF_RANGE:return b.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return b.UNIMPLEMENTED;case qe.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt=function(){function e(t,n){this.comparator=t,this.root=n||Kn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Os(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Os(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Os(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Os(this.root,t,this.comparator,!0)},e}(),Os=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Kn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=o!=null?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();var t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)},e}();Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1,Kn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw H()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Kn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke=function(){function e(t){this.comparator=t,this.data=new gt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new fd(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new fd(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),fd=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),mT=new gt(W.comparator);function en(){return mT}var vT=new gt(W.comparator);function Fc(){return vT}var yT=new gt(W.comparator);function wT(){return yT}var bT=new Ke(W.comparator);function Ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=bT,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _T=new Ke(fe);function ca(){return _T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ae.min(),r,ca(),en(),Ne())},e}(),Jl=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(St.EMPTY_BYTE_STRING,n,Ne(),Ne(),Ne())},e}(),$s=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},cv=function(e,t){this.targetId=e,this.V=t},lv=function(e,t,n,r){n===void 0&&(n=St.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},hd=function(){function e(){this.S=0,this.D=pd(),this.C=St.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Ne(),n=Ne(),r=Ne();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Jl(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=pd()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ET=function(){function e(t){this.W=t,this.G=new Map,this.H=en(),this.J=dd(),this.Y=new Ke(fe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:H()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(mu(o))if(r===0){var s=new W(o.path);this.tt(n,s,pt.newNoDocument(s,ae.min()))}else Z(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,u){var a=n.ot(u);if(a){if(s.current&&mu(a.target)){var c=new W(a.target.path);n.H.get(c)!==null||n.at(u,c)||n.tt(u,c,pt.newNoDocument(c,t))}s.$&&(r.set(u,s.M()),s.L())}});var i=Ne();this.J.forEach(function(s,u){var a=!0;u.forEachWhile(function(c){var l=n.ot(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))});var o=new Xl(t,r,this.Y,this.H,i);return this.H=en(),this.J=dd(),this.Y=new Ke(fe),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new hd,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ke(fe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||k("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new hd),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function dd(){return new gt(W.comparator)}function pd(){return new gt(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TT={asc:"ASCENDING",desc:"DESCENDING"},IT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ST=function(e,t){this.databaseId=e,this.I=t};function Ko(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fv(e,t){return e.I?t.toBase64():t.toUint8Array()}function CT(e,t){return Ko(e,t.toTimestamp())}function _t(e){return Z(!!e),ae.fromTimestamp(function(t){var n=ir(t);return new It(n.seconds,n.nanos)}(e))}function Zl(e,t){return function(n){return new me(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hv(e){var t=me.fromString(e);return Z(wv(t)),t}function Wo(e,t){return Zl(e.databaseId,t.path)}function An(e,t){var n=hv(t);if(n.get(1)!==e.databaseId.projectId)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(pv(n))}function Vc(e,t){return Zl(e.databaseId,t)}function dv(e){var t=hv(e);return t.length===4?me.emptyPath():pv(t)}function Go(e){return new me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pv(e){return Z(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function gd(e,t,n){return{name:Wo(e,t),fields:n.value.mapValue.fields}}function AT(e,t,n){var r=An(e,t.name),i=_t(t.updateTime),o=new Lt({mapValue:{fields:t.fields}}),s=pt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function wu(e,t){var n;if(t instanceof ms)n={update:gd(e,t.key,t.value)};else if(t instanceof vs)n={delete:Wo(e,t.key)};else if(t instanceof ar)n={update:gd(e,t.key,t.data),updateMask:RT(t.fieldMask)};else{if(!(t instanceof Yl))return H();n={verify:Wo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Ri)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ur)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof qr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ki)return{fieldPath:o.field.canonicalString(),increment:s.A};throw H()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:CT(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(e,t.precondition)),n}function md(e,t){var n=t.currentDocument?function(c){return c.updateTime!==void 0?ht.updateTime(_t(c.updateTime)):c.exists!==void 0?ht.exists(c.exists):ht.none()}(t.currentDocument):ht.none(),r=t.updateTransforms?t.updateTransforms.map(function(c){return function(l,f){var h=null;if("setToServerValue"in f)Z(f.setToServerValue==="REQUEST_TIME"),h=new Ri;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new Ur(d)}else if("removeAllFromArray"in f){var p=f.removeAllFromArray.values||[];h=new qr(p)}else"increment"in f?h=new ki(l,f.increment):H();var m=rn.fromServerFormat(f.fieldPath);return new gs(m,h)}(e,c)}):[];if(t.update){t.update.name;var i=An(e,t.update.name),o=new Lt({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(c){var l=c.fieldPaths||[];return new xi(l.map(function(f){return rn.fromServerFormat(f)}))}(t.updateMask);return new ar(i,o,s,n,r)}return new ms(i,o,n,r)}if(t.delete){var u=An(e,t.delete);return new vs(u,n)}if(t.verify){var a=An(e,t.verify);return new Yl(a,n)}return H()}function gv(e,t){return{documents:[Vc(e,t.path)]}}function mv(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Vc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var a=u.map(function(c){return function(l){if(l.op==="=="){if(nd(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NAN"}};if(td(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NULL"}}}else if(l.op==="!="){if(nd(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NOT_NAN"}};if(td(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(l.field),op:NT(l.op),value:l.value}}}(c)});return a.length===1?a[0]:{compositeFilter:{op:"AND",filters:a}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(a){return function(c){return{field:ri(c.field),direction:xT(c.dir)}}(a)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(u,a){return u.I||Kr(a)?a:{value:a}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=vd(t.startAt)),t.endAt&&(n.structuredQuery.endAt=vd(t.endAt)),n}function vv(e){var t=dv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Z(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=yv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(f){return function(h){return new wi(pi(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var a=null;n.limit&&(a=function(f){var h;return Kr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var c=null;n.startAt&&(c=yd(n.startAt));var l=null;return n.endAt&&(l=yd(n.endAt)),Qm(t,i,u,s,a,"F",c,l)}function yv(e){return e?e.unaryFilter!==void 0?[OT(e)]:e.fieldFilter!==void 0?[DT(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yv(t)}).reduce(function(t,n){return t.concat(n)}):H():[]}function vd(e){return{before:e.before,values:e.position}}function yd(e){var t=!!e.before,n=e.values||[];return new Ho(n,t)}function xT(e){return TT[e]}function NT(e){return IT[e]}function ri(e){return{fieldPath:e.canonicalString()}}function pi(e){return rn.fromServerFormat(e.fieldPath)}function DT(e){return Ft.create(pi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}function OT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pi(e.unaryFilter.field);return Ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pi(e.unaryFilter.field);return Ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pi(e.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pi(e.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return H()}}function RT(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function wv(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=wd(t)),t=kT(e.get(n),t);return wd(t)}function kT(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function wd(e){return e+""}function Sn(e){var t=e.length;if(Z(t>=2),t===2)return Z(e.charAt(0)===""&&e.charAt(1)===""),me.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&H(),e.charAt(s+1)){case"":var u=e.substring(o,s),a=void 0;i.length===0?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:H()}o=s+2}return new me(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(e,t){this.seconds=e,this.nanoseconds=t},Ot=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ot.store="owner",Ot.key="owner";var er=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};er.store="mutationQueues",er.keyPath="userId";var Re=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Re.store="mutations",Re.keyPath="batchId",Re.userMutationsIndex="userMutationsIndex",Re.userMutationsKeyPath=["userId","batchId"];var ut=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,tn(n)]},e.key=function(t,n,r){return[t,tn(n),r]},e}();ut.store="documentMutations",ut.PLACEHOLDER=new ut;var LT=function(e,t){this.path=e,this.readTime=t},MT=function(e,t){this.path=e,this.version=t},Fe=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fe.store="remoteDocuments",Fe.readTimeIndex="readTimeIndex",Fe.readTimeIndexPath="readTime",Fe.collectionReadTimeIndex="collectionReadTimeIndex",Fe.collectionReadTimeIndexPath=["parentPath","readTime"];var gn=function(e){this.byteSize=e};gn.store="remoteDocumentGlobal",gn.key="remoteDocumentGlobalKey";var Tt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Tt.store="targets",Tt.keyPath="targetId",Tt.queryTargetsIndexName="queryTargetsIndex",Tt.queryTargetsKeyPath=["canonicalId","targetId"];var Ze=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ze.store="targetDocuments",Ze.keyPath=["targetId","path"],Ze.documentTargetsIndex="documentTargetsIndex",Ze.documentTargetsKeyPath=["path","targetId"];var kt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kt.key="targetGlobalKey",kt.store="targetGlobal";var Dr=function(e,t){this.collectionId=e,this.parent=t};Dr.store="collectionParents",Dr.keyPath=["collectionId","parent"];var xn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};xn.store="clientMetadata",xn.keyPath="clientId";var Pi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Pi.store="bundles",Pi.keyPath="bundleId";var Li=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Li.store="namedQueries",Li.keyPath="name";var FT=Ve(Ve([],Ve(Ve([],Ve(Ve([],Ve(Ve([],[er.store,Re.store,ut.store,Fe.store,Tt.store,Ot.store,kt.store,Ze.store]),[xn.store])),[gn.store])),[Dr.store])),[Pi.store,Li.store]),bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Ct=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},O=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(u){++i,u.next(function(){++o,s&&o===i&&n()},function(a){return r(a)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(u){return u?e.resolve(u):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),Ev=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Ct,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Io(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=ef(i.target.error);r.ft.reject(new Io(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new Io(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(k("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new UT(n)},e}(),Mi=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Lr())===12.2&&Be("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return k("SimpleDb","Removing database:",t),Er(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Lr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(k("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(a){var c=a.target.result;o(c)},u.onblocked=function(){s(new Io(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(a){var c=a.target.error;c.name==="VersionError"?s(new x(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new Io(t,c))},u.onupgradeneeded=function(a){k("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',a.oldVersion);var c=a.target.result;r.wt.Rt(c,u.transaction,a.oldVersion,r.version).next(function(){k("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return C(this,void 0,void 0,function(){var o,s,u,a,c;return I(this,function(l){switch(l.label){case 0:o=n==="readonly",s=0,u=function(){var f,h,d,p,m;return I(this,function(y){switch(y.label){case 0:++s,y.label=1;case 1:return y.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=y.sent(),f=Ev.open(a.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(w){return f.abort(w),O.reject(w)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(y.sent(),h),d)];case 4:return p=y.sent(),m=p.name!=="FirebaseError"&&s<3,k("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),a.close(),m?[3,5]:[2,{value:Promise.reject(p)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,u()];case 2:if(typeof(c=l.sent())=="object")return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),VT=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Er(this.Pt.delete())},e}(),Io=function(e){function t(n,r){var i=this;return(i=e.call(this,b.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return J(t,e),t}(x);function Wr(e){return e.name==="IndexedDbTransactionError"}var UT=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Er(r)},e.prototype.add=function(t){return k("SimpleDb","ADD",this.store.name,t,t),Er(this.store.add(t))},e.prototype.get=function(t){var n=this;return Er(this.store.get(t)).next(function(r){return r===void 0&&(r=null),k("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return k("SimpleDb","DELETE",this.store.name,t),Er(this.store.delete(t))},e.prototype.count=function(){return k("SimpleDb","COUNT",this.store.name),Er(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){k("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,u){return u.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new O(function(r,i){n.onerror=function(o){var s=ef(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(u){u?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new O(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var u=s.target.result;if(u){var a=new VT(u),c=n(u.primaryKey,u.value,a);if(c instanceof O){var l=c.catch(function(f){return a.done(),O.reject(f)});r.push(l)}a.isDone?i():a.Dt===null?u.continue():u.continue(a.Dt)}else i()}}).next(function(){return O.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Er(e){return new O(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=ef(r.target.error);n(i)}})}var bd=!1;function ef(e){var t=Mi._t(Lr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return bd||(bd=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _d=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return J(t,e),t}(_v);function At(e,t){var n=V(e);return Mi.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&dT(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&Mc(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&Mc(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ae.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ne())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ai(this.mutations,t.mutations,function(n,r){return ud(n,r)})&&Ai(this.baseMutations,t.baseMutations,function(n,r){return ud(n,r)})},e}(),qT=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){Z(t.mutations.length===r.length);for(var i=wT(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),la=function(){function e(t,n,r,i,o,s,u){o===void 0&&(o=ae.min()),s===void 0&&(s=ae.min()),u===void 0&&(u=St.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Tv=function(e){this.Lt=e};function Uc(e,t){if(t.document)return AT(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Vi(t.noDocument.readTime),i=pt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Vi(t.unknownDocument.version),pt.newUnknownDocument(o,r)}return H()}function Ed(e,t,n){var r=nf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Wo(f,h.key),fields:h.data.value.mapValue.fields,updateTime:Ko(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Fe(null,null,o,s,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),a=Fi(t.version);return s=t.hasCommittedMutations,new Fe(null,new LT(u,a),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Fi(t.version);return new Fe(new MT(c,l),null,null,!0,r,i)}return H()}function nf(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Iv(e){var t=new It(e[0],e[1]);return ae.fromTimestamp(t)}function Fi(e){var t=e.toTimestamp();return new PT(t.seconds,t.nanoseconds)}function Vi(e){var t=new It(e.seconds,e.nanoseconds);return ae.fromTimestamp(t)}function li(e,t){for(var n=(t.baseMutations||[]).map(function(a){return md(e.Lt,a)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(a){return md(e.Lt,a)}),u=It.fromMillis(t.localWriteTimeMs);return new tf(t.batchId,u,n,s)}function fo(e){var t,n,r=Vi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Vi(e.lastLimboFreeSnapshotVersion):ae.min();return e.query.documents!==void 0?(Z((n=e.query).documents.length===1),t=wn(hs(dv(n.documents[0])))):t=function(o){return wn(vv(o))}(e.query),new la(t,e.targetId,0,e.lastListenSequenceNumber,r,i,St.fromBase64String(e.resumeToken))}function Sv(e,t){var n,r=Fi(t.snapshotVersion),i=Fi(t.lastLimboFreeSnapshotVersion);n=mu(t.target)?gv(e.Lt,t.target):mv(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Tt(t.targetId,fs(t.target),r,o,t.sequenceNumber,i,n)}function Cv(e){var t=vv({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ym(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Td(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Vi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Td(t).put({bundleId:(r=n).id,createTime:Fi(_t(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Id(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Cv(i.bundledQuery),readTime:Vi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return Id(t).put(function(r){return{name:r.name,readTime:Fi(_t(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Td(e){return At(e,Pi.store)}function Id(e){return At(e,Li.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BT=function(){function e(){this.Bt=new rf}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),O.resolve()},e.prototype.getCollectionParents=function(t,n){return O.resolve(this.Bt.getEntries(n))},e}(),rf=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ke(me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ke(me.comparator)).toArray()},e}(),$T=function(){function e(){this.qt=new rf}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:tn(o)};return Sd(t).put(s)}return O.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Bm(n),""],!1,!0);return Sd(t).Nt(i).next(function(o){for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.collectionId!==n)break;r.push(Sn(a.parent))}return r})},e}();function Sd(e){return At(e,Dr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(e,t,n){var r=e.store(Re.store),i=e.store(ut.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.$t({range:s},function(p,m,y){return u++,y.delete()});o.push(a.next(function(){Z(u===1)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=ut.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return O.waitFor(o).next(function(){return c})}function bu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw H();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var zT=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return Z(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Un(t).$t({index:Re.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=fi(t),u=Un(t);return u.add({}).next(function(a){Z(typeof a=="number");for(var c=new tf(a,n,r,i),l=function(w,E,T){var R=T.baseMutations.map(function(Q){return wu(w.Lt,Q)}),U=T.mutations.map(function(Q){return wu(w.Lt,Q)});return new Re(E,T.batchId,T.localWriteTime.toMillis(),R,U)}(o.R,o.userId,c),f=[],h=new Ke(function(w,E){return fe(w.canonicalString(),E.canonicalString())}),d=0,p=i;d<p.length;d++){var m=p[d],y=ut.key(o.userId,m.key.path,a);h=h.add(m.key.path.popLast()),f.push(u.put(l)),f.push(s.put(y,ut.PLACEHOLDER))}return h.forEach(function(w){f.push(o.Ut.addToCollectionParentIndex(t,w))}),t.addOnCommittedListener(function(){o.Kt[a]=c.keys()}),O.waitFor(f).next(function(){return c})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Un(t).get(n).next(function(i){return i?(Z(i.userId===r.userId),li(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?O.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Un(t).$t({index:Re.userMutationsIndex,range:o},function(u,a,c){a.userId===r.userId&&(Z(a.batchId>=i),s=li(r.R,a)),c.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Un(t).$t({index:Re.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Un(t).Nt(Re.userMutationsIndex,r).next(function(i){return i.map(function(o){return li(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=ut.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return fi(t).$t({range:o},function(u,a,c){var l=u[0],f=u[1],h=u[2],d=Sn(f);if(l===r.userId&&n.path.isEqual(d))return Un(t).get(h).next(function(p){if(!p)throw H();Z(p.userId===r.userId),s.push(li(r.R,p))});c.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(fe),o=[];return n.forEach(function(s){var u=ut.prefixForPath(r.userId,s.path),a=IDBKeyRange.lowerBound(u),c=fi(t).$t({range:a},function(l,f,h){var d=l[0],p=l[1],m=l[2],y=Sn(p);d===r.userId&&s.path.isEqual(y)?i=i.add(m):h.done()});o.push(c)}),O.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=ut.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s),a=new Ke(fe);return fi(t).$t({range:u},function(c,l,f){var h=c[0],d=c[1],p=c[2],m=Sn(d);h===r.userId&&i.isPrefixOf(m)?m.length===o&&(a=a.add(p)):f.done()}).next(function(){return r.Wt(t,a)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(Un(t).get(s).next(function(u){if(u===null)throw H();Z(u.userId===r.userId),i.push(li(r.R,u))}))}),O.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Av(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),O.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return O.resolve();var i=IDBKeyRange.lowerBound(ut.prefixForUser(n.userId)),o=[];return fi(t).$t({range:i},function(s,u,a){if(s[0]===n.userId){var c=Sn(s[1]);o.push(c)}else a.done()}).next(function(){Z(o.length===0)})})},e.prototype.containsKey=function(t,n){return xv(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Nv(t).get(this.userId).next(function(r){return r||new er(n.userId,-1,"")})},e}();function xv(e,t,n){var r=ut.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return fi(e).$t({range:o,Ft:!0},function(u,a,c){var l=u[0],f=u[1];u[2],l===t&&f===i&&(s=!0),c.done()}).next(function(){return s})}function Un(e){return At(e,Re.store)}function fi(e){return At(e,ut.store)}function Nv(e){return At(e,er.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),HT=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new _u(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ae.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ii(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return Z(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return ii(t).$t(function(u,a){var c=fo(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(o++,s.push(i.removeTargetData(t,c)))}).next(function(){return O.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return ii(t).$t(function(r,i){var o=fo(i);n(o)})},e.prototype.Xt=function(t){return Ad(t).get(kt.key).next(function(n){return Z(n!==null),n})},e.prototype.Zt=function(t,n){return Ad(t).put(kt.key,n)},e.prototype.te=function(t,n){return ii(t).put(Sv(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=fs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ii(t).$t({range:i,index:Tt.queryTargetsIndexName},function(s,u,a){var c=fo(u);sa(n,c.target)&&(o=c,a.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Wn(t);return n.forEach(function(u){var a=tn(u.path);o.push(s.put(new Ze(r,a))),o.push(i.referenceDelegate.addReference(t,r,u))}),O.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Wn(t);return O.forEach(n,function(s){var u=tn(s.path);return O.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Wn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Wn(t),o=Ne();return i.$t({range:r,Ft:!0},function(s,u,a){var c=Sn(s[1]),l=new W(c);o=o.add(l)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=tn(n.path),i=IDBKeyRange.bound([r],[Bm(r)],!1,!0),o=0;return Wn(t).$t({index:Ze.documentTargetsIndex,Ft:!0,range:i},function(s,u,a){var c=s[0];s[1],c!==0&&(o++,a.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return ii(t).get(n).next(function(r){return r?fo(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e){return At(e,Tt.store)}function Ad(e){return At(e,kt.store)}function Wn(e){return At(e,Ze.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return C(this,void 0,void 0,function(){return I(this,function(t){if(e.code!==b.FAILED_PRECONDITION||e.message!==bv)throw e;return k("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=fe(n,i);return s===0?fe(r,o):s}var KT=function(){function e(t){this.ne=t,this.buffer=new Ke(xd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();xd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),WT=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;k("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Wr(i=o.sent())?(k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gr(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),GT=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return O.resolve(Mt.o);var i=new KT(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Cd)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Cd):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,u,a,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>l.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+h),i=l.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),l.nthSequenceNumber(t,i)}).next(function(h){return r=h,u=Date.now(),l.removeTargets(t,r,n)}).next(function(h){return o=h,a=Date.now(),l.removeOrphanedDocuments(t,r)}).next(function(h){return c=Date.now(),Rc()<=ge.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(u-s)+`ms
	Removed `+o+" targets in "+(a-u)+`ms
	Removed `+h+" documents in "+(c-a)+`ms
Total Duration: `+(c-f)+"ms"),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),QT=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new GT(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Rs(t,r)},e.prototype.removeReference=function(t,n,r){return Rs(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Rs(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return Nv(r).Ot(function(s){return xv(r,s,i).next(function(u){return u&&(o=!0),O.resolve(!u)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(u,a){if(a<=n){var c=r._e(t,u).next(function(l){if(!l)return s++,i.getEntry(t,u).next(function(){return i.removeEntry(u),Wn(t).delete([0,tn(u.path)])})});o.push(c)}}).next(function(){return O.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Rs(t,n)},e.prototype.we=function(t,n){var r,i=Wn(t),o=Mt.o;return i.$t({index:Ze.documentTargetsIndex},function(s,u){var a=s[0];s[1];var c=u.path,l=u.sequenceNumber;a===0?(o!==Mt.o&&n(new W(Sn(r)),o),o=l,r=c):o=Mt.o}).next(function(){o!==Mt.o&&n(new W(Sn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Rs(e,t){return Wn(e).put(function(n,r){return new Ze(0,tn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];if(this.equalsFn(u,t))return a}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Hr(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];t(u,a)}})},e.prototype.isEmpty=function(){return $m(this.inner)},e}(),Dv=function(){function e(){this.changes=new Gi(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ae.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:pt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?O.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),YT=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Hn(t).put(ks(n),r)},e.prototype.removeEntry=function(t,n){var r=Hn(t),i=ks(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Hn(t).get(ks(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Hn(t).get(ks(n)).next(function(i){return{document:r.ye(n,i),size:bu(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=en();return this.pe(t,n,function(o,s){var u=r.ye(o,s);i=i.insert(o,u)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=en(),o=new gt(W.comparator);return this.pe(t,n,function(s,u){var a=r.ye(s,u);i=i.insert(s,a),o=o.insert(s,bu(u))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return O.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return Hn(t).$t({range:i},function(u,a,c){for(var l=W.fromSegments(u);s&&W.comparator(s,l)<0;)r(s,null),s=o.getNext();s&&s.isEqual(l)&&(r(s,a),s=o.hasNext()?o.getNext():null),s?c.Ct(s.path.toArray()):c.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=en(),s=n.path.length+1,u={};if(r.isEqual(ae.min())){var a=n.path.toArray();u.range=IDBKeyRange.lowerBound(a)}else{var c=n.path.toArray(),l=nf(r);u.range=IDBKeyRange.lowerBound([c,l],!0),u.index=Fe.collectionReadTimeIndex}return Hn(t).$t(u,function(f,h,d){if(f.length===s){var p=Uc(i.R,h);n.path.isPrefixOf(p.key.path)?ps(n,p)&&(o=o.insert(p.key,p)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new XT(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Nd(t).get(gn.key).next(function(n){return Z(!!n),n})},e.prototype.me=function(t,n){return Nd(t).put(gn.key,n)},e.prototype.ye=function(t,n){if(n){var r=Uc(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ae.min()))return r}return pt.newInvalidDocument(t)},e}(),XT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Gi(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ke(function(u,a){return fe(u.canonicalString(),a.canonicalString())});return this.changes.forEach(function(u,a){var c=r.Ae.get(u);if(a.document.isValidDocument()){var l=Ed(r.Ie.R,a.document,r.getReadTime(u));s=s.add(u.path.popLast());var f=bu(l);o+=f-c,i.push(r.Ie.addEntry(n,u,l))}else if(o-=c,r.trackRemovals){var h=Ed(r.Ie.R,pt.newNoDocument(u,ae.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,h))}else i.push(r.Ie.removeEntry(n,u))}),s.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),O.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(u,a){i.Ae.set(u,a)}),s})},t}(Dv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e){return At(e,gn.store)}function Hn(e){return At(e,Fe.store)}function ks(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JT=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;Z(r<i&&r>=0&&i<=11);var s=new Ev("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore(Ot.store)}(t),function(a){a.createObjectStore(er.store,{keyPath:er.keyPath}),a.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),a.createObjectStore(ut.store)}(t),Dd(t),function(a){a.createObjectStore(Fe.store)}(t));var u=O.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore(Ze.store),a.deleteObjectStore(Tt.store),a.deleteObjectStore(kt.store)}(t),Dd(t)),u=u.next(function(){return function(a){var c=a.store(kt.store),l=new kt(0,0,ae.min().toTimestamp(),0);return c.put(kt.key,l)}(s)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(a,c){return c.store(Re.store).Nt().next(function(l){a.deleteObjectStore(Re.store),a.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var f=c.store(Re.store),h=l.map(function(d){return f.put(d)});return O.waitFor(h)})}(t,s)})),u=u.next(function(){(function(a){a.createObjectStore(xn.store,{keyPath:xn.keyPath})})(t)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(s)})),r<6&&i>=6&&(u=u.next(function(){return function(a){a.createObjectStore(gn.store)}(t),o.be(s)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(s)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(u=u.next(function(){(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t),function(a){var c=a.objectStore(Fe.store);c.createIndex(Fe.readTimeIndex,Fe.readTimeIndexPath,{unique:!1}),c.createIndex(Fe.collectionReadTimeIndex,Fe.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(s)})),r<11&&i>=11&&(u=u.next(function(){(function(a){a.createObjectStore(Pi.store,{keyPath:Pi.keyPath})})(t),function(a){a.createObjectStore(Li.store,{keyPath:Li.keyPath})}(t)})),u},e.prototype.be=function(t){var n=0;return t.store(Fe.store).$t(function(r,i){n+=bu(i)}).next(function(){var r=new gn(n);return t.store(gn.store).put(gn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(er.store),i=t.store(Re.store);return r.Nt().next(function(o){return O.forEach(o,function(s){var u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(Re.userMutationsIndex,u).next(function(a){return O.forEach(a,function(c){Z(c.userId===s.userId);var l=li(n.R,c);return Av(t,s.userId,l).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ze.store),r=t.store(Fe.store);return t.store(kt.store).get(kt.key).next(function(i){var o=[];return r.$t(function(s,u){var a=new me(s),c=function(l){return[0,tn(l)]}(a);o.push(n.get(c).next(function(l){return l?O.resolve():function(f){return n.put(new Ze(0,tn(f),i.highestListenSequenceNumber))}(a)}))}).next(function(){return O.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Dr.store,{keyPath:Dr.keyPath});var r=n.store(Dr.store),i=new rf,o=function(s){if(i.add(s)){var u=s.lastSegment(),a=s.popLast();return r.put({collectionId:u,parent:tn(a)})}};return n.store(Fe.store).$t({Ft:!0},function(s,u){var a=new me(s);return o(a.popLast())}).next(function(){return n.store(ut.store).$t({Ft:!0},function(s,u){s[0];var a=s[1];s[2];var c=Sn(a);return o(c.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Tt.store);return r.$t(function(i,o){var s=fo(o),u=Sv(n.R,s);return r.put(u)})},e}();function Dd(e){e.createObjectStore(Ze.store,{keyPath:Ze.keyPath}).createIndex(Ze.documentTargetsIndex,Ze.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tt.store,{keyPath:Tt.keyPath}).createIndex(Tt.queryTargetsIndexName,Tt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kt.store)}var Ha="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ZT=function(){function e(t,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new x(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QT(this,i),this.Le=n+"main",this.R=new Tv(a),this.Be=new Mi(this.Le,11,new JT(this.R)),this.qe=new HT(this.referenceDelegate,this.R),this.Ut=new $T,this.Ue=function(f,h){return new YT(f,h)}(this.R,this.Ut),this.Ke=new jT,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,l===!1&&Be("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,Ha);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Mt(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return C(n,void 0,void 0,function(){return I(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return C(n,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return C(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ps(n).put(new xn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Wr(n))return k("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return uo(t).get(Ot.key).next(function(r){return O.resolve(n.tn(r))})},e.prototype.en=function(t){return Ps(t).delete(this.clientId)},e.prototype.nn=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o=this;return I(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var a=At(u,xn.store);return a.Nt().next(function(c){var l=o.rn(c,18e5),f=c.filter(function(h){return l.indexOf(h)===-1});return O.forEach(f,function(h){return a.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?O.resolve(!0):uo(t).get(Ot.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,Ha);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ps(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,a=n.networkEnabled===o.networkEnabled;if(s||u&&a)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&k("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return C(this,void 0,void 0,function(){var t=this;return I(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ot.store,xn.store],function(r){var i=new _d(r,Mt.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ps(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return zT.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;k("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,FT,function(u){return o=new _d(u,i.Ne?i.Ne.next():Mt.o),n==="readwrite-primary"?i.Je(o).next(function(a){return!!a||i.Ye(o)}).next(function(a){if(!a)throw Be("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new x(b.FAILED_PRECONDITION,bv);return r(o)}).next(function(a){return i.Ze(o).next(function(){return a})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.dn=function(t){var n=this;return uo(t).get(Ot.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new x(b.FAILED_PRECONDITION,Ha)})},e.prototype.Ze=function(t){var n=new Ot(this.clientId,this.allowTabSynchronization,Date.now());return uo(t).put(Ot.key,n)},e.yt=function(){return Mi.yt()},e.prototype.Xe=function(t){var n=this,r=uo(t);return r.get(Ot.key).next(function(i){return n.tn(i)?(k("IndexedDbPersistence","Releasing primary lease."),r.delete(Ot.key)):O.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Be("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),oE()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return k("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Be("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Be("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function uo(e){return At(e,Ot.store)}function Ps(e){return At(e,xn.store)}function of(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ov=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return W.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Ql(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new W(n)).next(function(r){var i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Fc();return this.Ut.getCollectionParents(t,o).next(function(u){return O.forEach(u,function(a){var c=function(l,f){return new kn(f,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(o));return i.An(t,c,r).next(function(l){l.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(u){return i=u,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(u){return o=u,s.Rn(t,o,i).next(function(a){i=a;for(var c=0,l=o;c<l.length;c++)for(var f=l[c],h=0,d=f.mutations;h<d.length;h++){var p=d[h],m=p.key,y=i.get(m);y==null&&(y=pt.newInvalidDocument(m),i=i.insert(m,y)),Mc(p,y,f.localWriteTime),y.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(u,a){ps(n,a)||(i=i.remove(u))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Ne(),o=0,s=n;o<s.length;o++)for(var u=0,a=s[o].mutations;u<a.length;u++){var c=a[u];c instanceof ar&&r.get(c.key)===null&&(i=i.add(c.key))}var l=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(l=l.insert(h,d))}),l})},e}(),eI=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Ne(),i=Ne(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Rv=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ae.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var u=o.Cn(n,s);return(js(n)||yu(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(t,n):(Rc()<=ge.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lc(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(a){return u.forEach(function(c){a=a.insert(c.key,c)}),a}))})},e.prototype.Cn=function(t,n){var r=new Ke(Jm(t));return n.forEach(function(i,o){ps(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Rc()<=ge.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Lc(n)),this.Sn.getDocumentsMatchingQuery(t,n,ae.min())},e}(),tI=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new gt(fe),this.Fn=new Gi(function(o){return fs(o)},sa),this.$n=ae.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ov(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e,t,n,r){return new tI(e,t,n,r)}function Pv(e,t){return C(this,void 0,void 0,function(){var n,r,i,o;return I(this,function(s){switch(s.label){case 0:return n=V(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var a;return n._n.getAllMutationBatches(u).next(function(c){return a=c,r=n.persistence.getMutationQueue(t),i=new Ov(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(c){for(var l=[],f=[],h=Ne(),d=0,p=a;d<p.length;d++){var m=p[d];l.push(m.batchId);for(var y=0,w=m.mutations;y<w.length;y++){var E=w[y];h=h.add(E.key)}}for(var T=0,R=c;T<R.length;T++){var U=R[T];f.push(U.batchId);for(var Q=0,ce=U.mutations;Q<ce.length;Q++){var ne=ce[Q];h=h.add(ne.key)}}return i.pn(u,h).next(function(se){return{Ln:se,removedBatchIds:l,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function nI(e,t){var n=V(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,u,a,c){var l=a.batch,f=l.keys(),h=O.resolve();return f.forEach(function(d){h=h.next(function(){return c.getEntry(u,d)}).next(function(p){var m=a.docVersions.get(d);Z(m!==null),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,a),p.isValidDocument()&&c.addEntry(p,a.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(u,l)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Lv(e){var t=V(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function rI(e,t){var n=V(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];t.targetChanges.forEach(function(l,f){var h=i.get(f);if(h){u.push(n.qe.removeMatchingKeys(o,l.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,l.addedDocuments,f)}));var d=l.resumeToken;if(d.approximateByteSize()>0){var p=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,p),function(m,y,w){return Z(y.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,l)&&u.push(n.qe.updateTargetData(o,p))}}});var a=en();if(t.documentUpdates.forEach(function(l,f){t.resolvedLimboDocuments.has(l)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),u.push(iI(o,s,t.documentUpdates,r,void 0).next(function(l){a=l})),!r.isEqual(ae.min())){var c=n.qe.getLastRemoteSnapshotVersion(o).next(function(l){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(c)}return O.waitFor(u).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,a)}).next(function(){return a})}).then(function(o){return n.kn=i,o})}function iI(e,t,n,r,i){var o=Ne();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var u=en();return n.forEach(function(a,c){var l=s.get(a),f=(i==null?void 0:i.get(a))||r;c.isNoDocument()&&c.version.isEqual(ae.min())?(t.removeEntry(a,f),u=u.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c,f),u=u.insert(a,c)):k("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),u})}function oI(e,t){var n=V(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Eu(e,t){var n=V(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,O.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new la(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Ui(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:r=V(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(a){return r.persistence.referenceDelegate.removeTarget(a,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Wr(s=u.sent()))throw s;return k("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Tu(e,t,n){var r=V(e),i=ae.min(),o=Ne();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(u,a,c){var l=V(u),f=l.Fn.get(c);return f!==void 0?O.resolve(l.kn.get(f)):l.qe.getTargetData(a,c)}(r,s,wn(t)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,u.targetId).next(function(a){o=a})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?o:Ne())}).next(function(u){return{documents:u,Bn:o}})})}function Mv(e,t){var n=V(e),r=V(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function Fv(e){var t=V(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=V(r),u=en(),a=nf(o),c=Hn(i),l=IDBKeyRange.lowerBound(a,!0);return c.$t({index:Fe.readTimeIndex,range:l},function(f,h){var d=Uc(s.R,h);u=u.insert(d.key,d),a=h.readTime}).next(function(){return{wn:u,readTime:Iv(a)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function sI(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,(t=V(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Hn(i),s=ae.min();return o.$t({index:Fe.readTimeIndex,reverse:!0},function(u,a,c){a.readTime&&(s=Iv(a.readTime)),c.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uI=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return O.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),O.resolve()},e.prototype.getNamedQuery=function(t,n){return O.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Cv(r.bundledQuery),readTime:_t(r.readTime)}}(n)),O.resolve()},e}(),sf=function(){function e(){this.Wn=new Ke(We.Gn),this.zn=new Ke(We.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new We(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new We(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new W(new me([])),i=new We(r,t),o=new We(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),s.push(u.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new W(new me([])),r=new We(n,t),i=new We(n,t+1),o=Ne();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new We(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),We=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return W.comparator(t.key,n.key)||fe(t.ns,n.ns)},e.Hn=function(t,n){return fe(t.ns,n.ns)||W.comparator(t.key,n.key)},e}(),aI=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ke(We.Gn)}return e.prototype.checkEmpty=function(t){return O.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new tf(o,n,r,i);this._n.push(s);for(var u=0,a=i;u<a.length;u++){var c=a[u];this.rs=this.rs.add(new We(c.key,o)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return O.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return O.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return O.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return O.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return O.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(u){var a=r.os(u.ns);s.push(a)}),O.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(fe);return n.forEach(function(o){var s=new We(o,0),u=new We(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,u],function(a){i=i.add(a.ns)})}),O.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));var s=new We(new W(o),0),u=new Ke(fe);return this.rs.forEachWhile(function(a){var c=a.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(a.ns)),!0)},s),O.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Z(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return O.forEach(n.mutations,function(o){var s=new We(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new We(n,0),i=this.rs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,O.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),cI=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new gt(W.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return O.resolve(r?r.document.clone():pt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=en();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():pt.newInvalidDocument(o))}),O.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=en(),o=new W(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),a=u.key,c=u.value,l=c.document,f=c.readTime;if(!n.path.isPrefixOf(a.path))break;f.compareTo(r)<=0||ps(n,l)&&(i=i.insert(l.key,l.clone()))}return O.resolve(i)},e.prototype.fs=function(t,n){return O.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new lI(this)},e.prototype.getSize=function(t){return O.resolve(this.size)},e}(),lI=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),O.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Dv),fI=function(){function e(t){this.persistence=t,this.ds=new Gi(function(n){return fs(n)},sa),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ws=0,this._s=new sf,this.targetCount=0,this.ys=_u.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),O.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return O.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return O.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),O.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),O.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new _u(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,O.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),O.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,O.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(u,a){a.sequenceNumber<=n&&r.get(a.targetId)===null&&(i.ds.delete(u),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),O.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return O.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return O.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),O.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),O.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),O.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return O.resolve(r)},e.prototype.containsKey=function(t,n){return O.resolve(this._s.containsKey(n))},e}(),hI=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Mt(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new fI(this),this.Ut=new BT,this.Ue=function(i,o){return new cI(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new Tv(n),this.Ke=new uI(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new aI(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;k("MemoryPersistence","Starting transaction:",t);var o=new dI(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return O.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),dI=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return J(t,e),t}(_v),pI=function(){function e(t){this.persistence=t,this.As=new sf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw H()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),O.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),O.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),O.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.vs,function(i){var o=W.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return O.or([function(){return O.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Je=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t){return"firestore_clients_"+e+"_"+t}function Rd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Ka(e,t){return"firestore_targets_"+e+"_"+t}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var kd=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new x(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Be("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Wa=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new x(i.error.code,i.error.message)),o?new e(t,i.state,r):(Be("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Pd=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=ca(),s=0;i&&s<r.activeTargetIds.length;++s)i=Km(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Be("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),gI=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Be("SharedClientState","Failed to parse online state: "+t),null)},e}(),qc=function(){function e(){this.activeTargetIds=ca()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Ga=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new gt(fe),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Od(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new qc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o,s,u,a,c,l,f,h=this;return I(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(Od(this.persistenceKey,i)))&&(s=Pd.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(a=this.js(u))&&this.Ws(a),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Ka(this.persistenceKey,t));if(r){var i=Wa.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Ka(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return k("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){k("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){k("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(k("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Be("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return C(n,void 0,void 0,function(){var i,o,s,u,a,c;return I(this,function(l){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(a=this.js(r.newValue)))return[2,this.Ws(a)]}else if(r.key===this.Ms)(c=function(f){var h=Mt.o;if(f!=null)try{var d=JSON.parse(f);Z(typeof d=="number"),h=d}catch(p){Be("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue))!==Mt.o&&this.sequenceNumberHandler(c);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new kd(this.currentUser,t,n,r),o=Rd(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=Rd(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Ka(this.persistenceKey,t),o=new Wa(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Pd.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return kd.Vs(new Je(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Wa.Vs(i,n)},e.prototype.js=function(t){return gI.Vs(t)},e.prototype.ii=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(k("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),u=[],a=[];return s.forEach(function(c){o.has(c)||u.push(c)}),o.forEach(function(c){s.has(c)||a.push(c)}),this.syncEngine.hi(u,a).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=ca();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),Vv=function(){function e(){this.li=new qc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new qc,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),mI=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Ld=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},yI=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),wI=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return J(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,u){var a=new Y1;a.listenOnce(W1.COMPLETE,function(){try{switch(a.getLastErrorCode()){case za.NO_ERROR:var l=a.getResponseJson();k("Connection","XHR received:",JSON.stringify(l)),s(l);break;case za.TIMEOUT:k("Connection",'RPC "'+n+'" timed out'),u(new x(b.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:var f=a.getStatus();if(k("Connection",'RPC "'+n+'" failed with status:',f,"response text:",a.getResponseText()),f>0){var h=a.getResponseJson().error;if(h&&h.status&&h.message){var d=function(p){var m=p.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(h.status);u(new x(d,h.message))}else u(new x(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new x(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{k("Connection",'RPC "'+n+'" completed.')}});var c=JSON.stringify(o);a.send(r,"POST",c,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=H1(),s=K1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new Q1({})),this.ki(u.initMessageHeaders,r),J_()||tE()||nE()||rE()||iE()||eE()||(u.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");k("Connection","Creating WebChannel: "+a,u);var c=o.createWebChannel(a,u),l=!1,f=!1,h=new yI({Ei:function(p){f?k("Connection","Not sending because WebChannel is closed:",p):(l||(k("Connection","Opening WebChannel transport."),c.open(),l=!0),k("Connection","WebChannel sending:",p),c.send(p))},Ti:function(){return c.close()}}),d=function(p,m,y){p.listen(m,function(w){try{y(w)}catch(E){setTimeout(function(){throw E},0)}})};return d(c,Ds.EventType.OPEN,function(){f||k("Connection","WebChannel transport opened.")}),d(c,Ds.EventType.CLOSE,function(){f||(f=!0,k("Connection","WebChannel transport closed"),h.Vi())}),d(c,Ds.EventType.ERROR,function(p){f||(f=!0,du("Connection","WebChannel transport errored:",p),h.Vi(new x(b.UNAVAILABLE,"The operation could not be completed")))}),d(c,Ds.EventType.MESSAGE,function(p){var m;if(!f){var y=p.data[0];Z(!!y);var w=y,E=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(E){k("Connection","WebChannel received error:",E);var T=E.status,R=function(Q){var ce=qe[Q];if(ce!==void 0)return av(ce)}(T),U=E.message;R===void 0&&(R=b.INTERNAL,U="Unknown error status: "+T+" with message "+E.message),f=!0,h.Vi(new x(R,U)),c.close()}else k("Connection","WebChannel received:",y),h.Si(y)}}),d(s,G1.STAT_EVENT,function(p){p.stat===Jh.PROXY?k("Connection","Detected buffering proxy"):p.stat===Jh.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);k("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(u){return k("RestConnection","Received: ",u),u},function(u){throw du("RestConnection",t+" failed with error: ",u,"url: ",o,"request:",r),u})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=vI[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){return typeof window<"u"?window:null}function zs(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e){return new ST(e,!0)}var uf=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&k("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),qv=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new uf(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return C(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Be(n.toString()),Be("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===b.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new x(b.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return C(t,void 0,void 0,function(){return I(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return k("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),bI=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,u}return J(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var u;if("targetChange"in s){s.targetChange;var a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:H()}(s.targetChange.targetChangeType||"NO_CHANGE"),c=s.targetChange.targetIds||[],l=function(y,w){return y.I?(Z(w===void 0||typeof w=="string"),St.fromBase64String(w||"")):(Z(w===void 0||w instanceof Uint8Array),St.fromUint8Array(w||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(y){var w=y.code===void 0?b.UNKNOWN:av(y.code);return new x(w,y.message||"")}(h);u=new lv(a,c,l,f||null)}else if("documentChange"in s){s.documentChange,(a=s.documentChange).document,a.document.name,a.document.updateTime,c=An(o,a.document.name),l=_t(a.document.updateTime);var h=new Lt({mapValue:{fields:a.document.fields}}),d=(f=pt.newFoundDocument(c,l,h),a.targetIds||[]),p=a.removedTargetIds||[];u=new $s(d,p,f.key,f)}else if("documentDelete"in s)s.documentDelete,(a=s.documentDelete).document,c=An(o,a.document),l=a.readTime?_t(a.readTime):ae.min(),h=pt.newNoDocument(c,l),f=a.removedTargetIds||[],u=new $s([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(a=s.documentRemove).document,c=An(o,a.document),l=a.removedTargetIds||[],u=new $s([],l,c,null);else{if(!("filter"in s))return H();s.filter;var m=s.filter;m.targetId,a=m.count||0,c=new gT(a),l=m.targetId,u=new cv(l,c)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return ae.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?_t(s.readTime):ae.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Go(this.R),r.addTarget=function(o,s){var u,a=s.target;return(u=mu(a)?{documents:gv(o,a)}:{query:mv(o,a)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=fv(o,s.resumeToken):s.snapshotVersion.compareTo(ae.min())>0&&(u.readTime=Ko(o,s.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,s){var u=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,s.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Go(this.R),r.removeTarget=n,this.cr(r)},t}(qv),_I=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,u.gr=!1,u}return J(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Z(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(Z(s!==void 0),o.map(function(u){return function(a,c){var l=a.updateTime?_t(a.updateTime):_t(c);return l.isEqual(ae.min())&&(l=_t(c)),new hT(l,a.transformResults||[])}(u,s)})):[]}(n.writeResults,n.commitTime),i=_t(n.commitTime);return this.listener.Tr(i,r)}return Z(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Go(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return wu(r.R,o)})};this.cr(i)},t}(qv),EI=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return J(t,e),t.prototype.br=function(){if(this.Rr)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),TI=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Be(n),this.Vr=!1):k("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),II=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return C(o,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return cr(this)?(k("RemoteStore","Restarting streams for network reachability change."),[4,function(a){return C(this,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return(c=V(a)).Or.add(4),[4,Qi(c)];case 1:return l.sent(),c.Br.set("Unknown"),c.Or.delete(4),[4,ys(c)];case 2:return l.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new TI(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:if(!cr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Qi(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ha(e,t){var n=V(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),lf(n)?cf(n):Xi(n).er()&&af(n,t))}function Qo(e,t){var n=V(e),r=Xi(n);n.$r.delete(t),r.er()&&jv(n,t),n.$r.size===0&&(r.er()?r.ir():cr(n)&&n.Br.set("Unknown"))}function af(e,t){e.qr.U(t.targetId),Xi(e).mr(t)}function jv(e,t){e.qr.U(t),Xi(e).yr(t)}function cf(e){e.qr=new ET({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Xi(e).start(),e.Br.Sr()}function lf(e){return cr(e)&&!Xi(e).tr()&&e.$r.size>0}function cr(e){return V(e).Or.size===0}function Bv(e){e.qr=void 0}function SI(e){return C(this,void 0,void 0,function(){return I(this,function(t){return e.$r.forEach(function(n,r){af(e,n)}),[2]})})}function CI(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){return Bv(e),lf(e)?(e.Br.Nr(t),cf(e)):e.Br.set("Unknown"),[2]})})}function AI(e,t,n){return C(this,void 0,void 0,function(){var r,i,o;return I(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof lv&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(u,a){return C(this,void 0,void 0,function(){var c,l,f,h;return I(this,function(d){switch(d.label){case 0:c=a.cause,l=0,f=a.targetIds,d.label=1;case 1:return l<f.length?(h=f[l],u.$r.has(h)?[4,u.remoteSyncer.rejectListen(h,c)]:[3,3]):[3,5];case 2:d.sent(),u.$r.delete(h),u.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return l++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),k("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Iu(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $s?e.qr.X(t):t instanceof cv?e.qr.rt(t):e.qr.et(t),n.isEqual(ae.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Lv(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(u,a){var c=u.qr.ut(a);return c.targetChanges.forEach(function(l,f){if(l.resumeToken.approximateByteSize()>0){var h=u.$r.get(f);h&&u.$r.set(f,h.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach(function(l){var f=u.$r.get(l);if(f){u.$r.set(l,f.withResumeToken(St.EMPTY_BYTE_STRING,f.snapshotVersion)),jv(u,l);var h=new la(f.target,l,1,f.sequenceNumber);af(u,h)}}),u.remoteSyncer.applyRemoteEvent(c)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return k("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Iu(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Iu(e,t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:if(!Wr(t))throw t;return e.Or.add(1),[4,Qi(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Lv(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return k("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,ys(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function $v(e,t){return t().catch(function(n){return Iu(e,n,t)})}function Yi(e){return C(this,void 0,void 0,function(){var t,n,r,i,o;return I(this,function(s){switch(s.label){case 0:t=V(e),n=or(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(u){return cr(u)&&u.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,oI(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,a){u.Fr.push(a);var c=or(u);c.er()&&c.pr&&c.Er(a.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Iu(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return zv(t)&&Hv(t),[2]}})})}function zv(e){return cr(e)&&!or(e).tr()&&e.Fr.length>0}function Hv(e){or(e).start()}function xI(e){return C(this,void 0,void 0,function(){return I(this,function(t){return or(e).Ar(),[2]})})}function NI(e){return C(this,void 0,void 0,function(){var t,n,r,i;return I(this,function(o){for(t=or(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function DI(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=qT.from(r,t,n),[4,$v(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Yi(e)];case 2:return o.sent(),[2]}})})}function OI(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return t&&or(e).pr?[4,function(r,i){return C(this,void 0,void 0,function(){var o,s;return I(this,function(u){switch(u.label){case 0:return uv(s=i.code)&&s!==b.ABORTED?(o=r.Fr.shift(),or(r).sr(),[4,$v(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,Yi(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zv(e)&&Hv(e),[2]}})})}function jc(e,t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(e),t?(n.Or.delete(2),[4,ys(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Qi(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xi(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=V(n);return o.br(),new bI(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:SI.bind(null,e),Ri:CI.bind(null,e),_r:AI.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),lf(e)?cf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Bv(e),r.label=3;case 3:return[2]}})})})),e.Ur}function or(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=V(n);return o.br(),new _I(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:xI.bind(null,e),Ri:OI.bind(null,e),Ir:NI.bind(null,e),Tr:DI.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Yi(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(k("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var RI=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(b.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ji(e,t){if(Be("AsyncQueue",t+": "+e),Wr(e))return new x(b.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||W.comparator(n.key,r.key)}:function(n,r){return W.comparator(n.key,r.key)},this.keyedMap=Fc(),this.sortedSet=new gt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Md=function(){function e(){this.Qr=new gt(W.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):H():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Su=function(){function e(t,n,r,i,o,s,u,a){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,Kv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ds(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),kI=function(){this.Wr=void 0,this.listeners=[]},PI=function(){this.queries=new Gi(function(e){return Xm(e)},ds),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return I(this,function(c){switch(c.label){case 0:if(n=V(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new kI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return u=c.sent(),a=Ji(u,"Initialization of query '"+Lc(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&df(n),[2]}})})}function hf(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(u){return n=V(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function LI(e,t){for(var n=V(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);a.Wr=s}}r&&df(n)}function MI(e,t,n){var r=V(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function df(e){e.Gr.forEach(function(t){t.next()})}var pf=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Su(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(e){this.key=e},Gv=function(e){this.key=e},Qv=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ne(),this.mutatedKeys=Ne(),this.lo=Jm(t),this.fo=new Kv(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Md,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,u=o,a=!1,c=js(this.query)&&o.size===this.query.limit?o.last():null,l=yu(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var p=o.get(h),m=ps(r.query,d)?d:null,y=!!p&&r.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),E=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(i.track({type:3,doc:m}),E=!0):r.yo(p,m)||(i.track({type:2,doc:m}),E=!0,(c&&r.lo(m,c)>0||l&&r.lo(m,l)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),E=!0):p&&!m&&(i.track({type:1,doc:p}),E=!0,(c||l)&&(a=!0)),E&&(m?(u=u.add(m),s=w?s.add(h):s.delete(h)):(u=u.delete(h),s=s.delete(h)))}),js(this.query)||yu(this.query))for(;u.size>this.query.limit;){var f=js(this.query)?u.last():u.first();u=u.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:u,mo:i,Nn:a,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(l,f){return function(h,d){var p=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return p(h)-p(d)}(l.type,f.type)||i.lo(l.doc,f.doc)}),this.po(r);var u=n?this.Eo():[],a=this.ho.size===0&&this.current?1:0,c=a!==this.ao;return this.ao=a,s.length!==0||c?{snapshot:new Su(this.query,t.fo,o,s,t.mutatedKeys,a===0,c,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Md,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ne(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Gv(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new Wv(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ne();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Su.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),FI=function(e,t,n){this.query=e,this.targetId=t,this.view=n},VI=function(e){this.key=e,this.bo=!1},UI=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Gi(function(u){return Xm(u)},ds),this.Vo=new Map,this.So=new Set,this.Do=new gt(W.comparator),this.Co=new Map,this.No=new sf,this.xo={},this.ko=new Map,this.Fo=_u.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function qI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,u;return I(this,function(a){switch(a.label){case 0:return n=wf(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Eu(n.localStore,wn(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,gf(n,t,r,u==="current")];case 3:i=a.sent(),n.isPrimaryClient&&ha(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function gf(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s,u,a,c;return I(this,function(l){switch(l.label){case 0:return e.Oo=function(f,h,d){return function(p,m,y,w){return C(this,void 0,void 0,function(){var E,T,R;return I(this,function(U){switch(U.label){case 0:return E=m.view._o(y),E.Nn?[4,Tu(p.localStore,m.query,!1).then(function(Q){var ce=Q.documents;return m.view._o(ce,E)})]:[3,2];case 1:E=U.sent(),U.label=2;case 2:return T=w&&w.targetChanges.get(m.targetId),R=m.view.applyChanges(E,p.isPrimaryClient,T),[2,(Bc(p,m.targetId,R.To),R.snapshot)]}})})}(e,f,h,d)},[4,Tu(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Qv(t,i.Bn),s=o._o(i.documents),u=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),a=o.applyChanges(s,e.isPrimaryClient,u),Bc(e,n,a.To),c=new FI(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),a.snapshot)]}})})}function jI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return n=V(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!ds(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ui(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Qo(n.remoteStore,r.targetId),qi(n,r.targetId)}).catch(Gr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qi(n,r.targetId),[4,Ui(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function BI(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:r=bf(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(a,c){var l,f=V(a),h=It.now(),d=c.reduce(function(p,m){return p.add(m.key)},Ne());return f.persistence.runTransaction("Locally write mutations","readwrite",function(p){return f.Mn.pn(p,d).next(function(m){l=m;for(var y=[],w=0,E=c;w<E.length;w++){var T=E[w],R=pT(T,l.get(T.key));R!=null&&y.push(new ar(T.key,R,Wm(R.value.mapValue),ht.exists(!0)))}return f._n.addMutationBatch(p,h,y,c)})}).then(function(p){return p.applyToLocalDocumentSet(l),{batchId:p.batchId,changes:l}})}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){var f=a.xo[a.currentUser.toKey()];f||(f=new gt(fe)),f=f.insert(c,l),a.xo[a.currentUser.toKey()]=f}(r,i.batchId,n),[4,lr(r,i.changes)];case 3:return u.sent(),[4,Yi(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Ji(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Yv(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:n=V(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,rI(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var u=n.Co.get(s);u&&(Z(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?Z(u.bo):o.removedDocuments.size>0&&(Z(u.bo),u.bo=!1))}),[4,lr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Fd(e,t,n){var r=V(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var u=s.view.zr(t);u.snapshot&&i.push(u.snapshot)}),function(o,s){var u=V(o);u.onlineState=s;var a=!1;u.queries.forEach(function(c,l){for(var f=0,h=l.listeners;f<h.length;f++)h[f].zr(s)&&(a=!0)}),a&&df(u)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $I(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,u,a;return I(this,function(c){switch(c.label){case 0:return(r=V(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new gt(W.comparator)).insert(o,pt.newNoDocument(o,ae.min())),u=Ne().add(o),a=new Xl(ae.min(),new Map,new Ke(fe),s,u),[4,Yv(r,a)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),yf(r),[3,4];case 2:return[4,Ui(r.localStore,t,!1).then(function(){return qi(r,t,n)}).catch(Gr)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function zI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:n=V(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nI(n.localStore,t)];case 2:return i=o.sent(),vf(n,r,null),mf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function HI(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:r=V(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,u){var a=V(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",function(c){var l;return a._n.lookupMutationBatch(c,u).next(function(f){return Z(f!==null),l=f.keys(),a._n.removeMutationBatch(c,f)}).next(function(){return a._n.performConsistencyCheck(c)}).next(function(){return a.Mn.pn(c,l)})})}(r.localStore,t)];case 2:return i=o.sent(),vf(r,t,n),mf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,lr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function KI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(u){switch(u.label){case 0:cr((n=V(e)).remoteStore)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(a){var c=V(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(l){return c._n.getHighestUnacknowledgedBatchId(l)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),s=Ji(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function mf(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function vf(e,t,n){var r=V(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function qi(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||Xv(e,s)})}function Xv(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Qo(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),yf(e))}function Bc(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Wv?(e.No.addReference(o.key,t),WI(e,o)):o instanceof Gv?(k("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Xv(e,o.key)):H()}}function WI(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(k("SyncEngine","New document in limbo: "+n),e.So.add(r),yf(e))}function yf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(me.fromString(t)),r=e.Fo.next();e.Co.set(r,new VI(n)),e.Do=e.Do.insert(n,r),ha(e.remoteStore,new la(wn(hs(n.path)),r,2,Mt.o))}}function lr(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:return r=V(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(a,c){s.push(r.Oo(c,t,n).then(function(l){if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),i.push(l);var f=eI.Pn(c.targetId,l);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(a,c){return C(this,void 0,void 0,function(){var l,f,h,d,p,m,y,w,E;return I(this,function(T){switch(T.label){case 0:l=V(a),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,l.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(R){return O.forEach(c,function(U){return O.forEach(U.bn,function(Q){return l.persistence.referenceDelegate.addReference(R,U.targetId,Q)}).next(function(){return O.forEach(U.vn,function(Q){return l.persistence.referenceDelegate.removeReference(R,U.targetId,Q)})})})})];case 2:return T.sent(),[3,4];case 3:if(!Wr(f=T.sent()))throw f;return k("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=c;h<d.length;h++)p=d[h],m=p.targetId,p.fromCache||(y=l.kn.get(m),w=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(w),l.kn=l.kn.insert(m,E));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function GI(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return(n=V(e)).currentUser.isEqual(t)?[3,3]:(k("SyncEngine","User change. New user:",t.toKey()),[4,Pv(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(u){u.forEach(function(a){a.reject(new x(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,lr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function QI(e,t){var n=V(e),r=n.Co.get(t);if(r&&r.bo)return Ne().add(r.key);var i=Ne(),o=n.Vo.get(t);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],c=n.Po.get(a);i=i.unionWith(c.view.wo)}return i}function YI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return[4,Tu((n=V(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Bc(n,t.targetId,i.To),i)]}})})}function XI(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,Fv((t=V(e)).localStore).then(function(r){return lr(t,r)})]})})}function JI(e,t,n,r){return C(this,void 0,void 0,function(){var i,o;return I(this,function(s){switch(s.label){case 0:return[4,function(u,a){var c=V(u),l=V(c._n);return c.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return l.jt(f,a).next(function(h){return h?c.Mn.pn(f,h):O.resolve(null)})})}((i=V(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Yi(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(vf(i,t,r||null),mf(i,t),function(u,a){V(V(u)._n).Gt(a)}(i.localStore,t)):H(),s.label=4;case 4:return[4,lr(i,o)];case 5:return s.sent(),[3,7];case 6:k("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function ZI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return I(this,function(l){switch(l.label){case 0:return wf(n=V(e)),bf(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Vd(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,jc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)u=s[o],ha(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?a.push(h):c=c.then(function(){return qi(n,h),Ui(n.localStore,h,!0)}),Qo(n.remoteStore,h)}),[4,c]);case 4:return l.sent(),[4,Vd(n,a)];case 5:return l.sent(),function(f){var h=V(f);h.Co.forEach(function(d,p){Qo(h.remoteStore,p)}),h.No.ts(),h.Co=new Map,h.Do=new gt(W.comparator)}(n),n.$o=!1,[4,jc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Vd(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,f,h,d,p,m,y;return I(this,function(w){switch(w.label){case 0:r=V(e),i=[],o=[],s=0,u=t,w.label=1;case 1:return s<u.length?(a=u[s],c=void 0,(l=r.Vo.get(a))&&l.length!==0?[4,Eu(r.localStore,wn(l[0]))]:[3,7]):[3,13];case 2:c=w.sent(),f=0,h=l,w.label=3;case 3:return f<h.length?(d=h[f],p=r.Po.get(d),[4,YI(r,p)]):[3,6];case 4:(m=w.sent()).snapshot&&o.push(m.snapshot),w.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Mv(r.localStore,a)];case 8:return y=w.sent(),[4,Eu(r.localStore,y)];case 9:return c=w.sent(),[4,gf(r,Jv(y),a,!1)];case 10:w.sent(),w.label=11;case 11:i.push(c),w.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function Jv(e){return Qm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eS(e){var t=V(e);return V(V(t.localStore).persistence).fn()}function tS(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s;return I(this,function(u){switch(u.label){case 0:return(i=V(e)).$o?(k("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fv(i.localStore)];case 3:return o=u.sent(),s=Xl.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,lr(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Ui(i.localStore,t,!0)];case 6:return u.sent(),qi(i,t,r),[3,8];case 7:H(),u.label=8;case 8:return[2]}})})}function nS(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,f,h;return I(this,function(d){switch(d.label){case 0:if(!(r=wf(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(k("SyncEngine","Adding an already active target "+s),[3,5]):[4,Mv(r.localStore,s)]):[3,6];case 2:return u=d.sent(),[4,Eu(r.localStore,u)];case 3:return a=d.sent(),[4,gf(r,Jv(u),a.targetId,!1)];case 4:d.sent(),ha(r.remoteStore,a),d.label=5;case 5:return i++,[3,1];case 6:c=function(p){return I(this,function(m){switch(m.label){case 0:return r.Vo.has(p)?[4,Ui(r.localStore,p,!1).then(function(){Qo(r.remoteStore,p),qi(r,p)}).catch(Gr)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function wf(e){var t=V(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.vo._r=LI.bind(null,t.eventManager),t.vo.Mo=MI.bind(null,t.eventManager),t}function bf(e){var t=V(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HI.bind(null,t),t}var Zv=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.R=fa(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return kv(this.persistence,new Rv,t.initialUser,this.R)},e.prototype.qo=function(t){return new hI(pI.bs,this.R)},e.prototype.Bo=function(t){return new Vv},e.prototype.terminate=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),ey=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return J(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,sI(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,bf(this.Qo.syncEngine)];case 4:return i.sent(),[4,Yi(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return kv(this.persistence,new Rv,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new WT(r,n.asyncQueue)},t.prototype.qo=function(n){var r=of(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ZT(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Uv(),zs(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Vv},t}(Zv),rS=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return J(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Ga?(this.sharedClientState.syncEngine={ui:JI.bind(null,r),ai:tS.bind(null,r),hi:nS.bind(null,r),fn:eS.bind(null,r),ci:XI.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return C(i,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return[4,ZI(this.Qo.syncEngine,s)];case 1:return u.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Uv();if(!Ga.yt(r))throw new x(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=of(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Ga(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(ey),$c=function(){function e(){}return e.prototype.initialize=function(t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Fd(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GI.bind(null,this.syncEngine),[4,jc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new PI},e.prototype.createDatastore=function(t){var n,r=fa(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new wI(n));return function(o,s,u){return new EI(o,s,u)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(a){return Fd(u.syncEngine,a,0)},s=Ld.yt()?new Ld:new mI,new II(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,u,a,c){var l=new UI(r,i,o,s,u,a);return c&&(l.$o=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(t),k("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Qi(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var da=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),iS=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return C(this,void 0,void 0,function(){var u,a,c,l,f,h;return I(this,function(d){switch(d.label){case 0:return u=V(o),a=Go(u.R)+"/documents",c={documents:s.map(function(p){return Wo(u.R,p)})},[4,u.$i("BatchGetDocuments",a,c)];case 1:return l=d.sent(),f=new Map,l.forEach(function(p){var m=function(y,w){return"found"in w?function(E,T){Z(!!T.found),T.found.name,T.found.updateTime;var R=An(E,T.found.name),U=_t(T.found.updateTime),Q=new Lt({mapValue:{fields:T.found.fields}});return pt.newFoundDocument(R,U,Q)}(y,w):"missing"in w?function(E,T){Z(!!T.missing),Z(!!T.readTime);var R=An(E,T.missing),U=_t(T.readTime);return pt.newNoDocument(R,U)}(y,w):H()}(u.R,p);f.set(m.key.toString(),m)}),h=[],[2,(s.forEach(function(p){var m=f.get(p.toString());Z(!!m),h.push(m)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new vs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=W.fromPath(o);n.mutations.push(new Yl(s,n.precondition(s)))}),[4,function(i,o){return C(this,void 0,void 0,function(){var s,u,a;return I(this,function(c){switch(c.label){case 0:return s=V(i),u=Go(s.R)+"/documents",a={writes:o.map(function(l){return wu(s.R,l)})},[4,s.Ni("Commit",u,a)];case 1:return c.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw H();n=ae.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new x(b.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?ht.updateTime(n):ht.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ae.min()))throw new x(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),oS=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new uf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return C(t,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){return n=new iS(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(u){i.ic(u)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Kr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!uv(n)}return!1},e}(),sS=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=jm.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return C(i,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return k("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return C(t,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Ji(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e,t){return C(this,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return C(i,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return r.isEqual(s)?[3,2]:[4,Pv(t.localStore,s)];case 1:u.sent(),r=s,u.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ny(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_f(e)];case 1:return n=i.sent(),k("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,u){return C(this,void 0,void 0,function(){var a,c;return I(this,function(l){switch(l.label){case 0:return(a=V(s)).asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials"),c=cr(a),a.Or.add(3),[4,Qi(a)];case 1:return l.sent(),c&&a.Br.set("Unknown"),[4,a.remoteSyncer.handleCredentialChange(u)];case 2:return l.sent(),a.Or.delete(3),[4,ys(a)];case 3:return l.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function _f(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(k("FirestoreClient","Using default OfflineComponentProvider"),[4,ty(e,new Zv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function pa(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(k("FirestoreClient","Using default OnlineComponentProvider"),[4,ny(e,new $c)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Ud(e){return _f(e).then(function(t){return t.persistence})}function ry(e){return _f(e).then(function(t){return t.localStore})}function qd(e){return pa(e).then(function(t){return t.remoteStore})}function iy(e){return pa(e).then(function(t){return t.syncEngine})}function ji(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:return[4,pa(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=qI.bind(null,t.syncEngine),n.onUnlisten=jI.bind(null,t.syncEngine),n)]}})})}function jd(e,t,n){var r=this;n===void 0&&(n={});var i=new Ct;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(u,a,c,l,f){var h=new da({next:function(p){a.enqueueAndForget(function(){return hf(u,d)});var m=p.docs.has(c);!m&&p.fromCache?f.reject(new x(b.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new pf(hs(c.path),h,{includeMetadataChanges:!0,so:!0});return ff(u,d)},[4,ji(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Bd(e,t,n){var r=this;n===void 0&&(n={});var i=new Ct;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(u,a,c,l,f){var h=new da({next:function(p){a.enqueueAndForget(function(){return hf(u,d)}),p.fromCache&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new pf(c,h,{includeMetadataChanges:!0,so:!0});return ff(u,d)},[4,ji(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var uS=function(e,t,n,r,i,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},Cu=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),$d=new Map,oy=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},zd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Je.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),aS=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cS=function(){function e(t){var n=this;this.currentUser=Je.UNAUTHENTICATED,this.oc=new Ct,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){k("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(k("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(k("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Z(typeof i.accessToken=="string"),new oy(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Z(t===null||typeof t=="string"),new Je(t)},e}(),lS=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Je.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),fS=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new lS(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Je.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(e,t,n){if(!n)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Tf(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new x(b.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sy(e,t,n,r){if(t===!0&&r===!0)throw new x(b.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Hd(e){if(!W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Kd(e){if(W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ga(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":H()}function ye(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new x(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ga(e);throw new x(b.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Wd(e,t){if(t<=0)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gd=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new x(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new x(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Yo=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gd({}),this._settingsFrozen=!1,t instanceof Cu?(this._databaseId=t,this._credentials=new zd):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new x(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(r.options.projectId)}(t),this._credentials=new cS(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gd(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new zd;switch(n.type){case"gapi":var r=n.client;return Z(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fS(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new x(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=$d.get(t))&&(k("ComponentProvider","Removing Datastore"),$d.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Le=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new tr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Vt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),tr=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,hs(i))||this)._path=i,o.type="collection",o}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Le(this.firestore,null,new W(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),Ef("collection","path",t),e instanceof Yo)return Kd(n=me.fromString.apply(me,Ve([t],r))),new tr(e,null,n);if(!(e instanceof Le||e instanceof tr))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kd(n=me.fromString.apply(me,Ve([e.path],r)).child(me.fromString(t))),new tr(e.firestore,null,n)}function Hs(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),arguments.length===1&&(t=jm.u()),Ef("doc","path",t),e instanceof Yo)return Hd(n=me.fromString.apply(me,Ve([t],r))),new Le(e,null,new W(n));if(!(e instanceof Le||e instanceof tr))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hd(n=e._path.child(me.fromString.apply(me,Ve([t],r)))),new Le(e.firestore,e instanceof tr?e.converter:null,new W(n))}function ay(e,t){return e=$e(e),t=$e(t),(e instanceof Le||e instanceof tr)&&(t instanceof Le||t instanceof tr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cy(e,t){return e=$e(e),t=$e(t),e instanceof Vt&&t instanceof Vt&&e.firestore===t.firestore&&ds(e._query,t._query)&&e.converter===t.converter}var hS=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new uf(this,"async_queue_retry"),this.Ic=function(){var r=zs();r&&k("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=zs();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=zs();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Ct;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Wr(t=r.sent()))throw t;return k("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Be("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=RI.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&H()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,u){return s.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Bi(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var dS=-1,He=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new hS,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return J(t,e),t.prototype._terminate=function(){return this._firestoreClient||ly(this),this._firestoreClient.terminate()},t}(Yo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e){return e._firestoreClient||ly(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ly(e){var t,n=e._freezeSettings(),r=function(i,o,s,u){return new uS(i,o,s,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sS(e._credentials,e._queue,r)}function Qd(e,t,n){var r=this,i=new Ct;return e.asyncQueue.enqueue(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,ty(e,n)];case 1:return s.sent(),[4,ny(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===b.FAILED_PRECONDITION||u.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Yd(e){if(e._initialized||e._terminated)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),jr=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(St.fromBase64String(t))}catch(n){throw new x(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(St.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qr=function(e){this._methodName=e},ma=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new x(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new x(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return fe(this._lat,t._lat)||fe(this._long,t._long)},e}(),pS=/^__.*__$/,gS=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,n,this.fieldTransforms):new ms(t,this.data,n,this.fieldTransforms)},e}(),fy=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ar(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var dy=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Au(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(hy(this.Nc)&&pS.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),mS=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||fa(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new dy({Nc:t,methodName:n,qc:r,path:rn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Yr(e){var t=e._freezeSettings(),n=fa(e._databaseId);return new mS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function va(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Af("Data must be an object, but it was:",s,r);var u,a,c=my(r,s);if(o.merge)u=new xi(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=zc(t,h[f],n);if(!s.contains(d))throw new x(b.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");yy(l,d)||l.push(d)}u=new xi(l),a=s.fieldTransforms.filter(function(p){return u.covers(p.field)})}else u=null,a=s.fieldTransforms;return new gS(new Lt(c),u,a)}var If=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr);function py(e,t,n){return new dy({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var vS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){return new gs(n.path,new Ri)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr),yS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=py(this,n,!0),i=this.Kc.map(function(s){return Xr(s,r)}),o=new Ur(i);return new gs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),wS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=py(this,n,!0),i=this.Kc.map(function(s){return Xr(s,r)}),o=new qr(i);return new gs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),bS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=new ki(n.R,tv(n.R,this.Qc));return new gs(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qr);function Sf(e,t,n,r){var i=e.Uc(1,t,n);Af("Data must be an object, but it was:",i,r);var o=[],s=Lt.empty();Hr(r,function(a,c){var l=xf(t,a,n);c=$e(c);var f=i.Oc(l);if(c instanceof If)o.push(l);else{var h=Xr(c,f);h!=null&&(o.push(l),s.set(l,h))}});var u=new xi(o);return new fy(s,u,i.fieldTransforms)}function Cf(e,t,n,r,i,o){var s=e.Uc(1,t,n),u=[zc(t,r,n)],a=[i];if(o.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(zc(t,o[c])),a.push(o[c+1]);for(var l=[],f=Lt.empty(),h=u.length-1;h>=0;--h)if(!yy(l,u[h])){var d=u[h],p=a[h];p=$e(p);var m=s.Oc(d);if(p instanceof If)l.push(d);else{var y=Xr(p,m);y!=null&&(l.push(d),f.set(d,y))}}var w=new xi(l);return new fy(f,w,s.fieldTransforms)}function gy(e,t,n,r){return r===void 0&&(r=!1),Xr(n,e.Uc(r?4:3,t))}function Xr(e,t){if(vy(e=$e(e)))return Af("Unsupported field value:",t,e),my(e,t);if(e instanceof Qr)return function(n,r){if(!hy(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,u=n;s<u.length;s++){var a=Xr(u[s],r.Mc(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=$e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tv(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=It.fromDate(n);return{timestampValue:Ko(r.R,i)}}if(n instanceof It)return i=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ko(r.R,i)};if(n instanceof ma)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jr)return{bytesValue:fv(r.R,n._byteString)};if(n instanceof Le){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Zl(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+ga(n))}(e,t)}function my(e,t){var n={};return $m(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(e,function(r,i){var o=Xr(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vy(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof It||e instanceof ma||e instanceof jr||e instanceof Le||e instanceof Qr)}function Af(e,t,n){if(!vy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ga(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function zc(e,t,n){if((t=$e(t))instanceof mn)return t._internalPath;if(typeof t=="string")return xf(e,t);throw Au("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _S=new RegExp("[~\\*/\\[\\]]");function xf(e,t,n){if(t.search(_S)>=0)throw Au("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(mn.bind.apply(mn,Ve([void 0],t.split("."))))()._internalPath}catch{throw Au("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Au(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new x(b.INVALID_ARGUMENT,(u+=". ")+e+a)}function yy(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Le(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ES(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(xu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ES=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Xo);function xu(e,t){return typeof t=="string"?xf(e,t):t instanceof mn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Nn=function(e){function t(n,r,i,o,s,u){var a=this;return(a=e.call(this,n,r,i,o,u)||this)._firestore=n,a._firestoreImpl=n,a.metadata=s,a}return J(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new So(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(xu("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Xo),So=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Nn),Gn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new So(r._firestore,r._userDataWriter,i.key,i,new Cr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new So(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Cr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var a=new So(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Cr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,l=-1;return u.type!==0&&(c=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(l=(s=s.add(u.doc)).indexOf(u.doc.key)),{type:TS(u.type),doc:a,oldIndex:c,newIndex:l}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function TS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function wy(e,t){return e instanceof Nn&&t instanceof Nn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Gn&&t instanceof Gn&&e._firestore===t._firestore&&cy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e){if(yu(e)&&e.explicitOrderBy.length===0)throw new x(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ws=function(){};function qn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var IS=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return J(t,e),t.prototype._apply=function(n){var r=Yr(n.firestore),i=function(o,s,u,a,c,l,f){var h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new x(b.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l+"' queries on FieldPath.documentId().");if(l==="in"||l==="not-in"){tp(f,l);for(var d=[],p=0,m=f;p<m.length;p++){var y=m[p];d.push(ep(a,o,y))}h={arrayValue:{values:d}}}else h=ep(a,o,f)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||tp(f,l),h=gy(u,"where",f,l==="in"||l==="not-in");var w=Ft.create(c,l,h);return function(E,T){if(T.g()){var R=Gl(E);if(R!==null&&!R.isEqual(T.field))throw new x(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+R.toString()+"' and '"+T.field.toString()+"'");var U=Wl(E);U!==null&&Ey(E,T.field,U)}var Q=function(ce,ne){for(var se=0,we=ce.filters;se<we.length;se++){var Pe=we[se];if(ne.indexOf(Pe.op)>=0)return Pe.op}return null}(E,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(T.op));if(Q!==null)throw Q===T.op?new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+T.op.toString()+"' filter."):new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use '"+T.op.toString()+"' filters with '"+Q.toString()+"' filters.")}(o,w),w}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vt(n.firestore,n.converter,function(o,s){var u=o.filters.concat([s]);return new kn(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(ws),SS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return J(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new wi(o,s);return function(a,c){if(Wl(a)===null){var l=Gl(a);l!==null&&Ey(a,l,c.field)}}(i,u),u}(n._query,this.jc,this.zc);return new Vt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new kn(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(ws),Xd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return J(t,e),t.prototype._apply=function(n){return new Vt(n.firestore,n.converter,Ym(n._query,this.Hc,this.Jc))},t}(ws),Jd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return J(t,e),t.prototype._apply=function(n){var r=_y(n,this.type,this.Yc,this.Xc);return new Vt(n.firestore,n.converter,function(i,o){return new kn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(ws),Zd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return J(t,e),t.prototype._apply=function(n){var r=_y(n,this.type,this.Yc,this.Xc);return new Vt(n.firestore,n.converter,function(i,o){return new kn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(ws);function _y(e,t,n,r){if(n[0]=$e(n[0]),n[0]instanceof Xo)return function(o,s,u,a,c){if(!a)throw new x(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var l=[],f=0,h=Oi(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())l.push(gu(s,a.key));else{var p=a.data.field(d.field);if(zl(p))throw new x(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){var m=d.field.canonicalString();throw new x(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}l.push(p)}}return new Ho(l,c)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Yr(e.firestore);return function(o,s,u,a,c,l){var f=o.explicitOrderBy;if(c.length>f.length)throw new x(b.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<c.length;d++){var p=c[d];if(f[d].field.isKeyField()){if(typeof p!="string")throw new x(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof p);if(!Ql(o)&&p.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+p+"' contains a slash.");var m=o.path.child(me.fromString(p));if(!W.isDocumentKey(m))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var y=new W(m);h.push(gu(s,y))}else{var w=gy(u,a,p);h.push(w)}}return new Ho(h,l)}(e._query,e.firestore._databaseId,i,t,n,r)}function ep(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ql(t)&&n.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(me.fromString(n));if(!W.isDocumentKey(r))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gu(e,new W(r))}if(n instanceof Le)return gu(e,n._key);throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ga(n)+".")}function tp(e,t){if(!Array.isArray(e)||e.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new x(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ey(e,t,n){if(!n.isEqual(t))throw new x(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nf=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw H()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Hr(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new ma(je(t.latitude),je(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Hm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($o(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ir(t);return new It(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=me.fromString(t);Z(wv(r));var i=new Cu(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Be("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CS=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new jr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Le(this.firestore,null,r)},t}(Nf),AS=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Qn(t,this._firestore),o=ya(i.converter,n,r),s=va(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ht.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,u=Qn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof mn?Cf(this._dataReader,"WriteBatch.update",u._key,n,r,i):Sf(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(s.toMutation(u._key,ht.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Qn(t,this._firestore);return this._mutations=this._mutations.concat(new vs(n._key,ht.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new x(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e,t){if((e=$e(e)).firestore!==t)throw new x(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new jr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Le(this.firestore,null,r)},t}(Nf);function np(e,t,n){e=ye(e,Le);var r=ye(e.firestore,He),i=ya(e.converter,t,n);return bs(r,[va(Yr(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ht.none())])}function rp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ye(e,Le);var o=ye(e.firestore,He),s=Yr(o);return bs(o,[(typeof(t=$e(t))=="string"||t instanceof mn?Cf(s,"updateDoc",e._key,t,n,r):Sf(s,"updateDoc",e._key,t)).toMutation(e._key,ht.exists(!0))])}function Ty(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=$e(e);var s={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Bi(i[u])||(s=i[u],u++);var a,c,l,f={includeMetadataChanges:s.includeMetadataChanges};if(Bi(i[u])){var h=i[u];i[u]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[u+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[u+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof Le)c=ye(e.firestore,He),l=hs(e._key.path),a={next:function(m){i[u]&&i[u](Hc(c,e,m))},error:i[u+1],complete:i[u+2]};else{var d=ye(e,Vt);c=ye(d.firestore,He),l=d._query;var p=new Or(c);a={next:function(m){i[u]&&i[u](new Gn(c,p,d,m))},error:i[u+1],complete:i[u+2]},by(e._query)}return function(m,y,w,E){var T=this,R=new da(E),U=new pf(y,R,w);return m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var Q;return I(this,function(ce){switch(ce.label){case 0:return Q=ff,[4,ji(m)];case 1:return[2,Q.apply(void 0,[ce.sent(),U])]}})})}),function(){R.Wo(),m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var Q;return I(this,function(ce){switch(ce.label){case 0:return Q=hf,[4,ji(m)];case 1:return[2,Q.apply(void 0,[ce.sent(),U])]}})})})}}(at(c),l,f,a)}function bs(e,t){return function(n,r){var i=this,o=new Ct;return n.asyncQueue.enqueueAndForget(function(){return C(i,void 0,void 0,function(){var s;return I(this,function(u){switch(u.label){case 0:return s=BI,[4,iy(n)];case 1:return[2,s.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(at(e),t)}function Hc(e,t,n){var r=n.docs.get(t._key),i=new Or(e);return new Nn(e,i,t._key,r,new Cr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xS=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return J(t,e),t.prototype.get=function(n){var r=this,i=Qn(n,this._firestore),o=new Or(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new Nn(r._firestore,o,i._key,s._document,new Cr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Yr(t)}return e.prototype.get=function(t){var n=this,r=Qn(t,this._firestore),i=new CS(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return H();var s=o[0];if(s.isFoundDocument())return new Xo(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Xo(n._firestore,i,r._key,null,r.converter);throw H()})},e.prototype.set=function(t,n,r){var i=Qn(t,this._firestore),o=ya(i.converter,n,r),s=va(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,u=Qn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof mn?Cf(this._dataReader,"Transaction.update",u._key,n,r,i):Sf(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,s),this},e.prototype.delete=function(t){var n=Qn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){if(typeof Uint8Array>"u")throw new x(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function op(){if(typeof atob>"u")throw new x(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Iy=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return op(),new e(jr.fromBase64String(t))},e.fromUint8Array=function(t){return ip(),new e(jr.fromUint8Array(t))},e.prototype.toBase64=function(){return op(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ip(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),NS=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Yd(r=ye(r,He));var o=at(r),s=r._freezeSettings(),u=new $c;return Qd(o,u,new ey(u,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Yd(n=ye(n,He));var r=at(n),i=n._freezeSettings(),o=new $c;return Qd(r,o,new rS(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new x(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Ct;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(u){return C(this,void 0,void 0,function(){var a;return I(this,function(c){switch(c.label){case 0:return Mi.yt()?(a=u+"main",[4,Mi.delete(a)]):[2,Promise.resolve()];case 1:return c.sent(),[2]}})})}(of(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),Sy=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Cu||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||du("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,u){var a;u===void 0&&(u={});var c=(i=ye(i,Yo))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==o&&du("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:o+":"+s,ssl:!1})),u.mockUserToken){var l,f;if(typeof u.mockUserToken=="string")l=u.mockUserToken,f=Je.MOCK_USER;else{l=X_(u.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);var h=u.mockUserToken.sub||u.mockUserToken.user_id;if(!h)throw new x(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Je(h)}i._credentials=new aS(new oy(l,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Ud(t)];case 1:return r=o.sent(),[4,qd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var u=V(s);return u.Or.delete(0),ys(u)}(i))]}})})})}(at(ye(this._delegate,He)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Ud(t)];case 1:return r=o.sent(),[4,qd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return C(this,void 0,void 0,function(){var u;return I(this,function(a){switch(a.label){case 0:return(u=V(s)).Or.add(0),[4,Qi(u)];case 1:return a.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(at(ye(this._delegate,He)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&sy("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Ct;return t.asyncQueue.enqueueAndForget(function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=KI,[4,iy(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(at(ye(this._delegate,He)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,u=new da(o);return i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var a;return I(this,function(c){switch(c.label){case 0:return a=function(l,f){V(l).Gr.add(f),f.next()},[4,ji(i)];case 1:return[2,a.apply(void 0,[c.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var a;return I(this,function(c){switch(c.label){case 0:return a=function(l,f){V(l).Gr.delete(f)},[4,ji(i)];case 1:return[2,a.apply(void 0,[c.sent(),u])]}})})})}}(at(n=ye(n,He)),Bi(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nu(this,uy(this._delegate,t))}catch(n){throw vt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Rr(this,Hs(this._delegate,t))}catch(n){throw vt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new _a(this,function(n,r){if(n=ye(n,Yo),Ef("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vt(n,null,function(i){return new kn(me.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw vt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var u=this,a=new Ct;return o.asyncQueue.enqueueAndForget(function(){return C(u,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return[4,function(f){return pa(f).then(function(h){return h.datastore})}(o)];case 1:return c=l.sent(),new oS(o.asyncQueue,c,s,a).run(),[2]}})})}),a.promise}(at(r),function(o){return i(new xS(r,o))})}(this._delegate,function(r){return t(new Cy(n,r))})},e.prototype.batch=function(){var t=this;return at(this._delegate),new Ay(new AS(this._delegate,function(n){return bs(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new x(b.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new x(b.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new Iy(new jr(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Rr.eu(r,this.firestore,null)},t}(Nf);function DS(e){var t;t=e,Zt.setLogLevel(t)}var Cy=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new wa(t)}return e.prototype.get=function(t){var n=this,r=Ar(t);return this._delegate.get(r).then(function(i){return new Jo(n._firestore,new Nn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ar(t);return r?(Tf("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Ar(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ve([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ar(t);return this._delegate.delete(n),this},e}(),Ay=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ar(t);return r?(Tf("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Ar(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,Ve([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ar(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ba=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new So(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Zo(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wa(t),n),i.set(n,o)),o},e}();ba.su=new WeakMap;var Rr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new wa(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Le(n._delegate,r,new W(t)))},e.eu=function(t,n,r){return new e(n,new Le(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Nu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nu(this.firestore,uy(this._delegate,t))}catch(n){throw vt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=$e(t))instanceof Le&&ay(this._delegate,t)},e.prototype.set=function(t,n){n=Tf("DocumentReference.set",n);try{return n?np(this._delegate,t,n):np(this._delegate,t)}catch(r){throw vt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?rp(this._delegate,t):rp.apply(void 0,Ve([this._delegate,t,n],r))}catch(o){throw vt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return bs(ye((t=this._delegate).firestore,He),[new vs(t._key,ht.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=xy(n),o=Ny(n,function(s){return new Jo(t.firestore,new Nn(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return Ty(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ye(r,Le);var i=ye(r.firestore,He),o=at(i),s=new Or(i);return function(u,a){var c=this,l=new Ct;return u.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var y,w;return I(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,function(T,R){var U=V(T);return U.persistence.runTransaction("read document","readonly",function(Q){return U.Mn.mn(Q,R)})}(d,p)];case 1:return(w=E.sent()).isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new x(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return y=E.sent(),w=Ji(y,"Failed to get document '"+p+" from cache"),m.reject(w),[3,3];case 3:return[2]}})})},[4,ry(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,l])]}})})}),l.promise}(o,r._key).then(function(u){return new Nn(i,s,r._key,u,new Cr(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ye(r,Le);var i=ye(r.firestore,He);return jd(at(i),r._key,{source:"server"}).then(function(o){return Hc(i,r,o)})}(this._delegate):function(r){r=ye(r,Le);var i=ye(r.firestore,He);return jd(at(i),r._key).then(function(o){return Hc(i,r,o)})}(this._delegate)).then(function(r){return new Jo(n.firestore,new Nn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ba.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function vt(e,t,n){return e.message=e.message.replace(t,n),e}function xy(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Bi(r))return r}return{}}function Ny(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=Bi(e[0])?e[0]:Bi(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Jo=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Rr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return wy(this._delegate,t._delegate)},e}(),Zo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Jo),_a=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new wa(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,qn(this._delegate,function(i,o,s){var u=o,a=xu("where",i);return new IS(a,u,s)}(t,n,r)))}catch(i){throw vt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,qn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=xu("orderBy",r);return new SS(s,o)}(t,n)))}catch(r){throw vt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,qn(this._delegate,function(n){return Wd("limit",n),new Xd("limit",n,"F")}(t)))}catch(n){throw vt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,qn(this._delegate,function(n){return Wd("limitToLast",n),new Xd("limitToLast",n,"L")}(t)))}catch(n){throw vt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Jd("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw vt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Jd("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw vt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Zd("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw vt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Zd("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw vt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cy(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ye(r,Vt);var i=ye(r.firestore,He),o=at(i),s=new Or(i);return function(u,a){var c=this,l=new Ct;return u.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var y,w,E,T,R;return I(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Tu(d,p,!0)];case 1:return R=U.sent(),y=new Qv(p,R.Bn),w=y._o(R.documents),E=y.applyChanges(w,!1),m.resolve(E.snapshot),[3,3];case 2:return T=U.sent(),R=Ji(T,"Failed to execute query '"+p+" against cache"),m.reject(R),[3,3];case 3:return[2]}})})},[4,ry(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,l])]}})})}),l.promise}(o,r._query).then(function(u){return new Gn(i,s,r,u)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ye(r,Vt);var i=ye(r.firestore,He),o=at(i),s=new Or(i);return Bd(o,r._query,{source:"server"}).then(function(u){return new Gn(i,s,r,u)})}(this._delegate):function(r){r=ye(r,Vt);var i=ye(r.firestore,He),o=at(i),s=new Or(i);return by(r._query),Bd(o,r._query).then(function(u){return new Gn(i,s,r,u)})}(this._delegate)).then(function(r){return new Kc(n.firestore,new Gn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=xy(n),o=Ny(n,function(s){return new Kc(t.firestore,new Gn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return Ty(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ba.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),OS=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Zo(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Kc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new _a(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Zo(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new OS(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Zo(r._firestore,i))})},e.prototype.isEqual=function(t){return wy(this._delegate,t._delegate)},e}(),Nu=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Rr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Rr(this.firestore,n===void 0?Hs(this._delegate):Hs(this._delegate,n))}catch(r){throw vt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=ye(i.firestore,He),u=Hs(i),a=ya(i.converter,o);return bs(s,[va(Yr(i.firestore),"addDoc",u._key,a,i.converter!==null,{}).toMutation(u._key,ht.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new Rr(r.firestore,i)})},t.prototype.isEqual=function(n){return ay(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(ba.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(_a);function Ar(e){return ye(e,Le)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(mn.bind.apply(mn,Ve([void 0],t)))}return e.documentId=function(){return new e(rn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=$e(t))instanceof mn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),kS=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new vS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new If("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new yS("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new wS("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new bS("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),PS={Firestore:Sy,GeoPoint:ma,Timestamp:It,Blob:Iy,Transaction:Cy,WriteBatch:Ay,DocumentReference:Rr,DocumentSnapshot:Jo,Query:_a,QueryDocumentSnapshot:Zo,QuerySnapshot:Kc,CollectionReference:Nu,FieldPath:RS,FieldValue:kS,setLogLevel:DS,CACHE_SIZE_UNLIMITED:dS};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(e){(function(t,n){t.INTERNAL.registerComponent(new Ku("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},PS)))})(e,function(t,n){return new Sy(t,new He(t,n),new NS)}),e.registerVersion("@firebase/firestore","2.4.1")}LS(ts);const MS={apiKey:"AIzaSyBjnnmlPU6Or-arX15JZpLP1QHzEtgtkWQ",authDomain:"custom-repeater-251017.firebaseapp.com",projectId:"custom-repeater-251017",storageBucket:"custom-repeater-251017.appspot.com",messagingSenderId:"1070416993819",appId:"1:1070416993819:web:3e8a874288fe9245bf22be",measurementId:"G-JSZ62S3HLJ"},FS=ts.initializeApp(MS),VS=FS.firestore(),Dy=VS.collection("quizes"),US=async e=>Dy.add(e),Wc=async e=>{let t=await Dy.where("quizId","==",e).limit(1).get();return t=t.docs.filter(n=>n.data())[0],console.log(t),t!==void 0&&t.exists?t.data():null};var qS=Object.defineProperty,jS=Object.defineProperties,BS=Object.getOwnPropertyDescriptors,sp=Object.getOwnPropertySymbols,$S=Object.prototype.hasOwnProperty,zS=Object.prototype.propertyIsEnumerable,up=(e,t,n)=>t in e?qS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dn=(e,t)=>{for(var n in t||(t={}))$S.call(t,n)&&up(e,n,t[n]);if(sp)for(var n of sp(t))zS.call(t,n)&&up(e,n,t[n]);return e},Df=(e,t)=>jS(e,BS(t));const ho={type:"default",timeout:5e3,showCloseButton:!0,position:"top-right",transition:"bounce",hideProgressBar:!1,swipeClose:!0};var kr,jn;(jn=kr||(kr={}))[jn.TITLE_ONLY=0]="TITLE_ONLY",jn[jn.TITLE_DESCRIPTION=1]="TITLE_DESCRIPTION",jn[jn.COMPONENT=2]="COMPONENT",jn[jn.VNODE=3]="VNODE";const HS={"top-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"},"top-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"top-center":{bounce:"mosha__bounceInDown",zoom:"mosha__zoomIn",slide:"mosha__slideInDown"},"bottom-center":{bounce:"mosha__bounceInUp",zoom:"mosha__zoomIn",slide:"mosha__slideInUp"},"bottom-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"bottom-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"}},ap=(e,t=300)=>{let n;return(...r)=>{n&&(clearTimeout(n),n=void 0),n=setTimeout(()=>e(...r),t)}},KS=(e,t,n)=>{const r=$t(),i=$t(void 0),o=$t(),s=c=>c instanceof MouseEvent,u=c=>{n!==!1&&r.value&&(s(c)?i.value=r.value.clientX-c.clientX:i.value=r.value.touches[0].clientX-c.touches[0].clientX,o.value=Df(dn({},o.value),{transition:"none"}),e.endsWith("left")?o.value.left=-i.value+"px !important":e.endsWith("right")?o.value.right=`${i.value}px !important`:i.value>0?o.value.left=-i.value+"px !important":o.value.right=`${i.value}px !important`,Math.abs(i.value)>200&&t())},a=c=>{n!==!1&&(r.value&&(r.value=void 0),i.value&&(i.value=void 0),removeEventListener(c,u))};return Ro(()=>{n!==!1&&(a("mousemove"),a("touchmove"))}),{swipedDiff:i,swipeStart:r,swipeStyle:o,swipeHandler:u,startSwipeHandler:c=>{if(n===!1)return;r.value=c;const l=s(c)?"mousemove":"touchmove",f=s(c)?"mouseup":"touchend";addEventListener(l,u),addEventListener(f,()=>(h=>{const d={transition:"left .3s ease-out",left:0},p={transition:"right .3s ease-out",right:0},m={transition:"all .3s ease-out",left:0,right:0};e.endsWith("left")?o.value=dn(dn({},o.value),d):e.endsWith("right")?o.value=dn(dn({},o.value),p):o.value=dn(dn({},o.value),m),r.value=void 0,i.value=void 0,removeEventListener(h,u)})(l))},cleanUpMove:a}};var Oy=Uu({props:{type:{type:String,default:"default"}}});const WS={class:"mosha__icon"},GS={key:0,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},QS=le("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),YS={key:1,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},XS=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),JS={key:2,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},ZS=le("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),eC=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"},null,-1),tC={key:3,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#616161"},nC=le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),rC=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),iC={key:4,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},oC=le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),sC=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1);Oy.render=function(e,t,n,r,i,o){return Ce(),Ge("span",WS,[e.type==="warning"?(Ce(),Ge("svg",GS,[QS])):e.type==="danger"?(Ce(),Ge("svg",YS,[XS])):e.type==="success"?(Ce(),Ge("svg",JS,[ZS,eC])):e.type==="default"?(Ce(),Ge("svg",tC,[nC,rC])):(Ce(),Ge("svg",iC,[oC,sC]))])};var Ks=Uu({name:"MToast",components:{MIcon:Oy},props:{visible:Boolean,text:{type:String,default:""},description:{type:String,default:""},toastBackgroundColor:{type:String,default:""},type:{type:String,default:"default"},onClose:{type:Function,default:()=>null},onCloseHandler:{type:Function,required:!0},offset:{type:Number,required:!0},id:{type:Number,required:!0},timeout:{type:Number,default:5e3},position:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},swipeClose:{type:Boolean,default:!0},hideProgressBar:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},transition:{type:String,default:"bounce"}},setup(e,t){const n=$t(),{width:r}=(()=>{const E=$t(-1),T=$t(-1),R=U=>{U!==null&&U.currentTarget!==null&&(E.value=U.currentTarget.innerWidth,T.value=U.currentTarget.innerHeight)};return vo(()=>{window.innerWidth>0&&(E.value=window.innerWidth,T.value=window.innerHeight),window.addEventListener("resize",ap(R))}),Ro(()=>{window.removeEventListener("resize",ap(R))}),{width:E,height:T}})(),{swipedDiff:i,startSwipeHandler:o,swipeStyle:s,cleanUpMove:u}=KS(e.position,e.onCloseHandler,e.swipeClose),{transitionType:a}=(c=e.position,l=e.transition,f=i,{transitionType:ct(()=>f.value>200?"mosha__fadeOutLeft":f.value<-200?"mosha__fadeOutRight":HS[c][l])});var c,l,f;const{start:h,stop:d,progress:p}=((E,T)=>{const R=$t(),U=$t(0),Q=$t(T),ce=$t(),ne=$t(100),se=()=>{clearInterval(ce.value),clearTimeout(R.value)};return vo(()=>{}),Ro(()=>{se()}),{start:()=>{U.value=Date.now(),clearTimeout(R.value),ce.value=setInterval(()=>{ne.value--},T/100-5),R.value=setTimeout(E,Q.value)},stop:()=>{clearInterval(ce.value),clearTimeout(R.value),Q.value-=Date.now()-U.value},clear:se,progress:ne}})(()=>{e.onCloseHandler()},e.timeout),m=ct(()=>t.slots.default),y=ct(()=>/<\/?[a-z][\s\S]*>/i.test(e.description)),w=()=>{e.timeout>0&&h()};return Y0(()=>{const{customStyle:E}=((T,R,U)=>{const Q=ct(()=>{switch(T){case"top-left":return{left:"0",top:`${R}px`};case"bottom-left":return{left:"0",bottom:`${R}px`};case"bottom-right":return{right:"0",bottom:`${R}px`};case"top-center":return{top:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};case"bottom-center":return{bottom:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};default:return{right:"0",top:`${R}px`}}});return U.length>0&&(Q.value.backgroundColor=U),{customStyle:Q}})(e.position,e.offset,e.toastBackgroundColor);n.value=E.value}),vo(()=>{w()}),{style:n,transitionType:a,startTimer:w,progress:p,onTouchStart:E=>{o(E)},onMouseLeave:()=>{u("mousemove"),w()},onMouseDown:E=>{o(E)},swipeStyle:s,isSlotPassed:m,isDescriptionHtml:y,onMouseEnter:()=>{e.timeout>0&&r.value>425&&d()}}}});const uC={class:"mosha__toast__content-wrapper"},aC={class:"mosha__toast__content"},cC={class:"mosha__toast__content__text"},lC={key:1,class:"mosha__toast__content__description"},fC={key:0,class:"mosha__toast__slot-wrapper"};Ks.render=function(e,t,n,r,i,o){const s=hi("MIcon");return Ce(),Ge(zu,{name:e.transitionType,type:"animation"},{default:zt(()=>[e.visible?(Ce(),Ge("div",{key:0,class:["mosha__toast",e.toastBackgroundColor?null:e.type],style:[e.style,e.swipeStyle],onMouseenter:t[2]||(t[2]=(...u)=>e.onMouseEnter&&e.onMouseEnter(...u)),onMouseleave:t[3]||(t[3]=(...u)=>e.onMouseLeave&&e.onMouseLeave(...u)),onTouchstartPassive:t[4]||(t[4]=(...u)=>e.onTouchStart&&e.onTouchStart(...u)),onMousedown:t[5]||(t[5]=(...u)=>e.onMouseDown&&e.onMouseDown(...u))},[le("div",uC,[e.showIcon?(Ce(),Ge(s,{key:0,type:e.type},null,8,["type"])):hn("",!0),le("div",aC,[le("div",cC,Co(e.text),1),e.description.length>0&&e.isDescriptionHtml?(Ce(),Ge("div",{key:0,class:"mosha__toast__content__description",innerHTML:e.description},null,8,["innerHTML"])):hn("",!0),e.description.length>0&&!e.isDescriptionHtml?(Ce(),Ge("div",lC,Co(e.description),1)):hn("",!0)])]),e.isSlotPassed?(Ce(),Ge("div",fC,[Jt(e.$slots,"default")])):hn("",!0),e.showCloseButton?(Ce(),Ge("div",{key:1,class:"mosha__toast__close-icon",onClick:t[1]||(t[1]=(...u)=>e.onCloseHandler&&e.onCloseHandler(...u))})):hn("",!0),e.hideProgressBar?hn("",!0):(Ce(),Ge("div",{key:2,class:"mosha__toast__progress",style:{width:`${e.progress}%`}},null,4))],38)):hn("",!0)]),_:3},8,["name"])};const Du={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[],"top-center":[],"bottom-center":[]};let hC=0;const dC=(e,t)=>{const n=hC++,r=t?pC(t):ho;if(e.__v_isVNode)return Qa(n,kr.VNODE,r,e),{close:()=>bi(n,r.position)};if(e.hasOwnProperty("render"))return Qa(n,kr.COMPONENT,r,e),{close:()=>bi(n,r.position)};const i=gC(e);return Qa(n,kr.TITLE_DESCRIPTION,r,i),{close:()=>bi(n,r.position)}},Qa=(e,t,n,r)=>{setTimeout(()=>{const i=mC(n,Du,12),o=document.createElement("div");let s;document.body.appendChild(o),s=t===kr.VNODE?le(Ks,Ya(n,e,i,bi),()=>[r]):t===kr.TITLE_DESCRIPTION?le(Ks,Ya(n,e,i,bi,r)):le(Ks,Ya(n,e,i,bi),()=>[le(r)]),vg(s,o),Du[n.position].push({toastVNode:s,container:o}),s.component&&(s.component.props.visible=!0)},1)},Ya=(e,t,n,r,i)=>Df(dn(dn({},e),i),{id:t,offset:n,visible:!1,onCloseHandler:()=>{r(t,e.position?e.position:"top-right")}}),pC=e=>{const t=Df(dn({},e),{type:e.type||ho.type,timeout:e.timeout||ho.timeout,showCloseButton:e.showCloseButton,position:e.position||ho.position,showIcon:e.showIcon,swipeClose:e.swipeClose,transition:e.transition||ho.transition});return t.hideProgressBar=t.timeout!==void 0&&t.timeout<=0,e.hideProgressBar!==void 0&&(t.hideProgressBar=e.hideProgressBar),t},gC=e=>({text:typeof e=="string"?e:e.title,description:typeof e=="string"?void 0:e.description}),mC=(e,t,n)=>{let r=n;if(!e.position)throw new Error("no position");return t[e.position].forEach(({toastVNode:i})=>{r+=i.el.offsetHeight+n||0}),r},bi=(e,t)=>{const n=Du[t],r=n.findIndex(({toastVNode:u})=>u.props&&e===u.props.id);if(r===-1)return;const{container:i,toastVNode:o}=n[r];if(!o.el)return;const s=o.el.offsetHeight;Du[t].splice(r,1),((u,a,c,l)=>{for(let f=u;f<a.length;f++){const{toastVNode:h}=a[f];if(!h.el)return;const d=c.split("-")[0]||"top",p=parseInt(h.el.style[d],10)-l-12;if(!h.component)return;h.component.props.offset=p}})(r,n,t,s),o.component&&(o.component.props.visible=!1,o.component.props.onClose&&o.component.props.onClose(),setTimeout(()=>{vg(null,i),document.body.removeChild(i)},1e3))};const Of=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},vC={name:"Modal",methods:{close(){this.$emit("close")}},mounted(){}},yC={class:"flex items-center justify-center absolute overflow-hidden top-0 left-0 bottom-0 right-0 bg-rhino-100/70 z-50"},wC={class:"relative px-8 py-4 bg-white rounded-md flex flex-col gap-2 lg:w-1/4 mx-2 md:mx-auto -mt-64 border-2 border-rhino-300"},bC=G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"hover:text-rhino-800 w-full h-auto"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_C=[bC],EC=G("header",{class:"max-w-9/12"}," Boba Quiz ",-1),TC=G("div",{class:"w-full mt-2 bg-rhino-50"}," \u0412\u044B \u0441\u043E\u0437\u0434\u0430\u043B\u0438 Boba Quiz \u0435\u0433\u043E \u043C\u043E\u0436\u043D\u043E \u043F\u0440\u043E\u0439\u0442\u0438 \u043F\u043E \u0441\u0441\u044B\u043B\u043A\u0435 ",-1),IC=G("footer",{class:""},[G("p",{class:"text-xs mt-2 font-serif"},[Pr("\u0421\u043F\u0430\u0441\u0438\u0431\u043E "),G("span",{class:"underline underline-offset-1"},"Max Still"),Pr(" \u0437\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u043D\u044B\u0439 Boba Quiz")])],-1);function SC(e,t,n,r,i,o){return Ce(),Cn("div",yC,[G("div",wC,[G("div",{class:"absolute cursor-pointer text-rhino-500 w-7 h-7 right-4 top-3",onClick:t[0]||(t[0]=(...s)=>o.close&&o.close(...s))},_C),Jt(e.$slots,"header",{},()=>[EC]),Jt(e.$slots,"body",{},()=>[TC]),Jt(e.$slots,"footer",{},()=>[IC])])])}const CC=Of(vC,[["render",SC]]),AC="/boba-quiz/questionTypeRadio.png";const xC={data(){return{selectedCategory:"",newAnswer:"",isModalVisible:!1,newAnswerFocused:!0,current_question:{position:0,correct_question_id:""},quiz:[{question:"What do you want to do?",answers:["Do not know","I know, but i wouldn't say ypu tah little small motherfucker ahahahah","Correct"],correct_answer:""}]}},components:{Modal:CC},setup(){return{toastError:t=>{dC({title:"\u041E\u0448\u0438\u0431\u043A\u0430",description:t},{position:"top-right",type:"danger",transition:"bounce",showIcon:"true",timeout:3e3})}}},methods:{showModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},changeCorrectQuestionId(e){console.log("change",e),this.current_question.correct_question_id=e},resizeTextArea(e,t){const n=e.target;n.style.height=n.scrollHeight+"px",console.log(t),t==this.current_question.correct_question_id&&(this.quiz[this.current_question.position].correct_answer=e.target.value)},async createQuiz(){let e=!1;for(let t of this.quiz)if(t.correct_answer==""||t.question==="")return this.toastError("\u0412\u044B \u043D\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u043B\u0438 \u0432\u043E\u043F\u0440\u043E\u0441 \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E!");console.log(this.quiz),console.log(e),this.$store.dispatch("createQuiz",{quizId:this.$route.params.quizId,quizData:this.quiz}).then(t=>{if(console.log(t),t==!0)this.showModal();else return this.toastError("\u041F\u0440\u043E\u0437\u043E\u0448\u043B\u0430 \u043A\u0430\u043A\u0430\u044F-\u0442\u043E \u043E\u0448\u0438\u0431\u043A\u0430 :<")})},async createNewQuestion(){if(this.quiz[this.current_question.position].question!=="")if(this.quiz[this.current_question.position].correct_answer!=="")this.current_question.position===this.quiz.length-1?(console.log(1),this.quiz.push({question:"",answers:[],correct_answer:"",right_answer:0}),await al(),this.current_question.position++):this.current_question.position++;else return this.toastError("\u0412\u044B\u0431\u0438\u0440\u0435\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u043D\u0430 \u0432\u043E\u043F\u0440\u043E\u0441!");else return this.toastError("\u0412\u043E\u043F\u0440\u043E\u0441 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C!")},deleteQuestion(e){console.log(e),this.quiz[this.current_question.position].answers.splice(e,1)}},updated(){document.body.querySelectorAll("textarea").forEach(e=>{e.style.height=e.scrollHeight+"px"})},mounted(){document.body.querySelectorAll("textarea").forEach(e=>{e.style.height=e.scrollHeight+"px"})},watch:{newAnswerFocused(e,t){if(console.log(e),e===!1&&this.newAnswer!=="")this.quiz[this.current_question.position].answers.push(this.newAnswer.trim()),this.newAnswer="";else if(this.newAnswer===""&&e===!1)return this.toastError("\u041E\u0442\u0432\u0435\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C!")}}},NC={class:"quiz flex items-center justify-center relative"},DC={class:"flex flex-col justify-center items-start w-full md:w-big relative mb-5 mx-2 lg:mx-0 rounded-lg bg-white px-6 py-3 shadow-lg"},OC={class:"text-xl font-medium"},RC={class:"relative font-bold font-mono text-2xl ml-1"},kC=Pr(" \u0412\u043E\u043F\u0440\u043E\u0441 "),PC={class:"flex flex-col w-full h-fit"},LC=G("img",{src:AC,class:"w-24 h-24 ring-4 ring-rhino-500 p-2 rounded-md"},null,-1),MC=G("hr",{class:"mb-8 h-1 w-full rounded-full bg-slate-200"},null,-1),FC={class:"card flex items-center flex-col mt-0"},VC=G("span",{class:"p-tag"},"\u0412\u043E\u043F\u0440\u043E\u0441",-1),UC=G("span",{class:"p-tag"},"\u041E\u0442\u0432\u0435\u0442\u044B",-1),qC={class:"flex flex-col items-center gap-y-2 w-full mt-4"},jC=["value","id","onChange"],BC=["onUpdate:modelValue","onInput","onFocus"],$C=["onClick"],zC=G("button",{class:"h-max flex item-center justify-center"},[G("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1),HC=[zC],KC={class:"w-full md:w-3/4 flex justify-center items-center mt-2 mb-4"},WC={class:"flex justify-center w-full"},GC={class:"btn-group mt-4 justify-items-stretch"},QC=["disabled"],YC=G("p",null,"\u0412\u044B \u0441\u043E\u0437\u0434\u0430\u043B\u0438 \u0442\u0435\u0441\u0442, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043C\u043E\u0436\u043D\u043E \u043F\u0440\u043E\u0439\u0442\u0438 \u043F\u043E \u044D\u0442\u043E\u0439 \u0441\u0441\u044B\u043B\u043A\u0435: ",-1),XC=G("button",{class:"btn-secondary inline-flex flex-row gap-2 divide-2 divide-rhino-500"},[Pr(" \u0421\u0441\u044B\u043B\u043A\u0430 "),G("div",{class:""},[G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"})])])],-1);function JC(e,t,n,r,i,o){const s=hi("Fieldset"),u=hi("Divider"),a=hi("RouterLink"),c=hi("Modal");return Ce(),Cn("div",NC,[G("div",DC,[G("h2",OC,[G("span",RC,Co(this.current_question.position),1),kC]),G("div",PC,[le(s,{legend:"\u0422\u0438\u043F \u0432\u043E\u043F\u0440\u043E\u0441\u0430",class:"w-full my-4",toggleable:!0},{default:zt(()=>[LC]),_:1}),MC,G("div",FC,[le(u,{align:"center"},{default:zt(()=>[VC]),_:1}),yr(G("input",{type:"text",class:"input my-4 md:w-3/4",placeholder:"\u0412\u043E\u043F\u0440\u043E\u0441 ?)","onUpdate:modelValue":t[0]||(t[0]=l=>i.quiz[i.current_question.position].question=l)},null,512),[[Na,i.quiz[i.current_question.position].question]]),le(u,{align:"center"},{default:zt(()=>[UC]),_:1}),G("ul",qC,[(Ce(!0),Cn(Rt,null,dw(i.quiz[i.current_question.position].answers,(l,f)=>(Ce(),Cn("li",{class:"w-full md:w-3/4 flex py-2 px-4 gap-2 justify-between items-center bg-rhino-50/50 rounded-md",key:f},[yr(G("input",{type:"radio",value:l,"onUpdate:modelValue":t[1]||(t[1]=h=>i.quiz[i.current_question.position].correct_answer=h),id:f,name:"correct_answer",class:"radio",onChange:h=>o.changeCorrectQuestionId(f)},null,40,jC),[[mb,i.quiz[i.current_question.position].correct_answer]]),yr(G("textarea",{type:"text","onUpdate:modelValue":h=>i.quiz[i.current_question.position].answers[f]=h,class:"w-full px-4 py-2 resize-y leading-6 bg-transparent rounded-none outline-none border-none focus:ring-0",rows:"1",onInput:h=>o.resizeTextArea(h,f),onFocus:h=>o.resizeTextArea(h,f)},null,40,BC),[[Na,i.quiz[i.current_question.position].answers[f]]]),G("div",{onClick:h=>o.deleteQuestion(f)},HC,8,$C)]))),128)),G("li",KC,[yr(G("input",{type:"text",onFocus:t[2]||(t[2]=l=>i.newAnswerFocused=!0),onBlur:t[3]||(t[3]=l=>i.newAnswerFocused=!1),"onUpdate:modelValue":t[4]||(t[4]=l=>i.newAnswer=l),onKeyup:t[5]||(t[5]=pg(l=>l.target.blur(),["enter"])),class:"input w-full",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043E\u0442\u0432\u0435\u0442"},null,544),[[Na,i.newAnswer]])])]),G("span",WC,[G("div",GC,[G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[6]||(t[6]=l=>i.current_question.position--),disabled:i.current_question.position==0},"\u041D\u0430\u0437\u0430\u0434",8,QC),G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[7]||(t[7]=(...l)=>o.createQuiz&&o.createQuiz(...l))},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C Quiz"),G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[8]||(t[8]=(...l)=>o.createNewQuestion&&o.createNewQuestion(...l))},"\u0414\u0430\u043B\u0435\u0435")])])])]),G("button",{class:"btn-primary",onClick:t[9]||(t[9]=(...l)=>o.showModal&&o.showModal(...l))},"Sho modal")]),yr(le(c,{onClose:o.closeModal},{body:zt(()=>[YC,le(a,{to:{name:"completeQuiz",params:{quizId:`${this.$route.params.quizId}`}}},{default:zt(()=>[XC]),_:1},8,["to"])]),_:1},8,["onClose"]),[[gg,i.isModalVisible]])])}const ZC=Of(xC,[["render",JC]]),eA={components:{CreateQuiz:ZC}};function tA(e,t,n,r,i,o){const s=hi("CreateQuiz");return Ce(),Ge(s)}const nA=Of(eA,[["render",tA]]),rA=D_({history:Wb("/boba-quiz/"),routes:[{path:"/",name:"home",component:()=>ka(()=>import("./HomeView.bb15bca2.js"),[])},{path:"/create/",name:"create",beforeEnter:async(e,t,n)=>{if(t.name!=="home")n({name:"home"});else{let r=iA();n({name:"createQuiz",params:{quizId:r}})}}},{path:"/create/:quizId(.*)",name:"createQuiz",component:nA},{path:"/complete",name:"chooseQuiz",component:()=>ka(()=>import("./ChooseQuizView.2e55e3ab.js"),[])},{path:"/complete/:quizId",component:()=>ka(()=>import("./CompleteQuizView.8ae7d9ae.js"),[]),name:"completeQuiz",beforeEnter:async(e,t,n)=>{await Wc(e.params.quizId)===null&&n({name:"chooseQuiz",query:{error:"1"}}),n()}}]});function iA(){for(var e=8,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,i=t.length;r<e;++r)n+=t.charAt(Math.floor(Math.random()*i));return n}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var oA="store";function Zi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function sA(e){return e!==null&&typeof e=="object"}function uA(e){return e&&typeof e.then=="function"}function aA(e,t){return function(){return e(t)}}function Ry(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function ky(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Ea(e,n,[],e._modules.root,!0),Rf(e,n,t)}function Rf(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};Zi(i,function(s,u){o[u]=aA(s,e),Object.defineProperty(e.getters,u,{get:function(){return o[u]()},enumerable:!0})}),e._state=$r({data:t}),e.strict&&dA(e),r&&n&&e._withCommit(function(){r.data=null})}function Ea(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var u=kf(t,n.slice(0,-1)),a=n[n.length-1];e._withCommit(function(){u[a]=r.state})}var c=r.context=cA(e,s,n);r.forEachMutation(function(l,f){var h=s+f;lA(e,h,l,c)}),r.forEachAction(function(l,f){var h=l.root?f:s+f,d=l.handler||l;fA(e,h,d,c)}),r.forEachGetter(function(l,f){var h=s+f;hA(e,h,l,c)}),r.forEachChild(function(l,f){Ea(e,t,n.concat(f),l,i)})}function cA(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,s,u){var a=Ou(o,s,u),c=a.payload,l=a.options,f=a.type;return(!l||!l.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(o,s,u){var a=Ou(o,s,u),c=a.payload,l=a.options,f=a.type;(!l||!l.root)&&(f=t+f),e.commit(f,c,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return Py(e,t)}},state:{get:function(){return kf(e.state,n)}}}),i}function Py(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function lA(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function fA(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var u=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return uA(u)||(u=Promise.resolve(u)),e._devtoolHook?u.catch(function(a){throw e._devtoolHook.emit("vuex:error",a),a}):u})}function hA(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function dA(e){yi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function kf(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ou(e,t,n){return sA(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var pA="vuex bindings",cp="vuex:mutations",Xa="vuex:actions",oi="vuex",gA=0;function mA(e,t){Nb({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[pA]},function(n){n.addTimelineLayer({id:cp,label:"Vuex Mutations",color:lp}),n.addTimelineLayer({id:Xa,label:"Vuex Actions",color:lp}),n.addInspector({id:oi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===oi)if(r.filter){var i=[];Vy(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Fy(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===oi){var i=r.nodeId;Py(t,i),r.state=wA(_A(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===oi){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(oi),n.sendInspectorState(oi),n.addTimelineEvent({layerId:cp,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=gA++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:Xa,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:Xa,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var lp=8702998,vA=6710886,yA=16777215,Ly={label:"namespaced",textColor:yA,backgroundColor:vA};function My(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Fy(e,t){return{id:t||"root",label:My(t),tags:e.namespaced?[Ly]:[],children:Object.keys(e._children).map(function(n){return Fy(e._children[n],t+n+"/")})}}function Vy(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Ly]:[]}),Object.keys(t._children).forEach(function(i){Vy(e,t._children[i],n,r+i+"/")})}function wA(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=bA(t);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?My(s):s,editable:!1,value:Gc(function(){return o[s]})}})}return i}function bA(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Gc(function(){return e[n]})}else t[n]=Gc(function(){return e[n]})}),t}function _A(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function Gc(e){try{return e()}catch(t){return t}}var on=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Uy={namespaced:{configurable:!0}};Uy.namespaced.get=function(){return!!this._rawModule.namespaced};on.prototype.addChild=function(t,n){this._children[t]=n};on.prototype.removeChild=function(t){delete this._children[t]};on.prototype.getChild=function(t){return this._children[t]};on.prototype.hasChild=function(t){return t in this._children};on.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};on.prototype.forEachChild=function(t){Zi(this._children,t)};on.prototype.forEachGetter=function(t){this._rawModule.getters&&Zi(this._rawModule.getters,t)};on.prototype.forEachAction=function(t){this._rawModule.actions&&Zi(this._rawModule.actions,t)};on.prototype.forEachMutation=function(t){this._rawModule.mutations&&Zi(this._rawModule.mutations,t)};Object.defineProperties(on.prototype,Uy);var Jr=function(t){this.register([],t,!1)};Jr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Jr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Jr.prototype.update=function(t){qy([],this.root,t)};Jr.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new on(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&Zi(n.modules,function(u,a){i.register(t.concat(a),u,r)})};Jr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Jr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function qy(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;qy(e.concat(r),t.getChild(r),n.modules[r])}}function EA(e){return new xt(e)}var xt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Jr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var s=this,u=this,a=u.dispatch,c=u.commit;this.dispatch=function(h,d){return a.call(s,h,d)},this.commit=function(h,d,p){return c.call(s,h,d,p)},this.strict=i;var l=this._modules.root.state;Ea(this,l,[],this._modules.root),Rf(this,l),r.forEach(function(f){return f(n)})},Pf={state:{configurable:!0}};xt.prototype.install=function(t,n){t.provide(n||oA,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&mA(t,this)};Pf.state.get=function(){return this._state.data};Pf.state.set=function(e){};xt.prototype.commit=function(t,n,r){var i=this,o=Ou(t,n,r),s=o.type,u=o.payload,a={type:s,payload:u},c=this._mutations[s];!c||(this._withCommit(function(){c.forEach(function(f){f(u)})}),this._subscribers.slice().forEach(function(l){return l(a,i.state)}))};xt.prototype.dispatch=function(t,n){var r=this,i=Ou(t,n),o=i.type,s=i.payload,u={type:o,payload:s},a=this._actions[o];if(!!a){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(u,r.state)})}catch{}var c=a.length>1?Promise.all(a.map(function(l){return l(s)})):a[0](s);return new Promise(function(l,f){c.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(u,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(u,r.state,h)})}catch{}f(h)})})}};xt.prototype.subscribe=function(t,n){return Ry(t,this._subscribers,n)};xt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Ry(r,this._actionSubscribers,n)};xt.prototype.watch=function(t,n,r){var i=this;return yi(function(){return t(i.state,i.getters)},n,Object.assign({},r))};xt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};xt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Ea(this,this.state,t,this._modules.get(t),r.preserveState),Rf(this,this.state)};xt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=kf(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),ky(this)};xt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};xt.prototype.hotUpdate=function(t){this._modules.update(t),ky(this,!0)};xt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(xt.prototype,Pf);const TA=EA({state(){return{count:0}},mutations:{SAVE_QUIZ_DB(e,t){}},actions:{async createQuiz(e,t){let n=null;try{return await Wc(t.quizId)===null?(n=await US({quizId:t.quizId,quizData:t.quizData}),console.log("Quiz successfully created"),n=!0,n):(n=!1,console.log("Quiz with mentioned ID already exists"),n)}catch(r){console.log(r)}}},getters:{getQuizFromDB:e=>async t=>await Wc(t)}});var ln={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,o=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:o}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let r=0;r<t.length;r++){if(t[r]===e)return n;t[r].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=t.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return e?e.querySelectorAll(t):[]},findSingle(e,t){return e?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=n.height,i=n.width,o=t.offsetHeight,s=t.offsetWidth,u=t.getBoundingClientRect(),a=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),l=this.getViewport(),f,h;u.top+o+r>l.height?(f=u.top+a-r,e.style.transformOrigin="bottom",f<0&&(f=a)):(f=o+u.top+a,e.style.transformOrigin="top"),u.left+i>l.width?h=Math.max(0,u.left+c+s-i):h=u.left+c,e.style.top=f+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),o=this.getViewport();let s,u;i.top+r+n.height>o.height?(s=-1*n.height,e.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,e.style.transformOrigin="top"),n.width>o.width?u=i.left*-1:i.left+n.width>o.width?u=(i.left+n.width-o.width)*-1:u=0,e.style.top=s+"px",e.style.left=u+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=o=>{let s=window.getComputedStyle(o,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))};for(let o of n){let s=o.nodeType===1&&o.dataset.scrollselectors;if(s){let u=s.split(",");for(let a of u){let c=this.findSingle(o,a);c&&i(c)&&t.push(c)}}o.nodeType!==9&&i(o)&&t.push(o)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}},fadeOut(e,t){if(e){let n=1,r=50,i=t,o=r/i,s=setInterval(()=>{n-=o,n<=0&&(n=0,clearInterval(s)),e.style.opacity=n},r)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,c=e.scrollTop,l=e.clientHeight,f=this.getOuterHeight(t);a<0?e.scrollTop=c+a:a+f>l&&(e.scrollTop=c+a-l+f)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of n)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let r=document.createElement("a");r.download!==void 0?(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}},fp=0;function IA(e="pv_id_"){return fp++,`${e}${fp}`}const st={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},hp={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close"}},filterMatchModeOptions:{text:[st.STARTS_WITH,st.CONTAINS,st.NOT_CONTAINS,st.ENDS_WITH,st.EQUALS,st.NOT_EQUALS],numeric:[st.EQUALS,st.NOT_EQUALS,st.LESS_THAN,st.LESS_THAN_OR_EQUAL_TO,st.GREATER_THAN,st.GREATER_THAN_OR_EQUAL_TO],date:[st.DATE_IS,st.DATE_IS_NOT,st.DATE_BEFORE,st.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},SA=Symbol();var CA={install:(e,t)=>{let n=t?{...hp,...t}:{...hp};const r={config:$r(n)};e.config.globalProperties.$primevue=r,e.provide(SA,r)}};var jy={name:"Divider",props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},computed:{containerClass(){return["p-divider p-component","p-divider-"+this.layout,"p-divider-"+this.type,{"p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left")},{"p-divider-center":this.layout==="horizontal"&&this.align==="center"},{"p-divider-right":this.layout==="horizontal"&&this.align==="right"},{"p-divider-top":this.layout==="vertical"&&this.align==="top"},{"p-divider-center":this.layout==="vertical"&&(!this.align||this.align==="center")},{"p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}]}}};const AA={key:0,class:"p-divider-content"};function xA(e,t,n,r,i,o){return Ce(),Cn("div",{class:_i(o.containerClass),role:"separator"},[e.$slots.default?(Ce(),Cn("div",AA,[Jt(e.$slots,"default")])):hn("",!0)],2)}function NA(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var DA=`
.p-divider-horizontal {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    width: 100%;
    position: relative;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-horizontal:before {
    position: absolute;
    display: block;
    top: 50%;
    left: 0;
    width: 100%;
    content: "";
}
.p-divider-horizontal.p-divider-left {
    -webkit-box-pack: start;
        -ms-flex-pack: start;
            justify-content: flex-start;
}
.p-divider-horizontal.p-divider-right {
    -webkit-box-pack: end;
        -ms-flex-pack: end;
            justify-content: flex-end;
}
.p-divider-horizontal.p-divider-center {
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-content {
    z-index: 1;
}
.p-divider-vertical {
    min-height: 100%;
    margin: 0 1rem;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    position: relative;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-vertical:before {
    position: absolute;
    display: block;
    top: 0;
    left: 50%;
    height: 100%;
    content: "";
}
.p-divider-vertical.p-divider-top {
    -webkit-box-align: start;
        -ms-flex-align: start;
            align-items: flex-start;
}
.p-divider-vertical.p-divider-center {
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-vertical.p-divider-bottom {
    -webkit-box-align: end;
        -ms-flex-align: end;
            align-items: flex-end;
}
.p-divider-solid.p-divider-horizontal:before {
    border-top-style: solid;
}
.p-divider-solid.p-divider-vertical:before {
    border-left-style: solid;
}
.p-divider-dashed.p-divider-horizontal:before {
    border-top-style: dashed;
}
.p-divider-dashed.p-divider-vertical:before {
    border-left-style: dashed;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-top-style: dotted;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-left-style: dotted;
}
`;NA(DA);jy.render=xA;function OA(e){e.addEventListener("mousedown",By)}function RA(e){e.removeEventListener("mousedown",By)}function kA(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),e.appendChild(t),t.addEventListener("animationend",$y)}function PA(e){let t=zy(e);t&&(RA(e),t.removeEventListener("animationend",$y),t.remove())}function By(e){let t=e.currentTarget,n=zy(t);if(!n||getComputedStyle(n,null).display==="none")return;if(ln.removeClass(n,"p-ink-active"),!ln.getHeight(n)&&!ln.getWidth(n)){let s=Math.max(ln.getOuterWidth(t),ln.getOuterHeight(t));n.style.height=s+"px",n.style.width=s+"px"}let r=ln.getOffset(t),i=e.pageX-r.left+document.body.scrollTop-ln.getWidth(n)/2,o=e.pageY-r.top+document.body.scrollLeft-ln.getHeight(n)/2;n.style.top=o+"px",n.style.left=i+"px",ln.addClass(n,"p-ink-active")}function $y(e){ln.removeClass(e.currentTarget,"p-ink-active")}function zy(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const LA={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(kA(e),OA(e))},unmounted(e){PA(e)}};var Hy={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(e){this.d_collapsed=e}},methods:{toggle(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return IA()}},directives:{ripple:LA}};const MA={class:"p-fieldset-legend"},FA=["id"],VA=["id","aria-controls","aria-expanded"],UA={class:"p-fieldset-legend-text"},qA=["id","aria-labelledby"],jA={class:"p-fieldset-content"};function BA(e,t,n,r,i,o){const s=hw("ripple");return Ce(),Cn("fieldset",{class:_i(["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}])},[G("legend",MA,[n.toggleable?hn("",!0):Jt(e.$slots,"legend",{key:0},()=>[G("span",{class:"p-fieldset-legend-text",id:o.ariaId+"_header"},Co(n.legend),9,FA)]),n.toggleable?yr((Ce(),Cn("a",{key:1,tabindex:"0",onClick:t[0]||(t[0]=(...u)=>o.toggle&&o.toggle(...u)),onKeydown:t[1]||(t[1]=pg((...u)=>o.toggle&&o.toggle(...u),["enter"])),id:o.ariaId+"_header","aria-controls":o.ariaId+"_content","aria-expanded":!i.d_collapsed},[G("span",{class:_i(o.iconClass)},null,2),Jt(e.$slots,"legend",{},()=>[G("span",UA,Co(n.legend),1)])],40,VA)),[[s]]):hn("",!0)]),le(zu,{name:"p-toggleable-content"},{default:zt(()=>[yr(G("div",{class:"p-toggleable-content",role:"region",id:o.ariaId+"_content","aria-labelledby":o.ariaId+"_header"},[G("div",jA,[Jt(e.$slots,"default")])],8,qA),[[gg,!i.d_collapsed]])]),_:3})],2)}function $A(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var zA=`
.p-fieldset-legend > a,
.p-fieldset-legend > span {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-fieldset-toggleable .p-fieldset-legend a {
    cursor: pointer;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
}
.p-fieldset-legend-text {
    line-height: 1;
}
`;$A(zA);Hy.render=BA;const eo=bb(B_);eo.component("Divider",jy);eo.component("Fieldset",Hy);eo.use(rA);eo.use(TA);eo.use(CA);eo.mount("#app");export{Rt as F,Dg as R,Of as _,le as a,G as b,Cn as c,yr as d,pg as e,gg as f,Co as g,hn as h,Pr as i,mb as j,hi as k,Ge as l,Yc as n,Ce as o,dw as r,dC as t,Xn as u,Na as v,zt as w};
