import{_ as d,o as u,c,a as e,w as r,v as h,t as l,n as _,F as g,r as q,b as w,d as x,e as v,f as b,g as z}from"./index.36cd974d.js";const y={name:"QuizSolve",data(){return{questions:[],quizResult:{correct:0,incorrect:0},loading:!0,questionPosition:0,finish:!1,error:!1}},created(){},methods:{async fetchQuiz(){this.loading=!0;let t=await this.$store.getters.getQuizFromDB(this.$route.params.quizId);this.currentQuestion=t.quizData,this.loading=!1},async nextQuestion(){let t=this.questions[this.questionPosition];t.right_answer!=null&&(console.log(t.right_answer),t.correct_answer!==""&&this.questionPosition<=this.questions.length-1&&(t.right_answer===t.correct_answer?(this.questions[this.questionPosition].rightAnswer=!0,this.quizResult.correct++):(this.questions[this.questionPosition].rightAnswer=!1,this.quizResult.incorrect++)),this.questionPosition===this.questions.length-1&&(this.finish=!0),this.questionPosition++)},updateQuiz(){this.finish=!1,this.quizResult.incorrect=0,this.quizResult.correct=0,this.questionPosition=0,this.currentQuestion=[],this.fetchQuiz()}},computed:{dividerWidth(){let t=Math.floor(this.questionPosition*100/(this.questions.length-1));return console.log(t),{width:t+"%"}},currentQuestion:{get(){return this.questions!==[]&&this.questionPosition<=this.questions.length-1?this.questions[this.questionPosition]:{question:""}},set(t){this.questions=t}},quizCompleted(){return this.finish==!0}},mounted(){this.fetchQuiz(),console.log(this.currentQuestion)}},Q={key:0,class:"quiz flex items-center justify-center"},P={class:"flex flex-col justify-center items-start w-full md:w-big relative mb-5 rounded-lg bg-white px-6 py-3"},k={class:"w-full"},C={class:"text-slate-400 text-xl text-center w-full font-medium"},R={class:"relative font-bold text-xl ml-1"},S=x(" \u0412\u043E\u043F\u0440\u043E\u0441 "),j={class:"block w-full min-h-1 mt-2 bg-slate-300 overflow-x-hidden rounded-full"},B=["innerHTML"],V={class:"flex flex-col gap-2 items-center p-2"},M=["id","value"],D=["for"],L={class:"mt-4 grid grid-cols-2 items-center gap-3 w-full"},F=["disabled"],H=e("span",{class:"absolute right-0 translate-x-full transition-transform group-hover:-translate-x-4"},[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})])],-1),N=e("span",{class:"transition-all group-hover:mr-4"}," \u0414\u0430\u043B\u044C\u0448\u0435 ",-1),T=[H,N],A={class:"flex flex-col gap-1 mt-3 items-center justify-center w-full"};function W(t,o,f,m,s,i){return s.error?w("",!0):(u(),c("div",Q,[e("div",P,[r(e("div",k,[e("h2",C,[e("span",R,l(this.questionPosition),1),S]),e("span",j,[e("span",{class:"relative block bg-rhino-500 h-1",style:_(i.dividerWidth)},null,4)]),e("h2",{innerHTML:s.loading?"Loading":i.currentQuestion.question,class:"text-2xl my-4 text-center w-full font-medium"},null,8,B),e("ul",V,[(u(!0),c(g,null,q(i.currentQuestion.answers,(n,a)=>(u(),c("li",{class:"divide-2 flex cursor-pointer items-center gap-4 divide-rhino-400 rounded-md border-b-2 border-b-rhino-500 bg-rhino-50 px-4 py-2 leading-6 text-rhino-900 transition hover:scale-105 transform duration-300 hover:shadow-xl w-full justify-between",key:a},[r(e("input",{type:"radio",class:"radio",name:"right_answer",id:a,value:n,"onUpdate:modelValue":o[0]||(o[0]=p=>s.questions[s.questionPosition].right_answer=p)},null,8,M),[[v,s.questions[s.questionPosition].right_answer]]),e("label",{type:"text",for:a,class:"border-none cursor-pointer w-full px-4 py-2 resize-y leading-5 bg-transparent"},l(n),9,D)]))),128))])],512),[[h,!i.quizCompleted]]),r(e("div",L,[e("button",{class:"btn-secondary animate-scale-up-center",onClick:o[1]||(o[1]=n=>s.questionPosition--),disabled:s.questionPosition==0},"\u041D\u0430\u0437\u0430\u0434",8,F),e("button",{class:"btn-primary justify-center group relative inline-flex animate-scale-up-center items-center gap-x-2",onClick:o[2]||(o[2]=(...n)=>i.nextQuestion&&i.nextQuestion(...n))},T)],512),[[h,!i.quizCompleted]]),r(e("div",A,[e("p",null,"\u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E \u043E\u0442\u0432\u0435\u0442 "+l(this.quizResult.correct)+" \u0438\u0437 "+l(s.questions.length),1),e("button",{onClick:o[3]||(o[3]=n=>i.updateQuiz()),class:"block w-full"},"\u0417\u0430\u043D\u043E\u0432\u043E")],512),[[h,i.quizCompleted]])])]))}const E=d(y,[["render",W]]),I={name:"CompleteQuizView",components:{SolveQuiz:E}};function U(t,o,f,m,s,i){const n=b("SolveQuiz");return u(),z(n)}const J=d(I,[["render",U]]);export{J as default};
