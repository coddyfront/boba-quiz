(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Wc(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Wv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gv=Wc(Wv);function lp(e){return!!e||e===""}function Gc(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Qe(r)?Xv(r):Gc(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Qe(e))return e;if(Ve(e))return e}}const Qv=/;(?![^(]*\))/g,Yv=/:(.+)/;function Xv(e){const t={};return e.split(Qv).forEach(n=>{if(n){const r=n.split(Yv);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function zt(e){let t="";if(Qe(e))t=e;else if(Z(e))for(let n=0;n<e.length;n++){const r=zt(e[n]);r&&(t+=r+" ")}else if(Ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Jv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=zs(e[r],t[r]);return n}function zs(e,t){if(e===t)return!0;let n=Lf(e),r=Lf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Io(e),r=Io(t),n||r)return e===t;if(n=Z(e),r=Z(t),n||r)return n&&r?Jv(e,t):!1;if(n=Ve(e),r=Ve(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(a&&!u||!a&&u||!zs(e[s],t[s]))return!1}}return String(e)===String(t)}const bi=e=>Qe(e)?e:e==null?"":Z(e)||Ve(e)&&(e.toString===pp||!re(e.toString))?JSON.stringify(e,fp,2):String(e),fp=(e,t)=>t&&t.__v_isRef?fp(e,t.value):gi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:hp(t)?{[`Set(${t.size})`]:[...t.values()]}:Ve(t)&&!Z(t)&&!gp(t)?String(t):t,Ie={},pi=[],Jt=()=>{},Zv=()=>!1,ew=/^on[^a-z]/,Da=e=>ew.test(e),Qc=e=>e.startsWith("onUpdate:"),nt=Object.assign,Yc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},tw=Object.prototype.hasOwnProperty,fe=(e,t)=>tw.call(e,t),Z=Array.isArray,gi=e=>Xo(e)==="[object Map]",hp=e=>Xo(e)==="[object Set]",Lf=e=>Xo(e)==="[object Date]",re=e=>typeof e=="function",Qe=e=>typeof e=="string",Io=e=>typeof e=="symbol",Ve=e=>e!==null&&typeof e=="object",dp=e=>Ve(e)&&re(e.then)&&re(e.catch),pp=Object.prototype.toString,Xo=e=>pp.call(e),nw=e=>Xo(e).slice(8,-1),gp=e=>Xo(e)==="[object Object]",Xc=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ps=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rw=/-(\w)/g,yn=Oa(e=>e.replace(rw,(t,n)=>n?n.toUpperCase():"")),iw=/\B([A-Z])/g,qr=Oa(e=>e.replace(iw,"-$1").toLowerCase()),Ra=Oa(e=>e.charAt(0).toUpperCase()+e.slice(1)),_u=Oa(e=>e?`on${Ra(e)}`:""),So=(e,t)=>!Object.is(e,t),ks=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ks=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Ws=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mf;const ow=()=>Mf||(Mf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let cn;class sw{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&cn&&(this.parent=cn,this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=cn;try{return cn=this,t()}finally{cn=n}}}on(){cn=this}off(){cn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function aw(e,t=cn){t&&t.active&&t.effects.push(e)}const Jc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},mp=e=>(e.w&rr)>0,yp=e=>(e.n&rr)>0,uw=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=rr},cw=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];mp(i)&&!yp(i)?i.delete(e):t[n++]=i,i.w&=~rr,i.n&=~rr}t.length=n}},Qu=new WeakMap;let so=0,rr=1;const Yu=30;let Yt;const xr=Symbol(""),Xu=Symbol("");class Zc{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,aw(this,r)}run(){if(!this.active)return this.fn();let t=Yt,n=Xn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Yt,Yt=this,Xn=!0,rr=1<<++so,so<=Yu?uw(this):Ff(this),this.fn()}finally{so<=Yu&&cw(this),rr=1<<--so,Yt=this.parent,Xn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Yt===this?this.deferStop=!0:this.active&&(Ff(this),this.onStop&&this.onStop(),this.active=!1)}}function Ff(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Xn=!0;const vp=[];function qi(){vp.push(Xn),Xn=!1}function $i(){const e=vp.pop();Xn=e===void 0?!0:e}function Ut(e,t,n){if(Xn&&Yt){let r=Qu.get(e);r||Qu.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Jc()),wp(i)}}function wp(e,t){let n=!1;so<=Yu?yp(e)||(e.n|=rr,n=!mp(e)):n=!e.has(Yt),n&&(e.add(Yt),Yt.deps.push(e))}function Dn(e,t,n,r,i,o){const s=Qu.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&Z(e))s.forEach((u,c)=>{(c==="length"||c>=r)&&a.push(u)});else switch(n!==void 0&&a.push(s.get(n)),t){case"add":Z(e)?Xc(n)&&a.push(s.get("length")):(a.push(s.get(xr)),gi(e)&&a.push(s.get(Xu)));break;case"delete":Z(e)||(a.push(s.get(xr)),gi(e)&&a.push(s.get(Xu)));break;case"set":gi(e)&&a.push(s.get(xr));break}if(a.length===1)a[0]&&Ju(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);Ju(Jc(u))}}function Ju(e,t){const n=Z(e)?e:[...e];for(const r of n)r.computed&&Vf(r);for(const r of n)r.computed||Vf(r)}function Vf(e,t){(e!==Yt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const lw=Wc("__proto__,__v_isRef,__isVue"),bp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Io)),fw=el(),hw=el(!1,!0),dw=el(!0),Uf=pw();function pw(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=me(this);for(let o=0,s=this.length;o<s;o++)Ut(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(me)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qi();const r=me(this)[t].apply(this,n);return $i(),r}}),e}function el(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Dw:Sp:t?Ip:Tp).get(r))return r;const s=Z(r);if(!e&&s&&fe(Uf,i))return Reflect.get(Uf,i,o);const a=Reflect.get(r,i,o);return(Io(i)?bp.has(i):lw(i))||(e||Ut(r,"get",i),t)?a:lt(a)?s&&Xc(i)?a:a.value:Ve(a)?e?Cp(a):$r(a):a}}const gw=_p(),mw=_p(!0);function _p(e=!1){return function(n,r,i,o){let s=n[r];if(Co(s)&&lt(s)&&!lt(i))return!1;if(!e&&!Co(i)&&(Zu(i)||(i=me(i),s=me(s)),!Z(n)&&lt(s)&&!lt(i)))return s.value=i,!0;const a=Z(n)&&Xc(r)?Number(r)<n.length:fe(n,r),u=Reflect.set(n,r,i,o);return n===me(o)&&(a?So(i,s)&&Dn(n,"set",r,i):Dn(n,"add",r,i)),u}}function yw(e,t){const n=fe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Dn(e,"delete",t,void 0),r}function vw(e,t){const n=Reflect.has(e,t);return(!Io(t)||!bp.has(t))&&Ut(e,"has",t),n}function ww(e){return Ut(e,"iterate",Z(e)?"length":xr),Reflect.ownKeys(e)}const Ep={get:fw,set:gw,deleteProperty:yw,has:vw,ownKeys:ww},bw={get:dw,set(e,t){return!0},deleteProperty(e,t){return!0}},_w=nt({},Ep,{get:hw,set:mw}),tl=e=>e,Pa=e=>Reflect.getPrototypeOf(e);function vs(e,t,n=!1,r=!1){e=e.__v_raw;const i=me(e),o=me(t);n||(t!==o&&Ut(i,"get",t),Ut(i,"get",o));const{has:s}=Pa(i),a=r?tl:n?il:Ao;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function ws(e,t=!1){const n=this.__v_raw,r=me(n),i=me(e);return t||(e!==i&&Ut(r,"has",e),Ut(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function bs(e,t=!1){return e=e.__v_raw,!t&&Ut(me(e),"iterate",xr),Reflect.get(e,"size",e)}function Bf(e){e=me(e);const t=me(this);return Pa(t).has.call(t,e)||(t.add(e),Dn(t,"add",e,e)),this}function jf(e,t){t=me(t);const n=me(this),{has:r,get:i}=Pa(n);let o=r.call(n,e);o||(e=me(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?So(t,s)&&Dn(n,"set",e,t):Dn(n,"add",e,t),this}function qf(e){const t=me(this),{has:n,get:r}=Pa(t);let i=n.call(t,e);i||(e=me(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Dn(t,"delete",e,void 0),o}function $f(){const e=me(this),t=e.size!==0,n=e.clear();return t&&Dn(e,"clear",void 0,void 0),n}function _s(e,t){return function(r,i){const o=this,s=o.__v_raw,a=me(s),u=t?tl:e?il:Ao;return!e&&Ut(a,"iterate",xr),s.forEach((c,l)=>r.call(i,u(c),u(l),o))}}function Es(e,t,n){return function(...r){const i=this.__v_raw,o=me(i),s=gi(o),a=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=i[e](...r),l=n?tl:t?il:Ao;return!t&&Ut(o,"iterate",u?Xu:xr),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function Ln(e){return function(...t){return e==="delete"?!1:this}}function Ew(){const e={get(o){return vs(this,o)},get size(){return bs(this)},has:ws,add:Bf,set:jf,delete:qf,clear:$f,forEach:_s(!1,!1)},t={get(o){return vs(this,o,!1,!0)},get size(){return bs(this)},has:ws,add:Bf,set:jf,delete:qf,clear:$f,forEach:_s(!1,!0)},n={get(o){return vs(this,o,!0)},get size(){return bs(this,!0)},has(o){return ws.call(this,o,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:_s(!0,!1)},r={get(o){return vs(this,o,!0,!0)},get size(){return bs(this,!0)},has(o){return ws.call(this,o,!0)},add:Ln("add"),set:Ln("set"),delete:Ln("delete"),clear:Ln("clear"),forEach:_s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Es(o,!1,!1),n[o]=Es(o,!0,!1),t[o]=Es(o,!1,!0),r[o]=Es(o,!0,!0)}),[e,n,t,r]}const[Tw,Iw,Sw,Cw]=Ew();function nl(e,t){const n=t?e?Cw:Sw:e?Iw:Tw;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(fe(n,i)&&i in r?n:r,i,o)}const Aw={get:nl(!1,!1)},xw={get:nl(!1,!0)},Nw={get:nl(!0,!1)},Tp=new WeakMap,Ip=new WeakMap,Sp=new WeakMap,Dw=new WeakMap;function Ow(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rw(e){return e.__v_skip||!Object.isExtensible(e)?0:Ow(nw(e))}function $r(e){return Co(e)?e:rl(e,!1,Ep,Aw,Tp)}function Pw(e){return rl(e,!1,_w,xw,Ip)}function Cp(e){return rl(e,!0,bw,Nw,Sp)}function rl(e,t,n,r,i){if(!Ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Rw(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function mi(e){return Co(e)?mi(e.__v_raw):!!(e&&e.__v_isReactive)}function Co(e){return!!(e&&e.__v_isReadonly)}function Zu(e){return!!(e&&e.__v_isShallow)}function Ap(e){return mi(e)||Co(e)}function me(e){const t=e&&e.__v_raw;return t?me(t):e}function xp(e){return Ks(e,"__v_skip",!0),e}const Ao=e=>Ve(e)?$r(e):e,il=e=>Ve(e)?Cp(e):e;function Np(e){Xn&&Yt&&(e=me(e),wp(e.dep||(e.dep=Jc())))}function Dp(e,t){e=me(e),e.dep&&Ju(e.dep)}function lt(e){return!!(e&&e.__v_isRef===!0)}function $t(e){return Op(e,!1)}function kw(e){return Op(e,!0)}function Op(e,t){return lt(e)?e:new Lw(e,t)}class Lw{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:me(t),this._value=n?t:Ao(t)}get value(){return Np(this),this._value}set value(t){t=this.__v_isShallow?t:me(t),So(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Ao(t),Dp(this))}}function Jn(e){return lt(e)?e.value:e}const Mw={get:(e,t,n)=>Jn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return lt(i)&&!lt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Rp(e){return mi(e)?e:new Proxy(e,Mw)}class Fw{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Zc(t,()=>{this._dirty||(this._dirty=!0,Dp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=me(this);return Np(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Vw(e,t,n=!1){let r,i;const o=re(e);return o?(r=e,i=Jt):(r=e.get,i=e.set),new Fw(r,i,o||!i,n)}function Zn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){ka(o,t,n)}return i}function Kt(e,t,n,r){if(re(e)){const o=Zn(e,t,n,r);return o&&dp(o)&&o.catch(s=>{ka(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Kt(e[o],t,n,r));return i}function ka(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,s,a)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){Zn(u,null,10,[e,s,a]);return}}Uw(e,n,i,r)}function Uw(e,t,n,r=!0){console.error(e)}let Gs=!1,ec=!1;const kt=[];let Tn=0;const fo=[];let ao=null,si=0;const ho=[];let $n=null,ai=0;const Pp=Promise.resolve();let ol=null,tc=null;function kp(e){const t=ol||Pp;return e?t.then(this?e.bind(this):e):t}function Bw(e){let t=Tn+1,n=kt.length;for(;t<n;){const r=t+n>>>1;xo(kt[r])<e?t=r+1:n=r}return t}function Lp(e){(!kt.length||!kt.includes(e,Gs&&e.allowRecurse?Tn+1:Tn))&&e!==tc&&(e.id==null?kt.push(e):kt.splice(Bw(e.id),0,e),Mp())}function Mp(){!Gs&&!ec&&(ec=!0,ol=Pp.then(Up))}function jw(e){const t=kt.indexOf(e);t>Tn&&kt.splice(t,1)}function Fp(e,t,n,r){Z(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),Mp()}function qw(e){Fp(e,ao,fo,si)}function $w(e){Fp(e,$n,ho,ai)}function La(e,t=null){if(fo.length){for(tc=t,ao=[...new Set(fo)],fo.length=0,si=0;si<ao.length;si++)ao[si]();ao=null,si=0,tc=null,La(e,t)}}function Vp(e){if(La(),ho.length){const t=[...new Set(ho)];if(ho.length=0,$n){$n.push(...t);return}for($n=t,$n.sort((n,r)=>xo(n)-xo(r)),ai=0;ai<$n.length;ai++)$n[ai]();$n=null,ai=0}}const xo=e=>e.id==null?1/0:e.id;function Up(e){ec=!1,Gs=!0,La(e),kt.sort((n,r)=>xo(n)-xo(r));const t=Jt;try{for(Tn=0;Tn<kt.length;Tn++){const n=kt[Tn];n&&n.active!==!1&&Zn(n,null,14)}}finally{Tn=0,kt.length=0,Vp(),Gs=!1,ol=null,(kt.length||fo.length||ho.length)&&Up(e)}}function Hw(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ie;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[l]||Ie;h&&(i=n.map(d=>d.trim())),f&&(i=n.map(Ws))}let a,u=r[a=_u(t)]||r[a=_u(yn(t))];!u&&o&&(u=r[a=_u(qr(t))]),u&&Kt(u,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Kt(c,e,6,i)}}function Bp(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!re(e)){const u=c=>{const l=Bp(c,t,!0);l&&(a=!0,nt(s,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!a?(r.set(e,null),null):(Z(o)?o.forEach(u=>s[u]=null):nt(s,o),r.set(e,s),s)}function Ma(e,t){return!e||!Da(t)?!1:(t=t.slice(2).replace(/Once$/,""),fe(e,t[0].toLowerCase()+t.slice(1))||fe(e,qr(t))||fe(e,t))}let ft=null,jp=null;function Qs(e){const t=ft;return ft=e,jp=e&&e.type.__scopeId||null,t}function Nr(e,t=ft,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&eh(-1);const o=Qs(t),s=e(...i);return Qs(o),r._d&&eh(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Eu(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:m}=e;let v,w;const E=Qs(e);try{if(n.shapeFlag&4){const R=i||r;v=dn(l.call(R,R,f,o,d,h,p)),w=u}else{const R=t;v=dn(R.length>1?R(o,{attrs:u,slots:a,emit:c}):R(o,null)),w=t.props?u:zw(u)}}catch(R){mo.length=0,ka(R,e,1),v=pe(Wt)}let T=v;if(w&&m!==!1){const R=Object.keys(w),{shapeFlag:U}=T;R.length&&U&7&&(s&&R.some(Qc)&&(w=Kw(w,s)),T=ir(T,w))}return n.dirs&&(T=ir(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),v=T,Qs(E),v}const zw=e=>{let t;for(const n in e)(n==="class"||n==="style"||Da(n))&&((t||(t={}))[n]=e[n]);return t},Kw=(e,t)=>{const n={};for(const r in e)(!Qc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ww(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Hf(r,s,c):!!s;if(u&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(s[h]!==r[h]&&!Ma(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Hf(r,s,c):!0:!!s;return!1}function Hf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Ma(n,o))return!0}return!1}function Gw({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Qw=e=>e.__isSuspense;function Yw(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):$w(e)}function Ls(e,t){if(Ge){let n=Ge.provides;const r=Ge.parent&&Ge.parent.provides;r===n&&(n=Ge.provides=Object.create(r)),n[e]=t}}function er(e,t,n=!1){const r=Ge||ft;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&re(t)?t.call(r.proxy):t}}function Xw(e,t){return sl(e,null,t)}const zf={};function yi(e,t,n){return sl(e,t,n)}function sl(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Ie){const a=Ge;let u,c=!1,l=!1;if(lt(e)?(u=()=>e.value,c=Zu(e)):mi(e)?(u=()=>e,r=!0):Z(e)?(l=!0,c=e.some(w=>mi(w)||Zu(w)),u=()=>e.map(w=>{if(lt(w))return w.value;if(mi(w))return Tr(w);if(re(w))return Zn(w,a,2)})):re(e)?t?u=()=>Zn(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return f&&f(),Kt(e,a,3,[h])}:u=Jt,t&&r){const w=u;u=()=>Tr(w())}let f,h=w=>{f=v.onStop=()=>{Zn(w,a,4)}};if(Oo)return h=Jt,t?n&&Kt(t,a,3,[u(),l?[]:void 0,h]):u(),Jt;let d=l?[]:zf;const p=()=>{if(!!v.active)if(t){const w=v.run();(r||c||(l?w.some((E,T)=>So(E,d[T])):So(w,d)))&&(f&&f(),Kt(t,a,3,[w,d===zf?void 0:d,h]),d=w)}else v.run()};p.allowRecurse=!!t;let m;i==="sync"?m=p:i==="post"?m=()=>Et(p,a&&a.suspense):m=()=>qw(p);const v=new Zc(u,m);return t?n?p():d=v.run():i==="post"?Et(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&Yc(a.scope.effects,v)}}function Jw(e,t,n){const r=this.proxy,i=Qe(e)?e.includes(".")?qp(r,e):()=>r[e]:e.bind(r,r);let o;re(t)?o=t:(o=t.handler,n=t);const s=Ge;_i(this);const a=sl(i,o.bind(r),n);return s?_i(s):Dr(),a}function qp(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Tr(e,t){if(!Ve(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))Tr(e.value,t);else if(Z(e))for(let n=0;n<e.length;n++)Tr(e[n],t);else if(hp(e)||gi(e))e.forEach(n=>{Tr(n,t)});else if(gp(e))for(const n in e)Tr(e[n],t);return e}function Zw(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return go(()=>{e.isMounted=!0}),Wp(()=>{e.isUnmounting=!0}),e}const qt=[Function,Array],e0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qt,onEnter:qt,onAfterEnter:qt,onEnterCancelled:qt,onBeforeLeave:qt,onLeave:qt,onAfterLeave:qt,onLeaveCancelled:qt,onBeforeAppear:qt,onAppear:qt,onAfterAppear:qt,onAppearCancelled:qt},setup(e,{slots:t}){const n=F0(),r=Zw();let i;return()=>{const o=t.default&&zp(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const m of o)if(m.type!==Wt){s=m;break}}const a=me(e),{mode:u}=a;if(r.isLeaving)return Tu(s);const c=Kf(s);if(!c)return Tu(s);const l=nc(c,a,r,n);rc(c,l);const f=n.subTree,h=f&&Kf(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(h&&h.type!==Wt&&(!wr(c,h)||d)){const m=nc(h,a,r,n);if(rc(h,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},Tu(s);u==="in-out"&&c.type!==Wt&&(m.delayLeave=(v,w,E)=>{const T=Hp(r,h);T[String(h.key)]=h,v._leaveCb=()=>{w(),v._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=E})}return s}}},$p=e0;function Hp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function nc(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:w,onAppearCancelled:E}=t,T=String(e.key),R=Hp(n,e),U=(te,oe)=>{te&&Kt(te,r,9,oe)},G=(te,oe)=>{const ve=oe[1];U(te,oe),Z(te)?te.every(Pe=>Pe.length<=1)&&ve():te.length<=1&&ve()},ue={mode:o,persisted:s,beforeEnter(te){let oe=a;if(!n.isMounted)if(i)oe=m||a;else return;te._leaveCb&&te._leaveCb(!0);const ve=R[T];ve&&wr(e,ve)&&ve.el._leaveCb&&ve.el._leaveCb(),U(oe,[te])},enter(te){let oe=u,ve=c,Pe=l;if(!n.isMounted)if(i)oe=v||u,ve=w||c,Pe=E||l;else return;let q=!1;const Ne=te._enterCb=it=>{q||(q=!0,it?U(Pe,[te]):U(ve,[te]),ue.delayedLeave&&ue.delayedLeave(),te._enterCb=void 0)};oe?G(oe,[te,Ne]):Ne()},leave(te,oe){const ve=String(e.key);if(te._enterCb&&te._enterCb(!0),n.isUnmounting)return oe();U(f,[te]);let Pe=!1;const q=te._leaveCb=Ne=>{Pe||(Pe=!0,oe(),Ne?U(p,[te]):U(d,[te]),te._leaveCb=void 0,R[ve]===e&&delete R[ve])};R[ve]=e,h?G(h,[te,q]):q()},clone(te){return nc(te,t,n,r)}};return ue}function Tu(e){if(Va(e))return e=ir(e),e.children=null,e}function Kf(e){return Va(e)?e.children?e.children[0]:void 0:e}function rc(e,t){e.shapeFlag&6&&e.component?rc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zp(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Ht?(s.patchFlag&128&&i++,r=r.concat(zp(s.children,t,a))):(t||s.type!==Wt)&&r.push(a!=null?ir(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Fa(e){return re(e)?{setup:e,name:e.name}:e}const po=e=>!!e.type.__asyncLoader,Va=e=>e.type.__isKeepAlive;function t0(e,t){Kp(e,"a",t)}function n0(e,t){Kp(e,"da",t)}function Kp(e,t,n=Ge){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ua(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Va(i.parent.vnode)&&r0(r,t,n,i),i=i.parent}}function r0(e,t,n,r){const i=Ua(t,e,r,!0);No(()=>{Yc(r[t],i)},n)}function Ua(e,t,n=Ge,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;qi(),_i(n);const a=Kt(t,n,e,s);return Dr(),$i(),a});return r?i.unshift(o):i.push(o),o}}const Rn=e=>(t,n=Ge)=>(!Oo||e==="sp")&&Ua(e,t,n),i0=Rn("bm"),go=Rn("m"),o0=Rn("bu"),s0=Rn("u"),Wp=Rn("bum"),No=Rn("um"),a0=Rn("sp"),u0=Rn("rtg"),c0=Rn("rtc");function l0(e,t=Ge){Ua("ec",e,t)}function ic(e,t){const n=ft;if(n===null)return e;const r=ja(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,u,c=Ie]=t[o];re(s)&&(s={mounted:s,updated:s}),s.deep&&Tr(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c})}return e}function hr(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&(qi(),Kt(u,n,8,[e.el,a,e,t]),$i())}}const Gp="components",f0="directives";function h0(e,t){return Yp(Gp,e,!0,t)||e}const d0=Symbol();function Qp(e){return Yp(f0,e)}function Yp(e,t,n=!0,r=!1){const i=ft||Ge;if(i){const o=i.type;if(e===Gp){const a=q0(o,!1);if(a&&(a===t||a===yn(t)||a===Ra(yn(t))))return o}const s=Wf(i[e]||o[e],t)||Wf(i.appContext[e],t);return!s&&r?o:s}}function Wf(e,t){return e&&(e[t]||e[yn(t)]||e[Ra(yn(t))])}function hA(e,t,n,r){let i;const o=n&&n[r];if(Z(e)||Qe(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ve(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const c=s[a];i[a]=t(e[c],c,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function Cn(e,t,n={},r,i){if(ft.isCE||ft.parent&&po(ft.parent)&&ft.parent.isCE)return pe("slot",t==="default"?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),Se();const s=o&&Xp(o(n)),a=Xe(Ht,{key:n.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Xp(e){return e.some(t=>Js(t)?!(t.type===Wt||t.type===Ht&&!Xp(t.children)):!0)?e:null}const oc=e=>e?lg(e)?ja(e)||e.proxy:oc(e.parent):null,Ys=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oc(e.parent),$root:e=>oc(e.root),$emit:e=>e.emit,$options:e=>Zp(e),$forceUpdate:e=>e.f||(e.f=()=>Lp(e.update)),$nextTick:e=>e.n||(e.n=kp.bind(e.proxy)),$watch:e=>Jw.bind(e)}),p0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Ie&&fe(r,t))return s[t]=1,r[t];if(i!==Ie&&fe(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&fe(c,t))return s[t]=3,o[t];if(n!==Ie&&fe(n,t))return s[t]=4,n[t];sc&&(s[t]=0)}}const l=Ys[t];let f,h;if(l)return t==="$attrs"&&Ut(e,"get",t),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Ie&&fe(n,t))return s[t]=4,n[t];if(h=u.config.globalProperties,fe(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Ie&&fe(i,t)?(i[t]=n,!0):r!==Ie&&fe(r,t)?(r[t]=n,!0):fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Ie&&fe(e,s)||t!==Ie&&fe(t,s)||(a=o[0])&&fe(a,s)||fe(r,s)||fe(Ys,s)||fe(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:fe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let sc=!0;function g0(e){const t=Zp(e),n=e.proxy,r=e.ctx;sc=!1,t.beforeCreate&&Gf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:v,beforeDestroy:w,beforeUnmount:E,destroyed:T,unmounted:R,render:U,renderTracked:G,renderTriggered:ue,errorCaptured:te,serverPrefetch:oe,expose:ve,inheritAttrs:Pe,components:q,directives:Ne,filters:it}=t;if(c&&m0(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const Ce in s){const we=s[Ce];re(we)&&(r[Ce]=we.bind(n))}if(i){const Ce=i.call(n,n);Ve(Ce)&&(e.data=$r(Ce))}if(sc=!0,o)for(const Ce in o){const we=o[Ce],Nt=re(we)?we.bind(n,n):re(we.get)?we.get.bind(n,n):Jt,Zr=!re(we)&&re(we.set)?we.set.bind(n):Jt,_n=ct({get:Nt,set:Zr});Object.defineProperty(r,Ce,{enumerable:!0,configurable:!0,get:()=>_n.value,set:sn=>_n.value=sn})}if(a)for(const Ce in a)Jp(a[Ce],r,n,Ce);if(u){const Ce=re(u)?u.call(n):u;Reflect.ownKeys(Ce).forEach(we=>{Ls(we,Ce[we])})}l&&Gf(l,e,"c");function Le(Ce,we){Z(we)?we.forEach(Nt=>Ce(Nt.bind(n))):we&&Ce(we.bind(n))}if(Le(i0,f),Le(go,h),Le(o0,d),Le(s0,p),Le(t0,m),Le(n0,v),Le(l0,te),Le(c0,G),Le(u0,ue),Le(Wp,E),Le(No,R),Le(a0,oe),Z(ve))if(ve.length){const Ce=e.exposed||(e.exposed={});ve.forEach(we=>{Object.defineProperty(Ce,we,{get:()=>n[we],set:Nt=>n[we]=Nt})})}else e.exposed||(e.exposed={});U&&e.render===Jt&&(e.render=U),Pe!=null&&(e.inheritAttrs=Pe),q&&(e.components=q),Ne&&(e.directives=Ne)}function m0(e,t,n=Jt,r=!1){Z(e)&&(e=ac(e));for(const i in e){const o=e[i];let s;Ve(o)?"default"in o?s=er(o.from||i,o.default,!0):s=er(o.from||i):s=er(o),lt(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function Gf(e,t,n){Kt(Z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Jp(e,t,n,r){const i=r.includes(".")?qp(n,r):()=>n[r];if(Qe(e)){const o=t[e];re(o)&&yi(i,o)}else if(re(e))yi(i,e.bind(n));else if(Ve(e))if(Z(e))e.forEach(o=>Jp(o,t,n,r));else{const o=re(e.handler)?e.handler.bind(n):t[e.handler];re(o)&&yi(i,o,e)}}function Zp(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>Xs(u,c,s,!0)),Xs(u,t,s)),o.set(t,u),u}function Xs(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Xs(e,o,n,!0),i&&i.forEach(s=>Xs(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=y0[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const y0={data:Qf,props:yr,emits:yr,methods:yr,computed:yr,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:yr,directives:yr,watch:w0,provide:Qf,inject:v0};function Qf(e,t){return t?e?function(){return nt(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function v0(e,t){return yr(ac(e),ac(t))}function ac(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function yr(e,t){return e?nt(nt(Object.create(null),e),t):t}function w0(e,t){if(!e)return t;if(!t)return e;const n=nt(Object.create(null),e);for(const r in t)n[r]=mt(e[r],t[r]);return n}function b0(e,t,n,r=!1){const i={},o={};Ks(o,Ba,1),e.propsDefaults=Object.create(null),eg(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Pw(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function _0(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=me(i),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(Ma(e.emitsOptions,h))continue;const d=t[h];if(u)if(fe(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=yn(h);i[p]=uc(u,a,p,d,e,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{eg(e,t,i,o)&&(c=!0);let l;for(const f in a)(!t||!fe(t,f)&&((l=qr(f))===f||!fe(t,l)))&&(u?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=uc(u,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!fe(t,f)&&!0)&&(delete o[f],c=!0)}c&&Dn(e,"set","$attrs")}function eg(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let u in t){if(Ps(u))continue;const c=t[u];let l;i&&fe(i,l=yn(u))?!o||!o.includes(l)?n[l]=c:(a||(a={}))[l]=c:Ma(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(o){const u=me(n),c=a||Ie;for(let l=0;l<o.length;l++){const f=o[l];n[f]=uc(i,u,f,c[f],e,!fe(c,f))}}return s}function uc(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=fe(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&re(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(_i(i),r=c[n]=u.call(null,t),Dr())}else r=u}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===qr(n))&&(r=!0))}return r}function tg(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let u=!1;if(!re(e)){const l=f=>{u=!0;const[h,d]=tg(f,t,!0);nt(s,h),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!u)return r.set(e,pi),pi;if(Z(o))for(let l=0;l<o.length;l++){const f=yn(o[l]);Yf(f)&&(s[f]=Ie)}else if(o)for(const l in o){const f=yn(l);if(Yf(f)){const h=o[l],d=s[f]=Z(h)||re(h)?{type:h}:h;if(d){const p=Zf(Boolean,d.type),m=Zf(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||fe(d,"default"))&&a.push(f)}}}const c=[s,a];return r.set(e,c),c}function Yf(e){return e[0]!=="$"}function Xf(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Jf(e,t){return Xf(e)===Xf(t)}function Zf(e,t){return Z(t)?t.findIndex(n=>Jf(n,e)):re(t)&&Jf(t,e)?0:-1}const ng=e=>e[0]==="_"||e==="$stable",al=e=>Z(e)?e.map(dn):[dn(e)],E0=(e,t,n)=>{if(t._n)return t;const r=Nr((...i)=>al(t(...i)),n);return r._c=!1,r},rg=(e,t,n)=>{const r=e._ctx;for(const i in e){if(ng(i))continue;const o=e[i];if(re(o))t[i]=E0(i,o,r);else if(o!=null){const s=al(o);t[i]=()=>s}}},ig=(e,t)=>{const n=al(t);e.slots.default=()=>n},T0=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=me(t),Ks(t,"_",n)):rg(t,e.slots={})}else e.slots={},t&&ig(e,t);Ks(e.slots,Ba,1)},I0=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Ie;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(nt(i,t),!n&&a===1&&delete i._):(o=!t.$stable,rg(t,i)),s=t}else t&&(ig(e,t),s={default:1});if(o)for(const a in i)!ng(a)&&!(a in s)&&delete i[a]};function og(){return{app:null,config:{isNativeTag:Zv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let S0=0;function C0(e,t){return function(r,i=null){re(r)||(r=Object.assign({},r)),i!=null&&!Ve(i)&&(i=null);const o=og(),s=new Set;let a=!1;const u=o.app={_uid:S0++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:H0,get config(){return o.config},set config(c){},use(c,...l){return s.has(c)||(c&&re(c.install)?(s.add(c),c.install(u,...l)):re(c)&&(s.add(c),c(u,...l))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,l){return l?(o.components[c]=l,u):o.components[c]},directive(c,l){return l?(o.directives[c]=l,u):o.directives[c]},mount(c,l,f){if(!a){const h=pe(r,i);return h.appContext=o,l&&t?t(h,c):e(h,c,f),a=!0,u._container=c,c.__vue_app__=u,ja(h.component)||h.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return o.provides[c]=l,u}};return u}}function cc(e,t,n,r,i=!1){if(Z(e)){e.forEach((h,d)=>cc(h,t&&(Z(t)?t[d]:t),n,r,i));return}if(po(r)&&!i)return;const o=r.shapeFlag&4?ja(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=e,c=t&&t.r,l=a.refs===Ie?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==u&&(Qe(c)?(l[c]=null,fe(f,c)&&(f[c]=null)):lt(c)&&(c.value=null)),re(u))Zn(u,a,12,[s,l]);else{const h=Qe(u),d=lt(u);if(h||d){const p=()=>{if(e.f){const m=h?l[u]:u.value;i?Z(m)&&Yc(m,o):Z(m)?m.includes(o)||m.push(o):h?(l[u]=[o],fe(f,u)&&(f[u]=l[u])):(u.value=[o],e.k&&(l[e.k]=u.value))}else h?(l[u]=s,fe(f,u)&&(f[u]=s)):d&&(u.value=s,e.k&&(l[e.k]=s))};s?(p.id=-1,Et(p,n)):p()}}}const Et=Yw;function A0(e){return x0(e)}function x0(e,t){const n=ow();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:f,nextSibling:h,setScopeId:d=Jt,cloneNode:p,insertStaticContent:m}=e,v=(g,y,_,N=null,A=null,L=null,B=!1,k=null,M=!!y.dynamicChildren)=>{if(g===y)return;g&&!wr(g,y)&&(N=K(g),jt(g,A,L,!0),g=null),y.patchFlag===-2&&(M=!1,y.dynamicChildren=null);const{type:D,ref:Q,shapeFlag:$}=y;switch(D){case ul:w(g,y,_,N);break;case Wt:E(g,y,_,N);break;case Iu:g==null&&T(y,_,N,B);break;case Ht:Ne(g,y,_,N,A,L,B,k,M);break;default:$&1?G(g,y,_,N,A,L,B,k,M):$&6?it(g,y,_,N,A,L,B,k,M):($&64||$&128)&&D.process(g,y,_,N,A,L,B,k,M,Ae)}Q!=null&&A&&cc(Q,g&&g.ref,L,y||g,!y)},w=(g,y,_,N)=>{if(g==null)r(y.el=a(y.children),_,N);else{const A=y.el=g.el;y.children!==g.children&&c(A,y.children)}},E=(g,y,_,N)=>{g==null?r(y.el=u(y.children||""),_,N):y.el=g.el},T=(g,y,_,N)=>{[g.el,g.anchor]=m(g.children,y,_,N,g.el,g.anchor)},R=({el:g,anchor:y},_,N)=>{let A;for(;g&&g!==y;)A=h(g),r(g,_,N),g=A;r(y,_,N)},U=({el:g,anchor:y})=>{let _;for(;g&&g!==y;)_=h(g),i(g),g=_;i(y)},G=(g,y,_,N,A,L,B,k,M)=>{B=B||y.type==="svg",g==null?ue(y,_,N,A,L,B,k,M):ve(g,y,A,L,B,k,M)},ue=(g,y,_,N,A,L,B,k)=>{let M,D;const{type:Q,props:$,shapeFlag:Y,transition:ne,patchFlag:he,dirs:_e}=g;if(g.el&&p!==void 0&&he===-1)M=g.el=p(g.el);else{if(M=g.el=s(g.type,L,$&&$.is,$),Y&8?l(M,g.children):Y&16&&oe(g.children,M,null,N,A,L&&Q!=="foreignObject",B,k),_e&&hr(g,null,N,"created"),$){for(const De in $)De!=="value"&&!Ps(De)&&o(M,De,null,$[De],L,g.children,N,A,F);"value"in $&&o(M,"value",null,$.value),(D=$.onVnodeBeforeMount)&&un(D,N,g)}te(M,g,g.scopeId,B,N)}_e&&hr(g,null,N,"beforeMount");const Ee=(!A||A&&!A.pendingBranch)&&ne&&!ne.persisted;Ee&&ne.beforeEnter(M),r(M,y,_),((D=$&&$.onVnodeMounted)||Ee||_e)&&Et(()=>{D&&un(D,N,g),Ee&&ne.enter(M),_e&&hr(g,null,N,"mounted")},A)},te=(g,y,_,N,A)=>{if(_&&d(g,_),N)for(let L=0;L<N.length;L++)d(g,N[L]);if(A){let L=A.subTree;if(y===L){const B=A.vnode;te(g,B,B.scopeId,B.slotScopeIds,A.parent)}}},oe=(g,y,_,N,A,L,B,k,M=0)=>{for(let D=M;D<g.length;D++){const Q=g[D]=k?Hn(g[D]):dn(g[D]);v(null,Q,y,_,N,A,L,B,k)}},ve=(g,y,_,N,A,L,B)=>{const k=y.el=g.el;let{patchFlag:M,dynamicChildren:D,dirs:Q}=y;M|=g.patchFlag&16;const $=g.props||Ie,Y=y.props||Ie;let ne;_&&dr(_,!1),(ne=Y.onVnodeBeforeUpdate)&&un(ne,_,y,g),Q&&hr(y,g,_,"beforeUpdate"),_&&dr(_,!0);const he=A&&y.type!=="foreignObject";if(D?Pe(g.dynamicChildren,D,k,_,N,he,L):B||Nt(g,y,k,null,_,N,he,L,!1),M>0){if(M&16)q(k,y,$,Y,_,N,A);else if(M&2&&$.class!==Y.class&&o(k,"class",null,Y.class,A),M&4&&o(k,"style",$.style,Y.style,A),M&8){const _e=y.dynamicProps;for(let Ee=0;Ee<_e.length;Ee++){const De=_e[Ee],Gt=$[De],ei=Y[De];(ei!==Gt||De==="value")&&o(k,De,Gt,ei,A,g.children,_,N,F)}}M&1&&g.children!==y.children&&l(k,y.children)}else!B&&D==null&&q(k,y,$,Y,_,N,A);((ne=Y.onVnodeUpdated)||Q)&&Et(()=>{ne&&un(ne,_,y,g),Q&&hr(y,g,_,"updated")},N)},Pe=(g,y,_,N,A,L,B)=>{for(let k=0;k<y.length;k++){const M=g[k],D=y[k],Q=M.el&&(M.type===Ht||!wr(M,D)||M.shapeFlag&70)?f(M.el):_;v(M,D,Q,null,N,A,L,B,!0)}},q=(g,y,_,N,A,L,B)=>{if(_!==N){for(const k in N){if(Ps(k))continue;const M=N[k],D=_[k];M!==D&&k!=="value"&&o(g,k,D,M,B,y.children,A,L,F)}if(_!==Ie)for(const k in _)!Ps(k)&&!(k in N)&&o(g,k,_[k],null,B,y.children,A,L,F);"value"in N&&o(g,"value",_.value,N.value)}},Ne=(g,y,_,N,A,L,B,k,M)=>{const D=y.el=g?g.el:a(""),Q=y.anchor=g?g.anchor:a("");let{patchFlag:$,dynamicChildren:Y,slotScopeIds:ne}=y;ne&&(k=k?k.concat(ne):ne),g==null?(r(D,_,N),r(Q,_,N),oe(y.children,_,Q,A,L,B,k,M)):$>0&&$&64&&Y&&g.dynamicChildren?(Pe(g.dynamicChildren,Y,_,A,L,B,k),(y.key!=null||A&&y===A.subTree)&&sg(g,y,!0)):Nt(g,y,_,Q,A,L,B,k,M)},it=(g,y,_,N,A,L,B,k,M)=>{y.slotScopeIds=k,g==null?y.shapeFlag&512?A.ctx.activate(y,_,N,B,M):bn(y,_,N,A,L,B,M):Le(g,y,M)},bn=(g,y,_,N,A,L,B)=>{const k=g.component=M0(g,N,A);if(Va(g)&&(k.ctx.renderer=Ae),V0(k),k.asyncDep){if(A&&A.registerDep(k,Ce),!g.el){const M=k.subTree=pe(Wt);E(null,M,y,_)}return}Ce(k,g,y,_,A,L,B)},Le=(g,y,_)=>{const N=y.component=g.component;if(Ww(g,y,_))if(N.asyncDep&&!N.asyncResolved){we(N,y,_);return}else N.next=y,jw(N.update),N.update();else y.el=g.el,N.vnode=y},Ce=(g,y,_,N,A,L,B)=>{const k=()=>{if(g.isMounted){let{next:Q,bu:$,u:Y,parent:ne,vnode:he}=g,_e=Q,Ee;dr(g,!1),Q?(Q.el=he.el,we(g,Q,B)):Q=he,$&&ks($),(Ee=Q.props&&Q.props.onVnodeBeforeUpdate)&&un(Ee,ne,Q,he),dr(g,!0);const De=Eu(g),Gt=g.subTree;g.subTree=De,v(Gt,De,f(Gt.el),K(Gt),g,A,L),Q.el=De.el,_e===null&&Gw(g,De.el),Y&&Et(Y,A),(Ee=Q.props&&Q.props.onVnodeUpdated)&&Et(()=>un(Ee,ne,Q,he),A)}else{let Q;const{el:$,props:Y}=y,{bm:ne,m:he,parent:_e}=g,Ee=po(y);if(dr(g,!1),ne&&ks(ne),!Ee&&(Q=Y&&Y.onVnodeBeforeMount)&&un(Q,_e,y),dr(g,!0),$&&ie){const De=()=>{g.subTree=Eu(g),ie($,g.subTree,g,A,null)};Ee?y.type.__asyncLoader().then(()=>!g.isUnmounted&&De()):De()}else{const De=g.subTree=Eu(g);v(null,De,_,N,g,A,L),y.el=De.el}if(he&&Et(he,A),!Ee&&(Q=Y&&Y.onVnodeMounted)){const De=y;Et(()=>un(Q,_e,De),A)}(y.shapeFlag&256||_e&&po(_e.vnode)&&_e.vnode.shapeFlag&256)&&g.a&&Et(g.a,A),g.isMounted=!0,y=_=N=null}},M=g.effect=new Zc(k,()=>Lp(D),g.scope),D=g.update=()=>M.run();D.id=g.uid,dr(g,!0),D()},we=(g,y,_)=>{y.component=g;const N=g.vnode.props;g.vnode=y,g.next=null,_0(g,y.props,N,_),I0(g,y.children,_),qi(),La(void 0,g.update),$i()},Nt=(g,y,_,N,A,L,B,k,M=!1)=>{const D=g&&g.children,Q=g?g.shapeFlag:0,$=y.children,{patchFlag:Y,shapeFlag:ne}=y;if(Y>0){if(Y&128){_n(D,$,_,N,A,L,B,k,M);return}else if(Y&256){Zr(D,$,_,N,A,L,B,k,M);return}}ne&8?(Q&16&&F(D,A,L),$!==D&&l(_,$)):Q&16?ne&16?_n(D,$,_,N,A,L,B,k,M):F(D,A,L,!0):(Q&8&&l(_,""),ne&16&&oe($,_,N,A,L,B,k,M))},Zr=(g,y,_,N,A,L,B,k,M)=>{g=g||pi,y=y||pi;const D=g.length,Q=y.length,$=Math.min(D,Q);let Y;for(Y=0;Y<$;Y++){const ne=y[Y]=M?Hn(y[Y]):dn(y[Y]);v(g[Y],ne,_,null,A,L,B,k,M)}D>Q?F(g,A,L,!0,!1,$):oe(y,_,N,A,L,B,k,M,$)},_n=(g,y,_,N,A,L,B,k,M)=>{let D=0;const Q=y.length;let $=g.length-1,Y=Q-1;for(;D<=$&&D<=Y;){const ne=g[D],he=y[D]=M?Hn(y[D]):dn(y[D]);if(wr(ne,he))v(ne,he,_,null,A,L,B,k,M);else break;D++}for(;D<=$&&D<=Y;){const ne=g[$],he=y[Y]=M?Hn(y[Y]):dn(y[Y]);if(wr(ne,he))v(ne,he,_,null,A,L,B,k,M);else break;$--,Y--}if(D>$){if(D<=Y){const ne=Y+1,he=ne<Q?y[ne].el:N;for(;D<=Y;)v(null,y[D]=M?Hn(y[D]):dn(y[D]),_,he,A,L,B,k,M),D++}}else if(D>Y)for(;D<=$;)jt(g[D],A,L,!0),D++;else{const ne=D,he=D,_e=new Map;for(D=he;D<=Y;D++){const Dt=y[D]=M?Hn(y[D]):dn(y[D]);Dt.key!=null&&_e.set(Dt.key,D)}let Ee,De=0;const Gt=Y-he+1;let ei=!1,Rf=0;const eo=new Array(Gt);for(D=0;D<Gt;D++)eo[D]=0;for(D=ne;D<=$;D++){const Dt=g[D];if(De>=Gt){jt(Dt,A,L,!0);continue}let an;if(Dt.key!=null)an=_e.get(Dt.key);else for(Ee=he;Ee<=Y;Ee++)if(eo[Ee-he]===0&&wr(Dt,y[Ee])){an=Ee;break}an===void 0?jt(Dt,A,L,!0):(eo[an-he]=D+1,an>=Rf?Rf=an:ei=!0,v(Dt,y[an],_,null,A,L,B,k,M),De++)}const Pf=ei?N0(eo):pi;for(Ee=Pf.length-1,D=Gt-1;D>=0;D--){const Dt=he+D,an=y[Dt],kf=Dt+1<Q?y[Dt+1].el:N;eo[D]===0?v(null,an,_,kf,A,L,B,k,M):ei&&(Ee<0||D!==Pf[Ee]?sn(an,_,kf,2):Ee--)}}},sn=(g,y,_,N,A=null)=>{const{el:L,type:B,transition:k,children:M,shapeFlag:D}=g;if(D&6){sn(g.component.subTree,y,_,N);return}if(D&128){g.suspense.move(y,_,N);return}if(D&64){B.move(g,y,_,Ae);return}if(B===Ht){r(L,y,_);for(let $=0;$<M.length;$++)sn(M[$],y,_,N);r(g.anchor,y,_);return}if(B===Iu){R(g,y,_);return}if(N!==2&&D&1&&k)if(N===0)k.beforeEnter(L),r(L,y,_),Et(()=>k.enter(L),A);else{const{leave:$,delayLeave:Y,afterLeave:ne}=k,he=()=>r(L,y,_),_e=()=>{$(L,()=>{he(),ne&&ne()})};Y?Y(L,he,_e):_e()}else r(L,y,_)},jt=(g,y,_,N=!1,A=!1)=>{const{type:L,props:B,ref:k,children:M,dynamicChildren:D,shapeFlag:Q,patchFlag:$,dirs:Y}=g;if(k!=null&&cc(k,null,_,g,!0),Q&256){y.ctx.deactivate(g);return}const ne=Q&1&&Y,he=!po(g);let _e;if(he&&(_e=B&&B.onVnodeBeforeUnmount)&&un(_e,y,g),Q&6)H(g.component,_,N);else{if(Q&128){g.suspense.unmount(_,N);return}ne&&hr(g,null,y,"beforeUnmount"),Q&64?g.type.remove(g,y,_,A,Ae,N):D&&(L!==Ht||$>0&&$&64)?F(D,y,_,!1,!0):(L===Ht&&$&384||!A&&Q&16)&&F(M,y,_),N&&Zi(g)}(he&&(_e=B&&B.onVnodeUnmounted)||ne)&&Et(()=>{_e&&un(_e,y,g),ne&&hr(g,null,y,"unmounted")},_)},Zi=g=>{const{type:y,el:_,anchor:N,transition:A}=g;if(y===Ht){S(_,N);return}if(y===Iu){U(g);return}const L=()=>{i(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:B,delayLeave:k}=A,M=()=>B(_,L);k?k(g.el,L,M):M()}else L()},S=(g,y)=>{let _;for(;g!==y;)_=h(g),i(g),g=_;i(y)},H=(g,y,_)=>{const{bum:N,scope:A,update:L,subTree:B,um:k}=g;N&&ks(N),A.stop(),L&&(L.active=!1,jt(B,g,y,_)),k&&Et(k,y),Et(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},F=(g,y,_,N=!1,A=!1,L=0)=>{for(let B=L;B<g.length;B++)jt(g[B],y,_,N,A)},K=g=>g.shapeFlag&6?K(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),be=(g,y,_)=>{g==null?y._vnode&&jt(y._vnode,null,null,!0):v(y._vnode||null,g,y,null,null,null,_),Vp(),y._vnode=g},Ae={p:v,um:jt,m:sn,r:Zi,mt:bn,mc:oe,pc:Nt,pbc:Pe,n:K,o:e};let se,ie;return t&&([se,ie]=t(Ae)),{render:be,hydrate:se,createApp:C0(be,se)}}function dr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function sg(e,t,n=!1){const r=e.children,i=t.children;if(Z(r)&&Z(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Hn(i[o]),a.el=s.el),n||sg(s,a))}}function N0(e){const t=e.slice(),n=[0];let r,i,o,s,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const D0=e=>e.__isTeleport,Ht=Symbol(void 0),ul=Symbol(void 0),Wt=Symbol(void 0),Iu=Symbol(void 0),mo=[];let Xt=null;function Se(e=!1){mo.push(Xt=e?null:[])}function O0(){mo.pop(),Xt=mo[mo.length-1]||null}let Do=1;function eh(e){Do+=e}function ag(e){return e.dynamicChildren=Do>0?Xt||pi:null,O0(),Do>0&&Xt&&Xt.push(e),e}function pn(e,t,n,r,i,o){return ag(Ue(e,t,n,r,i,o,!0))}function Xe(e,t,n,r,i){return ag(pe(e,t,n,r,i,!0))}function Js(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const Ba="__vInternal",ug=({key:e})=>e!=null?e:null,Ms=({ref:e,ref_key:t,ref_for:n})=>e!=null?Qe(e)||lt(e)||re(e)?{i:ft,r:e,k:t,f:!!n}:e:null;function Ue(e,t=null,n=null,r=0,i=null,o=e===Ht?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ug(t),ref:t&&Ms(t),scopeId:jp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(ll(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=Qe(n)?8:16),Do>0&&!s&&Xt&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Xt.push(u),u}const pe=R0;function R0(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===d0)&&(e=Wt),Js(e)){const a=ir(e,t,!0);return n&&ll(a,n),Do>0&&!o&&Xt&&(a.shapeFlag&6?Xt[Xt.indexOf(e)]=a:Xt.push(a)),a.patchFlag|=-2,a}if($0(e)&&(e=e.__vccOpts),t){t=P0(t);let{class:a,style:u}=t;a&&!Qe(a)&&(t.class=zt(a)),Ve(u)&&(Ap(u)&&!Z(u)&&(u=nt({},u)),t.style=Gc(u))}const s=Qe(e)?1:Qw(e)?128:D0(e)?64:Ve(e)?4:re(e)?2:0;return Ue(e,t,n,r,i,s,o,!0)}function P0(e){return e?Ap(e)||Ba in e?nt({},e):e:null}function ir(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=t?cg(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ug(a),ref:t&&t.ref?n&&i?Z(i)?i.concat(Ms(t)):[i,Ms(t)]:Ms(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ir(e.ssContent),ssFallback:e.ssFallback&&ir(e.ssFallback),el:e.el,anchor:e.anchor}}function cl(e=" ",t=0){return pe(ul,null,e,t)}function Rt(e="",t=!1){return t?(Se(),Xe(Wt,null,e)):pe(Wt,null,e)}function dn(e){return e==null||typeof e=="boolean"?pe(Wt):Z(e)?pe(Ht,null,e.slice()):typeof e=="object"?Hn(e):pe(ul,null,String(e))}function Hn(e){return e.el===null||e.memo?e:ir(e)}function ll(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Z(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),ll(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Ba in t)?t._ctx=ft:i===3&&ft&&(ft.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:ft},n=32):(t=String(t),r&64?(n=16,t=[cl(t)]):n=8);e.children=t,e.shapeFlag|=n}function cg(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=zt([t.class,r.class]));else if(i==="style")t.style=Gc([t.style,r.style]);else if(Da(i)){const o=t[i],s=r[i];s&&o!==s&&!(Z(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function un(e,t,n,r=null){Kt(e,t,7,[n,r])}const k0=og();let L0=0;function M0(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||k0,o={uid:L0++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new sw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tg(r,i),emitsOptions:Bp(r,i),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:r.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Hw.bind(null,o),e.ce&&e.ce(o),o}let Ge=null;const F0=()=>Ge||ft,_i=e=>{Ge=e,e.scope.on()},Dr=()=>{Ge&&Ge.scope.off(),Ge=null};function lg(e){return e.vnode.shapeFlag&4}let Oo=!1;function V0(e,t=!1){Oo=t;const{props:n,children:r}=e.vnode,i=lg(e);b0(e,n,i,t),T0(e,r);const o=i?U0(e,t):void 0;return Oo=!1,o}function U0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=xp(new Proxy(e.ctx,p0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?j0(e):null;_i(e),qi();const o=Zn(r,e,0,[e.props,i]);if($i(),Dr(),dp(o)){if(o.then(Dr,Dr),t)return o.then(s=>{th(e,s,t)}).catch(s=>{ka(s,e,0)});e.asyncDep=o}else th(e,o,t)}else fg(e,t)}function th(e,t,n){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ve(t)&&(e.setupState=Rp(t)),fg(e,n)}let nh;function fg(e,t,n){const r=e.type;if(!e.render){if(!t&&nh&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=nt(nt({isCustomElement:o,delimiters:a},s),u);r.render=nh(i,c)}}e.render=r.render||Jt}_i(e),qi(),g0(e),$i(),Dr()}function B0(e){return new Proxy(e.attrs,{get(t,n){return Ut(e,"get","$attrs"),t[n]}})}function j0(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=B0(e))},slots:e.slots,emit:e.emit,expose:t}}function ja(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Rp(xp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ys)return Ys[n](e)}}))}function q0(e,t=!0){return re(e)?e.displayName||e.name:e.name||t&&e.__name}function $0(e){return re(e)&&"__vccOpts"in e}const ct=(e,t)=>Vw(e,t,Oo);function fl(e,t,n){const r=arguments.length;return r===2?Ve(t)&&!Z(t)?Js(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Js(n)&&(n=[n]),pe(e,t,n))}const H0="3.2.37",z0="http://www.w3.org/2000/svg",br=typeof document<"u"?document:null,rh=br&&br.createElement("template"),K0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?br.createElementNS(z0,e):br.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>br.createTextNode(e),createComment:e=>br.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>br.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{rh.innerHTML=r?`<svg>${e}</svg>`:e;const a=rh.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function W0(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function G0(e,t,n){const r=e.style,i=Qe(n);if(n&&!i){for(const o in n)lc(r,o,n[o]);if(t&&!Qe(t))for(const o in t)n[o]==null&&lc(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const ih=/\s*!important$/;function lc(e,t,n){if(Z(n))n.forEach(r=>lc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Q0(e,t);ih.test(n)?e.setProperty(qr(r),n.replace(ih,""),"important"):e[r]=n}}const oh=["Webkit","Moz","ms"],Su={};function Q0(e,t){const n=Su[t];if(n)return n;let r=yn(t);if(r!=="filter"&&r in e)return Su[t]=r;r=Ra(r);for(let i=0;i<oh.length;i++){const o=oh[i]+r;if(o in e)return Su[t]=o}return t}const sh="http://www.w3.org/1999/xlink";function Y0(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(sh,t.slice(6,t.length)):e.setAttributeNS(sh,t,n);else{const o=Gv(t);n==null||o&&!lp(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function X0(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=lp(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[hg,J0]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let fc=0;const Z0=Promise.resolve(),eb=()=>{fc=0},tb=()=>fc||(Z0.then(eb),fc=hg());function _r(e,t,n,r){e.addEventListener(t,n,r)}function nb(e,t,n,r){e.removeEventListener(t,n,r)}function rb(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[a,u]=ib(t);if(r){const c=o[t]=ob(r,i);_r(e,a,c,u)}else s&&(nb(e,a,s,u),o[t]=void 0)}}const ah=/(?:Once|Passive|Capture)$/;function ib(e){let t;if(ah.test(e)){t={};let n;for(;n=e.match(ah);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[qr(e.slice(2)),t]}function ob(e,t){const n=r=>{const i=r.timeStamp||hg();(J0||i>=n.attached-1)&&Kt(sb(r,n.value),t,5,[r])};return n.value=e,n.attached=tb(),n}function sb(e,t){if(Z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const uh=/^on[a-z]/,ab=(e,t,n,r,i=!1,o,s,a,u)=>{t==="class"?W0(e,r,i):t==="style"?G0(e,n,r):Da(t)?Qc(t)||rb(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ub(e,t,r,i))?X0(e,t,r,o,s,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Y0(e,t,r,i))};function ub(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&uh.test(t)&&re(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||uh.test(t)&&Qe(n)?!1:t in e}const Mn="transition",to="animation",qa=(e,{slots:t})=>fl($p,cb(e),t);qa.displayName="Transition";const dg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qa.props=nt({},$p.props,dg);const pr=(e,t=[])=>{Z(e)?e.forEach(n=>n(...t)):e&&e(...t)},ch=e=>e?Z(e)?e.some(t=>t.length>1):e.length>1:!1;function cb(e){const t={};for(const q in e)q in dg||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=lb(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:T,onLeave:R,onLeaveCancelled:U,onBeforeAppear:G=w,onAppear:ue=E,onAppearCancelled:te=T}=t,oe=(q,Ne,it)=>{gr(q,Ne?l:a),gr(q,Ne?c:s),it&&it()},ve=(q,Ne)=>{q._isLeaving=!1,gr(q,f),gr(q,d),gr(q,h),Ne&&Ne()},Pe=q=>(Ne,it)=>{const bn=q?ue:E,Le=()=>oe(Ne,q,it);pr(bn,[Ne,Le]),lh(()=>{gr(Ne,q?u:o),Fn(Ne,q?l:a),ch(bn)||fh(Ne,r,m,Le)})};return nt(t,{onBeforeEnter(q){pr(w,[q]),Fn(q,o),Fn(q,s)},onBeforeAppear(q){pr(G,[q]),Fn(q,u),Fn(q,c)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(q,Ne){q._isLeaving=!0;const it=()=>ve(q,Ne);Fn(q,f),db(),Fn(q,h),lh(()=>{!q._isLeaving||(gr(q,f),Fn(q,d),ch(R)||fh(q,r,v,it))}),pr(R,[q,it])},onEnterCancelled(q){oe(q,!1),pr(T,[q])},onAppearCancelled(q){oe(q,!0),pr(te,[q])},onLeaveCancelled(q){ve(q),pr(U,[q])}})}function lb(e){if(e==null)return null;if(Ve(e))return[Cu(e.enter),Cu(e.leave)];{const t=Cu(e);return[t,t]}}function Cu(e){return Ws(e)}function Fn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function gr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function lh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let fb=0;function fh(e,t,n,r){const i=e._endId=++fb,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=hb(e,t);if(!s)return r();const c=s+"end";let l=0;const f=()=>{e.removeEventListener(c,h),o()},h=d=>{d.target===e&&++l>=u&&f()};setTimeout(()=>{l<u&&f()},a+1),e.addEventListener(c,h)}function hb(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(Mn+"Delay"),o=r(Mn+"Duration"),s=hh(i,o),a=r(to+"Delay"),u=r(to+"Duration"),c=hh(a,u);let l=null,f=0,h=0;t===Mn?s>0&&(l=Mn,f=s,h=o.length):t===to?c>0&&(l=to,f=c,h=u.length):(f=Math.max(s,c),l=f>0?s>c?Mn:to:null,h=l?l===Mn?o.length:u.length:0);const d=l===Mn&&/\b(transform|all)(,|$)/.test(n[Mn+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function hh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>dh(n)+dh(e[r])))}function dh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function db(){return document.body.offsetHeight}const Zs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?n=>ks(t,n):t};function pb(e){e.target.composing=!0}function ph(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const dA={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Zs(i);const o=r||i.props&&i.props.type==="number";_r(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Ws(a)),e._assign(a)}),n&&_r(e,"change",()=>{e.value=e.value.trim()}),t||(_r(e,"compositionstart",pb),_r(e,"compositionend",ph),_r(e,"change",ph))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=Zs(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Ws(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},pA={created(e,{value:t},n){e.checked=zs(t,n.props.value),e._assign=Zs(n),_r(e,"change",()=>{e._assign(gb(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Zs(r),t!==n&&(e.checked=zs(t,r.props.value))}};function gb(e){return"_value"in e?e._value:e.value}const mb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yb=(e,t)=>n=>{if(!("key"in n))return;const r=qr(n.key);if(t.some(i=>i===r||mb[i]===r))return e(n)},vb={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):no(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),no(e,!0),r.enter(e)):r.leave(e,()=>{no(e,!1)}):no(e,t))},beforeUnmount(e,{value:t}){no(e,t)}};function no(e,t){e.style.display=t?e._vod:"none"}const wb=nt({patchProp:ab},K0);let gh;function pg(){return gh||(gh=A0(wb))}const gg=(...e)=>{pg().render(...e)},bb=(...e)=>{const t=pg().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=_b(r);if(!i)return;const o=t._component;!re(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function _b(e){return Qe(e)?document.querySelector(e):e}function Eb(){return mg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function mg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Tb=typeof Proxy=="function",Ib="devtools-plugin:setup",Sb="plugin:settings:set";let ti,hc;function Cb(){var e;return ti!==void 0||(typeof window<"u"&&window.performance?(ti=!0,hc=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(ti=!0,hc=global.perf_hooks.performance):ti=!1),ti}function Ab(){return Cb()?hc.now():Date.now()}class xb{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const a=t.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Ab()}},n&&n.on(Sb,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...u)=>{this.onQueue.push({method:a,args:u})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...u)=>(this.targetQueue.push({method:a,args:u,resolve:()=>{}}),this.fallbacks[a](...u)):(...u)=>new Promise(c=>{this.targetQueue.push({method:a,args:u,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Nb(e,t){const n=e,r=mg(),i=Eb(),o=Tb&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Ib,e,t);else{const s=o?new xb(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ui=typeof window<"u";function Db(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Te=Object.assign;function Au(e,t){const n={};for(const r in t){const i=t[r];n[r]=nn(i)?i.map(e):e(i)}return n}const yo=()=>{},nn=Array.isArray,Ob=/\/$/,Rb=e=>e.replace(Ob,"");function xu(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),o=t.slice(u+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=Mb(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Pb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function mh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function kb(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ei(t.matched[r],n.matched[i])&&yg(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ei(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function yg(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Lb(e[n],t[n]))return!1;return!0}function Lb(e,t){return nn(e)?yh(e,t):nn(t)?yh(t,e):e===t}function yh(e,t){return nn(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Mb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ro;(function(e){e.pop="pop",e.push="push"})(Ro||(Ro={}));var vo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vo||(vo={}));function Fb(e){if(!e)if(ui){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rb(e)}const Vb=/^[^#]+#/;function Ub(e,t){return e.replace(Vb,"#")+t}function Bb(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const $a=()=>({left:window.pageXOffset,top:window.pageYOffset});function jb(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Bb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vh(e,t){return(history.state?history.state.position-t:-1)+e}const dc=new Map;function qb(e,t){dc.set(e,t)}function $b(e){const t=dc.get(e);return dc.delete(e),t}let Hb=()=>location.protocol+"//"+location.host;function vg(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,u=i.slice(a);return u[0]!=="/"&&(u="/"+u),mh(u,"")}return mh(n,e)+r+i}function zb(e,t,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const d=vg(e,location),p=n.value,m=t.value;let v=0;if(h){if(n.value=d,t.value=h,s&&s===p){s=null;return}v=m?h.position-m.position:0}else r(d);i.forEach(w=>{w(n.value,p,{delta:v,type:Ro.pop,direction:v?v>0?vo.forward:vo.back:vo.unknown})})};function u(){s=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(d),d}function l(){const{history:h}=window;!h.state||h.replaceState(Te({},h.state,{scroll:$a()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:u,listen:c,destroy:f}}function wh(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?$a():null}}function Kb(e){const{history:t,location:n}=window,r={value:vg(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,c,l){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:Hb()+e+u;try{t[l?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[l?"replace":"assign"](h)}}function s(u,c){const l=Te({},t.state,wh(i.value.back,u,i.value.forward,!0),c,{position:i.value.position});o(u,l,!0),r.value=u}function a(u,c){const l=Te({},i.value,t.state,{forward:u,scroll:$a()});o(l.current,l,!0);const f=Te({},wh(r.value,u,null),{position:l.position+1},c);o(u,f,!1),r.value=u}return{location:r,state:i,push:a,replace:s}}function Wb(e){e=Fb(e);const t=Kb(e),n=zb(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Te({location:"",base:e,go:r,createHref:Ub.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Gb(e){return typeof e=="string"||e&&typeof e=="object"}function wg(e){return typeof e=="string"||typeof e=="symbol"}const Vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bg=Symbol("");var bh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bh||(bh={}));function Ti(e,t){return Te(new Error,{type:e,[bg]:!0},t)}function En(e,t){return e instanceof Error&&bg in e&&(t==null||!!(e.type&t))}const _h="[^/]+?",Qb={sensitive:!1,strict:!1,start:!0,end:!0},Yb=/[.+*?^${}()[\]/\\]/g;function Xb(e,t){const n=Te({},Qb,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const l=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(Yb,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:m,optional:v,regexp:w}=h;o.push({name:p,repeatable:m,optional:v});const E=w||_h;if(E!==_h){d+=10;try{new RegExp(`(${E})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+R.message)}}let T=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(T=v&&c.length<2?`(?:/${T})`:"/"+T),v&&(T+="?"),i+=T,d+=20,v&&(d+=-8),m&&(d+=-20),E===".*"&&(d+=-50)}l.push(d)}r.push(l)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(c){const l=c.match(s),f={};if(!l)return null;for(let h=1;h<l.length;h++){const d=l[h]||"",p=o[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function u(c){let l="",f=!1;for(const h of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const d of h)if(d.type===0)l+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:v}=d,w=p in c?c[p]:"";if(nn(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=nn(w)?w.join("/"):w;if(!E)if(v)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);l+=E}}return l||"/"}return{re:s,score:r,keys:o,parse:a,stringify:u}}function Jb(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Zb(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=Jb(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Eh(r))return 1;if(Eh(i))return-1}return i.length-r.length}function Eh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const e_={type:0,value:""},t_=/[a-zA-Z0-9_]/;function n_(e){if(!e)return[[]];if(e==="/")return[[e_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,u,c="",l="";function f(){!c||(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),s()):u===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:u==="("?n=2:t_.test(u)?h():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function r_(e,t,n){const r=Xb(n_(e.path),n),i=Te(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function i_(e,t){const n=[],r=new Map;t=Ih({strict:!1,end:!0,sensitive:!1},t);function i(l){return r.get(l)}function o(l,f,h){const d=!h,p=s_(l);p.aliasOf=h&&h.record;const m=Ih(t,l),v=[p];if("alias"in l){const T=typeof l.alias=="string"?[l.alias]:l.alias;for(const R of T)v.push(Te({},p,{components:h?h.record.components:p.components,path:R,aliasOf:h?h.record:p}))}let w,E;for(const T of v){const{path:R}=T;if(f&&R[0]!=="/"){const U=f.record.path,G=U[U.length-1]==="/"?"":"/";T.path=f.record.path+(R&&G+R)}if(w=r_(T,f,m),h?h.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),d&&l.name&&!Th(w)&&s(l.name)),p.children){const U=p.children;for(let G=0;G<U.length;G++)o(U[G],w,h&&h.children[G])}h=h||w,u(w)}return E?()=>{s(E)}:yo}function s(l){if(wg(l)){const f=r.get(l);f&&(r.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&r.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return n}function u(l){let f=0;for(;f<n.length&&Zb(l,n[f])>=0&&(l.record.path!==n[f].record.path||!_g(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!Th(l)&&r.set(l.record.name,l)}function c(l,f){let h,d={},p,m;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw Ti(1,{location:l});m=h.record.name,d=Te(o_(f.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),l.params),p=h.stringify(d)}else if("path"in l)p=l.path,h=n.find(E=>E.re.test(p)),h&&(d=h.parse(p),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(E=>E.re.test(f.path)),!h)throw Ti(1,{location:l,currentLocation:f});m=h.record.name,d=Te({},f.params,l.params),p=h.stringify(d)}const v=[];let w=h;for(;w;)v.unshift(w.record),w=w.parent;return{name:m,path:p,params:d,matched:v,meta:u_(v)}}return e.forEach(l=>o(l)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function o_(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function s_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:a_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function a_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function Th(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function u_(e){return e.reduce((t,n)=>Te(t,n.meta),{})}function Ih(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function _g(e,t){return t.children.some(n=>n===e||_g(e,n))}const Eg=/#/g,c_=/&/g,l_=/\//g,f_=/=/g,h_=/\?/g,Tg=/\+/g,d_=/%5B/g,p_=/%5D/g,Ig=/%5E/g,g_=/%60/g,Sg=/%7B/g,m_=/%7C/g,Cg=/%7D/g,y_=/%20/g;function hl(e){return encodeURI(""+e).replace(m_,"|").replace(d_,"[").replace(p_,"]")}function v_(e){return hl(e).replace(Sg,"{").replace(Cg,"}").replace(Ig,"^")}function pc(e){return hl(e).replace(Tg,"%2B").replace(y_,"+").replace(Eg,"%23").replace(c_,"%26").replace(g_,"`").replace(Sg,"{").replace(Cg,"}").replace(Ig,"^")}function w_(e){return pc(e).replace(f_,"%3D")}function b_(e){return hl(e).replace(Eg,"%23").replace(h_,"%3F")}function __(e){return e==null?"":b_(e).replace(l_,"%2F")}function ea(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function E_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Tg," "),s=o.indexOf("="),a=ea(s<0?o:o.slice(0,s)),u=s<0?null:ea(o.slice(s+1));if(a in t){let c=t[a];nn(c)||(c=t[a]=[c]),c.push(u)}else t[a]=u}return t}function Sh(e){let t="";for(let n in e){const r=e[n];if(n=w_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(nn(r)?r.map(o=>o&&pc(o)):[r&&pc(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function T_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=nn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const I_=Symbol(""),Ch=Symbol(""),dl=Symbol(""),Ag=Symbol(""),gc=Symbol("");function ro(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function zn(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const u=f=>{f===!1?a(Ti(4,{from:n,to:t})):f instanceof Error?a(f):Gb(f)?a(Ti(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=e.call(r&&r.instances[i],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch(f=>a(f))})}function Nu(e,t,n,r){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(S_(a)){const c=(a.__vccOpts||a)[t];c&&i.push(zn(c,n,r,o,s))}else{let u=a();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=Db(c)?c.default:c;o.components[s]=l;const h=(l.__vccOpts||l)[t];return h&&zn(h,n,r,o,s)()}))}}return i}function S_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ah(e){const t=er(dl),n=er(Ag),r=ct(()=>t.resolve(Jn(e.to))),i=ct(()=>{const{matched:u}=r.value,{length:c}=u,l=u[c-1],f=n.matched;if(!l||!f.length)return-1;const h=f.findIndex(Ei.bind(null,l));if(h>-1)return h;const d=xh(u[c-2]);return c>1&&xh(l)===d&&f[f.length-1].path!==d?f.findIndex(Ei.bind(null,u[c-2])):h}),o=ct(()=>i.value>-1&&x_(n.params,r.value.params)),s=ct(()=>i.value>-1&&i.value===n.matched.length-1&&yg(n.params,r.value.params));function a(u={}){return A_(u)?t[Jn(e.replace)?"replace":"push"](Jn(e.to)).catch(yo):Promise.resolve()}return{route:r,href:ct(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const C_=Fa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ah,setup(e,{slots:t}){const n=$r(Ah(e)),{options:r}=er(dl),i=ct(()=>({[Nh(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Nh(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:fl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),xg=C_;function A_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function x_(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!nn(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function xh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Nh=(e,t,n)=>e!=null?e:t!=null?t:n,N_=Fa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=er(gc),i=ct(()=>e.route||r.value),o=er(Ch,0),s=ct(()=>{let c=Jn(o);const{matched:l}=i.value;let f;for(;(f=l[c])&&!f.components;)c++;return c}),a=ct(()=>i.value.matched[s.value]);Ls(Ch,ct(()=>s.value+1)),Ls(I_,a),Ls(gc,i);const u=$t();return yi(()=>[u.value,a.value,e.name],([c,l,f],[h,d,p])=>{l&&(l.instances[f]=c,d&&d!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),c&&l&&(!d||!Ei(l,d)||!h)&&(l.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,l=e.name,f=a.value,h=f&&f.components[l];if(!h)return Dh(n.default,{Component:h,route:c});const d=f.props[l],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,v=fl(h,Te({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[l]=null)},ref:u}));return Dh(n.default,{Component:v,route:c})||v}}});function Dh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ng=N_;function D_(e){const t=i_(e.routes,e),n=e.parseQuery||E_,r=e.stringifyQuery||Sh,i=e.history,o=ro(),s=ro(),a=ro(),u=kw(Vn);let c=Vn;ui&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Au.bind(null,S=>""+S),f=Au.bind(null,__),h=Au.bind(null,ea);function d(S,H){let F,K;return wg(S)?(F=t.getRecordMatcher(S),K=H):K=S,t.addRoute(K,F)}function p(S){const H=t.getRecordMatcher(S);H&&t.removeRoute(H)}function m(){return t.getRoutes().map(S=>S.record)}function v(S){return!!t.getRecordMatcher(S)}function w(S,H){if(H=Te({},H||u.value),typeof S=="string"){const ie=xu(n,S,H.path),g=t.resolve({path:ie.path},H),y=i.createHref(ie.fullPath);return Te(ie,g,{params:h(g.params),hash:ea(ie.hash),redirectedFrom:void 0,href:y})}let F;if("path"in S)F=Te({},S,{path:xu(n,S.path,H.path).path});else{const ie=Te({},S.params);for(const g in ie)ie[g]==null&&delete ie[g];F=Te({},S,{params:f(S.params)}),H.params=f(H.params)}const K=t.resolve(F,H),be=S.hash||"";K.params=l(h(K.params));const Ae=Pb(r,Te({},S,{hash:v_(be),path:K.path})),se=i.createHref(Ae);return Te({fullPath:Ae,hash:be,query:r===Sh?T_(S.query):S.query||{}},K,{redirectedFrom:void 0,href:se})}function E(S){return typeof S=="string"?xu(n,S,u.value.path):Te({},S)}function T(S,H){if(c!==S)return Ti(8,{from:H,to:S})}function R(S){return ue(S)}function U(S){return R(Te(E(S),{replace:!0}))}function G(S){const H=S.matched[S.matched.length-1];if(H&&H.redirect){const{redirect:F}=H;let K=typeof F=="function"?F(S):F;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=E(K):{path:K},K.params={}),Te({query:S.query,hash:S.hash,params:"path"in K?{}:S.params},K)}}function ue(S,H){const F=c=w(S),K=u.value,be=S.state,Ae=S.force,se=S.replace===!0,ie=G(F);if(ie)return ue(Te(E(ie),{state:be,force:Ae,replace:se}),H||F);const g=F;g.redirectedFrom=H;let y;return!Ae&&kb(r,K,F)&&(y=Ti(16,{to:g,from:K}),Zr(K,K,!0,!1)),(y?Promise.resolve(y):oe(g,K)).catch(_=>En(_)?En(_,2)?_:Nt(_):Ce(_,g,K)).then(_=>{if(_){if(En(_,2))return ue(Te({replace:se},E(_.to),{state:be,force:Ae}),H||g)}else _=Pe(g,K,!0,se,be);return ve(g,K,_),_})}function te(S,H){const F=T(S,H);return F?Promise.reject(F):Promise.resolve()}function oe(S,H){let F;const[K,be,Ae]=O_(S,H);F=Nu(K.reverse(),"beforeRouteLeave",S,H);for(const ie of K)ie.leaveGuards.forEach(g=>{F.push(zn(g,S,H))});const se=te.bind(null,S,H);return F.push(se),ni(F).then(()=>{F=[];for(const ie of o.list())F.push(zn(ie,S,H));return F.push(se),ni(F)}).then(()=>{F=Nu(be,"beforeRouteUpdate",S,H);for(const ie of be)ie.updateGuards.forEach(g=>{F.push(zn(g,S,H))});return F.push(se),ni(F)}).then(()=>{F=[];for(const ie of S.matched)if(ie.beforeEnter&&!H.matched.includes(ie))if(nn(ie.beforeEnter))for(const g of ie.beforeEnter)F.push(zn(g,S,H));else F.push(zn(ie.beforeEnter,S,H));return F.push(se),ni(F)}).then(()=>(S.matched.forEach(ie=>ie.enterCallbacks={}),F=Nu(Ae,"beforeRouteEnter",S,H),F.push(se),ni(F))).then(()=>{F=[];for(const ie of s.list())F.push(zn(ie,S,H));return F.push(se),ni(F)}).catch(ie=>En(ie,8)?ie:Promise.reject(ie))}function ve(S,H,F){for(const K of a.list())K(S,H,F)}function Pe(S,H,F,K,be){const Ae=T(S,H);if(Ae)return Ae;const se=H===Vn,ie=ui?history.state:{};F&&(K||se?i.replace(S.fullPath,Te({scroll:se&&ie&&ie.scroll},be)):i.push(S.fullPath,be)),u.value=S,Zr(S,H,F,se),Nt()}let q;function Ne(){q||(q=i.listen((S,H,F)=>{if(!Zi.listening)return;const K=w(S),be=G(K);if(be){ue(Te(be,{replace:!0}),K).catch(yo);return}c=K;const Ae=u.value;ui&&qb(vh(Ae.fullPath,F.delta),$a()),oe(K,Ae).catch(se=>En(se,12)?se:En(se,2)?(ue(se.to,K).then(ie=>{En(ie,20)&&!F.delta&&F.type===Ro.pop&&i.go(-1,!1)}).catch(yo),Promise.reject()):(F.delta&&i.go(-F.delta,!1),Ce(se,K,Ae))).then(se=>{se=se||Pe(K,Ae,!1),se&&(F.delta&&!En(se,8)?i.go(-F.delta,!1):F.type===Ro.pop&&En(se,20)&&i.go(-1,!1)),ve(K,Ae,se)}).catch(yo)}))}let it=ro(),bn=ro(),Le;function Ce(S,H,F){Nt(S);const K=bn.list();return K.length?K.forEach(be=>be(S,H,F)):console.error(S),Promise.reject(S)}function we(){return Le&&u.value!==Vn?Promise.resolve():new Promise((S,H)=>{it.add([S,H])})}function Nt(S){return Le||(Le=!S,Ne(),it.list().forEach(([H,F])=>S?F(S):H()),it.reset()),S}function Zr(S,H,F,K){const{scrollBehavior:be}=e;if(!ui||!be)return Promise.resolve();const Ae=!F&&$b(vh(S.fullPath,0))||(K||!F)&&history.state&&history.state.scroll||null;return kp().then(()=>be(S,H,Ae)).then(se=>se&&jb(se)).catch(se=>Ce(se,S,H))}const _n=S=>i.go(S);let sn;const jt=new Set,Zi={currentRoute:u,listening:!0,addRoute:d,removeRoute:p,hasRoute:v,getRoutes:m,resolve:w,options:e,push:R,replace:U,go:_n,back:()=>_n(-1),forward:()=>_n(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:bn.add,isReady:we,install(S){const H=this;S.component("RouterLink",xg),S.component("RouterView",Ng),S.config.globalProperties.$router=H,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Jn(u)}),ui&&!sn&&u.value===Vn&&(sn=!0,R(i.location).catch(be=>{}));const F={};for(const be in Vn)F[be]=ct(()=>u.value[be]);S.provide(dl,H),S.provide(Ag,$r(F)),S.provide(gc,u);const K=S.unmount;jt.add(S),S.unmount=function(){jt.delete(S),jt.size<1&&(c=Vn,q&&q(),q=null,u.value=Vn,sn=!1,Le=!1),K()}}};return Zi}function ni(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function O_(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(c=>Ei(c,a))?r.push(a):n.push(a));const u=e.matched[s];u&&(t.matched.find(c=>Ei(c,u))||i.push(u))}return[n,r,i]}const R_={class:"w-full bg-rhino-50"},P_={class:"bg-rhino-700 text-white py-2 px-4 flex justify-between items-center"},k_={class:""},L_=Ue("img",{class:"pop object-fill w-8 h-8 rounded-full",src:"https://play-lh.googleusercontent.com/Mj_MnS1Rfw57dG529XDloAAEFlKBgZNVYXQepGCkdiEz77seAkbR0uUAlK69WNAvylc",alt:""},null,-1),M_=cl(" Boba Quiz "),F_={class:"min-h-[65vh] mt-4"},V_={class:"bg-rhino-700 text-white w-full py-2 px-4 flex flex-col items-center justify-center text-sm"},Dg={__name:"BaseLayout",setup(e){return(t,n)=>(Se(),pn("div",R_,[Ue("header",P_,[Ue("div",k_,[pe(Jn(xg),{to:"/",class:"flex items-center gap-x-2 text-xl font-bold"},{default:Nr(()=>[L_,M_]),_:1})]),Cn(t.$slots,"header")]),Ue("main",F_,[Cn(t.$slots,"main")]),Ue("footer",V_,[Cn(t.$slots,"footer")])]))}},U_=Ue("a",{href:""},null,-1),B_=Ue("p",null,[cl("Copyright \xA9 "),Ue("a",{href:"https://vk.ru/mslimka",class:"underline"},"\u041C\u0430\u043A\u0441\u0438\u043C \u0428\u0442\u0438\u043B\u044C")],-1),j_={mounted(){document.querySelectorAll(".pop").forEach(t=>{t.style.animation="pop 0.6s ease-out"})},components:{BaseLayout:Dg}},q_=Object.assign(j_,{__name:"App",setup(e){return(t,n)=>(Se(),Xe(Dg,null,{header:Nr(()=>[U_]),main:Nr(()=>[pe(Jn(Ng))]),footer:Nr(()=>[B_]),_:1}))}}),$_="modulepreload",H_=function(e){return"/boba-quiz/"+e},Oh={},Ts=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=H_(i),i in Oh)return;Oh[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":$_,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};var mc=function(e,t){return mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mc(e,t)};function X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Po=function(){return Po=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Po.apply(this,arguments)};function C(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function I(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Du(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Is(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Fe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},z_=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,d=c&63;u||(d=64,s||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Og(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):z_(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw Error();var h=o<<2|a>>4;if(r.push(h),c!==64){var d=a<<4&240|c>>2;if(r.push(d),f!==64){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},W_=function(e){var t=Og(e);return K_.encodeByteArray(t,!0)},Rh=function(e){return W_(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){return ko(void 0,e)}function ko(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Q_(r)||(e[r]=ko(e[r],t[r]));return e}function Q_(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Po({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Rh(JSON.stringify(n)),Rh(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function Rg(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z_(){return typeof self=="object"&&self.self===self}function eE(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nE(){return Lr().indexOf("Electron/")>=0}function rE(){var e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function iE(){return Lr().indexOf("MSAppHost/")>=0}function oE(){return!Rg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sE="FirebaseError",aE=function(e){X(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=sE,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,pl.prototype.create),o}return t}(Error),pl=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?uE(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",c=new aE(o,u,i);return c},e}();function uE(e,t){return e.replace(cE,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var cE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lE(e,t){var n=new fE(e,t);return n.subscribe.bind(n)}var fE=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hE(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Ou),o.error===void 0&&(o.error=Ou),o.complete===void 0&&(o.complete=Ou);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function hE(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Ou(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}var Ha=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dE=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(gE(t))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}try{for(var i=Du(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Is(o.value,2),a=s[0],u=s[1],c=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=vr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Fe(Fe([],Is(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Is(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=vr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=vr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Du(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Is(c.value,2),f=l[0],h=l[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(a)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var s=Du(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:pE(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=vr),this.component?this.component.multipleInstances?t:vr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function pE(e){return e===vr?void 0:e}function gE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mE=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new dE(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Qt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,gl=[],de;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(de||(de={}));var Pg={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},yE=de.INFO,vE=(mr={},mr[de.DEBUG]="log",mr[de.VERBOSE]="log",mr[de.INFO]="info",mr[de.WARN]="warn",mr[de.ERROR]="error",mr),wE=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=vE[t];if(o)console[o].apply(console,Qt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},kg=function(){function e(t){this.name=t,this._logLevel=yE,this._logHandler=wE,this._userLogHandler=null,gl.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in de))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Pg[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qt([this,de.DEBUG],t)),this._logHandler.apply(this,Qt([this,de.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qt([this,de.VERBOSE],t)),this._logHandler.apply(this,Qt([this,de.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qt([this,de.INFO],t)),this._logHandler.apply(this,Qt([this,de.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qt([this,de.WARN],t)),this._logHandler.apply(this,Qt([this,de.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qt([this,de.ERROR],t)),this._logHandler.apply(this,Qt([this,de.ERROR],t))},e}();function bE(e){gl.forEach(function(t){t.setLogLevel(e)})}function _E(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=Pg[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(u,c){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var h=l.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");c>=(a!=null?a:u.logLevel)&&e({level:de[c].toLowerCase(),message:h,args:l,type:u.name})}},r=0,i=gl;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,EE=(Un={},Un["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Un["bad-app-name"]="Illegal App name: '{$appName}",Un["duplicate-app"]="Firebase App named '{$appName}' already exists",Un["app-deleted"]="Firebase App named '{$appName}' already deleted",Un["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Un["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Un),ci=new pl("app","Firebase",EE),Lg="@firebase/app",TE="0.6.30",IE="@firebase/analytics",SE="@firebase/app-check",CE="@firebase/auth",AE="@firebase/database",xE="@firebase/functions",NE="@firebase/installations",DE="@firebase/messaging",OE="@firebase/performance",RE="@firebase/remote-config",PE="@firebase/storage",kE="@firebase/firestore",LE="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,ta="[DEFAULT]",ME=(ot={},ot[Lg]="fire-core",ot[IE]="fire-analytics",ot[SE]="fire-app-check",ot[CE]="fire-auth",ot[AE]="fire-rtdb",ot[xE]="fire-fn",ot[NE]="fire-iid",ot[DE]="fire-fcm",ot[OE]="fire-perf",ot[RE]="fire-rc",ot[PE]="fire-gcs",ot[kE]="fire-fst",ot["fire-js"]="fire-js",ot[LE]="fire-js-all",ot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii=new kg("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=G_(t),this.container=new mE(n.name),this._addComponent(new Ha("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=ta),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ta),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ii.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ci.create("app-deleted",{appName:this.name_})},e}();Fs.prototype.name&&Fs.prototype.options||Fs.prototype.delete||console.log("dc");var FE="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:c,setLogLevel:bE,onLog:l,apps:null,SDK_VERSION:FE,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(h){delete t[h]}function o(h){if(h=h||ta,!Ph(t,h))throw ci.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var p=d;d={name:p}}var m=d;m.name===void 0&&(m.name=ta);var v=m.name;if(typeof v!="string"||!v)throw ci.create("bad-app-name",{appName:String(v)});if(Ph(t,v))throw ci.create("duplicate-app",{appName:v});var w=new e(h,m,r);return t[v]=w,w}function a(){return Object.keys(t).map(function(h){return t[h]})}function u(h){var d=h.name;if(n.has(d))return Ii.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var p=function(E){if(E===void 0&&(E=o()),typeof E[d]!="function")throw ci.create("invalid-app-argument",{appName:d});return E[d]()};h.serviceProps!==void 0&&ko(p,h.serviceProps),r[d]=p,e.prototype[d]=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];var R=this._getService.bind(this,d);return R.apply(this,h.multipleInstances?E:[])}}for(var m=0,v=Object.keys(t);m<v.length;m++){var w=v[m];t[w]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function c(h,d,p){var m,v=(m=ME[h])!==null&&m!==void 0?m:h;p&&(v+="-"+p);var w=v.match(/\s|\//),E=d.match(/\s|\//);if(w||E){var T=['Unable to register library "'+v+'" with version "'+d+'":'];w&&T.push('library name "'+v+'" contains illegal characters (whitespace or "/")'),w&&E&&T.push("and"),E&&T.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),Ii.warn(T.join(" "));return}u(new Ha(v+"-version",function(){return{library:v,version:d}},"VERSION"))}function l(h,d){if(h!==null&&typeof h!="function")throw ci.create("invalid-log-argument");_E(h,d)}function f(h,d){if(d==="serverAuth")return null;var p=d;return p}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var e=VE(Fs);e.INTERNAL=Po(Po({},e.INTERNAL),{createFirebaseNamespace:Mg,extendNamespace:t,createSubscribe:lE,ErrorFactory:pl,deepExtend:ko});function t(n){ko(e,n)}return e}var ml=Mg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UE=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(BE(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function BE(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t){e.INTERNAL.registerComponent(new Ha("platform-logger",function(n){return new UE(n)},"PRIVATE")),e.registerVersion(Lg,TE,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Z_()&&self.firebase!==void 0){Ii.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var kh=self.firebase.SDK_VERSION;kh&&kh.indexOf("LITE")>=0&&Ii.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var qE=ml.initializeApp;ml.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rg()&&Ii.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),qE.apply(void 0,e)};var Jo=ml;jE(Jo);var $E="firebase",Fg="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo.registerVersion($E,Fg,"app");Jo.SDK_VERSION=Fg;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yc=function(e,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yc(e,t)};function HE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Vg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,yl=yl||{},ee=zE||self;function na(){}function vc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Zo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function KE(e){return Object.prototype.hasOwnProperty.call(e,Ru)&&e[Ru]||(e[Ru]=++WE)}var Ru="closure_uid_"+(1e9*Math.random()>>>0),WE=0;function GE(e,t,n){return e.call.apply(e.bind,arguments)}function QE(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function et(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?et=GE:et=QE,et.apply(null,arguments)}function Ss(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function ar(){this.s=this.s,this.o=this.o}var YE=0;ar.prototype.s=!1;ar.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YE!=0)&&KE(this)};ar.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ug=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Bg=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function XE(e){e:{for(var t=q1,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Lh(e){return Array.prototype.concat.apply([],arguments)}function vl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ra(e){return/^[\s\xa0]*$/.test(e)}var Mh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function vt(e,t){return e.indexOf(t)!=-1}function Pu(e,t){return e<t?-1:e>t?1:0}var wt;e:{var Fh=ee.navigator;if(Fh){var Vh=Fh.userAgent;if(Vh){wt=Vh;break e}}wt=""}function wl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jg(e){var t={};for(var n in e)t[n]=e[n];return t}var Uh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qg(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Uh.length;o++)n=Uh[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bl(e){return bl[" "](e),e}bl[" "]=na;function JE(e){var t=t1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ZE=vt(wt,"Opera"),Si=vt(wt,"Trident")||vt(wt,"MSIE"),$g=vt(wt,"Edge"),wc=$g||Si,Hg=vt(wt,"Gecko")&&!(vt(wt.toLowerCase(),"webkit")&&!vt(wt,"Edge"))&&!(vt(wt,"Trident")||vt(wt,"MSIE"))&&!vt(wt,"Edge"),e1=vt(wt.toLowerCase(),"webkit")&&!vt(wt,"Edge");function zg(){var e=ee.document;return e?e.documentMode:void 0}var ia;e:{var ku="",Lu=function(){var e=wt;if(Hg)return/rv:([^\);]+)(\)|;)/.exec(e);if($g)return/Edge\/([\d\.]+)/.exec(e);if(Si)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(e1)return/WebKit\/(\S+)/.exec(e);if(ZE)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Lu&&(ku=Lu?Lu[1]:""),Si){var Mu=zg();if(Mu!=null&&Mu>parseFloat(ku)){ia=String(Mu);break e}}ia=ku}var t1={};function n1(){return JE(function(){for(var e=0,t=Mh(String(ia)).split("."),n=Mh("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=Pu(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Pu(o[2].length==0,s[2].length==0)||Pu(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var bc;if(ee.document&&Si){var Bh=zg();bc=Bh||parseInt(ia,10)||void 0}else bc=void 0;var r1=bc,i1=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ee.addEventListener("test",na,t),ee.removeEventListener("test",na,t)}catch{}return e}();function dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};function Lo(e,t){if(dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hg){e:{try{bl(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:o1[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Lo.Z.h.call(this)}}rt(Lo,dt);var o1={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var es="closure_listenable_"+(1e6*Math.random()|0),s1=0;function a1(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++s1,this.ca=this.fa=!1}function za(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ka(e){this.src=e,this.g={},this.h=0}Ka.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Ec(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new a1(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function _c(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Ug(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(za(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ec(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var _l="closure_lm_"+(1e6*Math.random()|0),Fu={};function Kg(e,t,n,r,i){if(r&&r.once)return Gg(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Kg(e,t[o],n,r,i);return null}return n=Il(n),e&&e[es]?e.N(t,n,Zo(r)?!!r.capture:!!r,i):Wg(e,t,n,!1,r,i)}function Wg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Zo(i)?!!i.capture:!!i,a=Tl(e);if(a||(e[_l]=a=new Ka(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=u1(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)i1||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yg(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function u1(){function e(n){return t.call(e.src,e.listener,n)}var t=c1;return e}function Gg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Gg(e,t[o],n,r,i);return null}return n=Il(n),e&&e[es]?e.O(t,n,Zo(r)?!!r.capture:!!r,i):Wg(e,t,n,!0,r,i)}function Qg(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Qg(e,t[o],n,r,i);else r=Zo(r)?!!r.capture:!!r,n=Il(n),e&&e[es]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Ec(o,n,r,i),-1<n&&(za(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Tl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ec(t,n,r,i)),(n=-1<e?t[e]:null)&&El(n))}function El(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[es])_c(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tl(t))?(_c(n,e),n.h==0&&(n.src=null,t[_l]=null)):za(e)}}}function Yg(e){return e in Fu?Fu[e]:Fu[e]="on"+e}function c1(e,t){if(e.ca)e=!0;else{t=new Lo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&El(e),e=n.call(r,t)}return e}function Tl(e){return e=e[_l],e instanceof Ka?e:null}var Vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Il(e){return typeof e=="function"?e:(e[Vu]||(e[Vu]=function(t){return e.handleEvent(t)}),e[Vu])}function Ye(){ar.call(this),this.i=new Ka(this),this.P=this,this.I=null}rt(Ye,ar);Ye.prototype[es]=!0;Ye.prototype.removeEventListener=function(e,t,n,r){Qg(this,e,t,n,r)};function tt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new dt(t,e);else if(t instanceof dt)t.target=t.target||e;else{var i=t;t=new dt(r,e),qg(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Cs(s,r,!0,t)&&i}if(s=t.g=e,i=Cs(s,r,!0,t)&&i,i=Cs(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Cs(s,r,!1,t)&&i}Ye.prototype.M=function(){if(Ye.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)za(n[r]);delete e.g[t],e.h--}}this.I=null};Ye.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ye.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Cs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&_c(e.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Sl=ee.JSON.stringify;function l1(){var e=Jg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var f1=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=Xg.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),Xg=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new h1},function(e){return e.reset()}),h1=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function d1(e){ee.setTimeout(function(){throw e},0)}function Cl(e,t){Tc||p1(),Ic||(Tc(),Ic=!0),Jg.add(e,t)}var Tc;function p1(){var e=ee.Promise.resolve(void 0);Tc=function(){e.then(g1)}}var Ic=!1,Jg=new f1;function g1(){for(var e;e=l1();){try{e.h.call(e.g)}catch(n){d1(n)}var t=Xg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ic=!1}function Wa(e,t){Ye.call(this),this.h=e||1,this.g=t||ee,this.j=et(this.kb,this),this.l=Date.now()}rt(Wa,Ye);j=Wa.prototype;j.da=!1;j.S=null;j.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tt(this,"tick"),this.da&&(Al(this),this.start()))}};j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Al(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}j.M=function(){Wa.Z.M.call(this),Al(this),delete this.g};function xl(e,t,n){if(typeof e=="function")n&&(e=et(e,n));else if(e&&typeof e.handleEvent=="function")e=et(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ee.setTimeout(e,t||0)}function Zg(e){e.g=xl(function(){e.g=null,e.i&&(e.i=!1,Zg(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var m1=function(e){HE(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:Zg(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ar);function Mo(e){ar.call(this),this.h=e,this.g={}}rt(Mo,ar);var jh=[];function em(e,t,n,r){Array.isArray(n)||(n&&(jh[0]=n.toString()),n=jh);for(var i=0;i<n.length;i++){var o=Kg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function tm(e){wl(e.g,function(t,n){this.g.hasOwnProperty(n)&&El(t)},e),e.g={}}Mo.prototype.M=function(){Mo.Z.M.call(this),tm(this)};Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ga(){this.g=!0}Ga.prototype.Aa=function(){this.g=!1};function y1(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&f[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function v1(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function hi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+b1(e,n)+(r?" "+r:"")})}function w1(e,t){e.info(function(){return"TIMEOUT: "+t})}Ga.prototype.info=function(){};function b1(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Sl(n)}catch{return t}}var Hr={},qh=null;function Qa(){return qh=qh||new Ye}Hr.Ma="serverreachability";function nm(e){dt.call(this,Hr.Ma,e)}rt(nm,dt);function Fo(e){var t=Qa();tt(t,new nm(t))}Hr.STAT_EVENT="statevent";function rm(e,t){dt.call(this,Hr.STAT_EVENT,e),this.stat=t}rt(rm,dt);function bt(e){var t=Qa();tt(t,new rm(t,e))}Hr.Na="timingevent";function im(e,t){dt.call(this,Hr.Na,e),this.size=t}rt(im,dt);function ts(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){e()},t)}var Ya={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},om={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nl(){}Nl.prototype.h=null;function $h(e){return e.h||(e.h=e.i())}function sm(){}var ns={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dl(){dt.call(this,"d")}rt(Dl,dt);function Ol(){dt.call(this,"c")}rt(Ol,dt);var Sc;function Xa(){}rt(Xa,Nl);Xa.prototype.g=function(){return new XMLHttpRequest};Xa.prototype.i=function(){return{}};Sc=new Xa;function rs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Mo(this),this.P=_1,e=wc?125:void 0,this.W=new Wa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new am}function am(){this.i=null,this.g="",this.h=!1}var _1=45e3,Cc={},oa={};j=rs.prototype;j.setTimeout=function(e){this.P=e};function Ac(e,t,n){e.K=1,e.v=Za(On(t)),e.s=n,e.U=!0,um(e,null)}function um(e,t){e.F=Date.now(),is(e),e.A=On(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new am,e.g=Lm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new m1(et(e.Ia,e,e.g),e.O)),em(e.V,e.g,"readystatechange",e.gb),t=e.H?jg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Fo(),y1(e.j,e.u,e.A,e.m,e.X,e.s)}j.gb=function(e){e=e.target;var t=this.L;t&&In(e)==3?t.l():this.Ia(e)};j.Ia=function(e){try{if(e==this.g)e:{var t=In(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||wc||this.g&&(this.h.h||this.g.ga()||Wh(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Fo(3):Fo(2)),Ja(this);var i=this.g.ba();this.N=i;t:if(cm(this)){var o=Wh(this.g);e="";var s=o.length,a=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),wo(this);var u="";break t}this.h.i=new ee.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,v1(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ra(c)){var f=c;break t}}f=null}if(i=f)hi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xc(this,i);else{this.i=!1,this.o=3,bt(12),Ir(this),wo(this);break e}}this.U?(lm(this,t,u),wc&&this.i&&t==3&&(em(this.V,this.W,"tick",this.fb),this.W.start())):(hi(this.j,this.m,u,null),xc(this,u)),t==4&&Ir(this),this.i&&!this.I&&(t==4?Om(this.l,this):(this.i=!1,is(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,bt(12)):(this.o=0,bt(13)),Ir(this),wo(this)}}}catch{}finally{}};function cm(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function lm(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=E1(e,n),i==oa){t==4&&(e.o=4,bt(14),r=!1),hi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Cc){e.o=4,bt(15),hi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else hi(e.j,e.m,i,null),xc(e,i);cm(e)&&i!=oa&&i!=Cc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,bt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bl(t),t.L=!0,bt(11))):(hi(e.j,e.m,n,"[Invalid Chunked Response]"),Ir(e),wo(e))}j.fb=function(){if(this.g){var e=In(this.g),t=this.g.ga();this.C<t.length&&(Ja(this),lm(this,e,t),this.i&&e!=4&&is(this))}};function E1(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?oa:(n=Number(t.substring(n,r)),isNaN(n)?Cc:(r+=1,r+n>t.length?oa:(t=t.substr(r,n),e.C=r+n,t)))}j.cancel=function(){this.I=!0,Ir(this)};function is(e){e.Y=Date.now()+e.P,fm(e,e.P)}function fm(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ts(et(e.eb,e),t)}function Ja(e){e.B&&(ee.clearTimeout(e.B),e.B=null)}j.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(w1(this.j,this.A),this.K!=2&&(Fo(),bt(17)),Ir(this),this.o=2,wo(this)):fm(this,this.Y-e)};function wo(e){e.l.G==0||e.I||Om(e.l,e)}function Ir(e){Ja(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Al(e.W),tm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xc(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Nc(n.i,e))){if(n.I=e.N,!e.J&&Nc(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ca(n),nu(n);else break e;Ul(n),bt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=ts(et(n.ab,n),6e3));if(1>=vm(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Sr(n,11)}else if((e.J||n.g==e)&&ca(n),!ra(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];a!=null&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(vt(l,"spdy")||vt(l,"quic")||vt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(kl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Re(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=km(r,r.H?r.la:null,r.W),d.J){wm(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Ja(p),is(p)),r.g=d}else Nm(r);0<n.l.length&&ru(n)}else o[0]!="stop"&&o[0]!="close"||Sr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Sr(n,7):Vl(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Fo(4)}catch{}}function T1(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(vc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Rl(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(vc(e)||typeof e=="string")Bg(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(vc(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=T1(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Hi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}j=Hi.prototype;j.R=function(){Pl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};j.T=function(){return Pl(this),this.g.concat()};function Pl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Mr(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}j.get=function(e,t){return Mr(this.h,e)?this.h[e]:t};j.set=function(e,t){Mr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};j.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var hm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function I1(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fr){this.g=t!==void 0?t:e.g,sa(this,e.j),this.s=e.s,aa(this,e.i),ua(this,e.m),this.l=e.l,t=e.h;var n=new Vo;n.i=t.i,t.g&&(n.g=new Hi(t.g),n.h=t.h),Hh(this,n),this.o=e.o}else e&&(n=String(e).match(hm))?(this.g=!!t,sa(this,n[1]||"",!0),this.s=bo(n[2]||""),aa(this,n[3]||"",!0),ua(this,n[4]),this.l=bo(n[5]||"",!0),Hh(this,n[6]||"",!0),this.o=bo(n[7]||"")):(this.g=!!t,this.h=new Vo(null,this.g))}Fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uo(t,zh,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(uo(t,zh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(uo(n,n.charAt(0)=="/"?N1:x1,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uo(n,O1)),e.join("")};function On(e){return new Fr(e)}function sa(e,t,n){e.j=n?bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function aa(e,t,n){e.i=n?bo(t,!0):t}function ua(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hh(e,t,n){t instanceof Vo?(e.h=t,R1(e.h,e.g)):(n||(t=uo(t,D1)),e.h=new Vo(t,e.g))}function Re(e,t,n){e.h.set(t,n)}function Za(e){return Re(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function S1(e){return e instanceof Fr?On(e):new Fr(e,void 0)}function C1(e,t,n,r){var i=new Fr(null,void 0);return e&&sa(i,e),t&&aa(i,t),n&&ua(i,n),r&&(i.l=r),i}function bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,A1),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function A1(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var zh=/[#\/\?@]/g,x1=/[#\?:]/g,N1=/[#\?]/g,D1=/[#\?@]/g,O1=/#/g;function Vo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ur(e){e.g||(e.g=new Hi,e.h=0,e.i&&I1(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}j=Vo.prototype;j.add=function(e,t){ur(this),this.i=null,e=zi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function dm(e,t){ur(e),t=zi(e,t),Mr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Mr(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pl(e)))}function pm(e,t){return ur(e),t=zi(e,t),Mr(e.g.h,t)}j.forEach=function(e,t){ur(this),this.g.forEach(function(n,r){Bg(n,function(i){e.call(t,i,r,this)},this)},this)};j.T=function(){ur(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};j.R=function(e){ur(this);var t=[];if(typeof e=="string")pm(this,e)&&(t=Lh(t,this.g.get(zi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Lh(t,e[n])}return t};j.set=function(e,t){return ur(this),this.i=null,e=zi(this,e),pm(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};j.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function gm(e,t,n){dm(e,t),0<n.length&&(e.i=null,e.g.set(zi(e,t),vl(n)),e.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function zi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function R1(e,t){t&&!e.j&&(ur(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dm(this,r),gm(this,i,n))},e)),e.j=t}var P1=function(){function e(t,n){this.h=t,this.g=n}return e}();function mm(e){this.l=e||k1,ee.PerformanceNavigationTiming?(e=ee.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var k1=10;function ym(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function vm(e){return e.h?1:e.g?e.g.size:0}function Nc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kl(e,t){e.g?e.g.add(t):e.h=t}function wm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mm.prototype.cancel=function(){var e,t;if(this.i=bm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Vg(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function bm(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=Vg(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return vl(e.i)}function Ll(){}Ll.prototype.stringify=function(e){return ee.JSON.stringify(e,void 0)};Ll.prototype.parse=function(e){return ee.JSON.parse(e,void 0)};function L1(){this.g=new Ll}function M1(e,t,n){var r=n||"";try{Rl(e,function(i,o){var s=i;Zo(i)&&(s=Sl(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function F1(e,t){var n=new Ga;if(ee.Image){var r=new Image;r.onload=Ss(As,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ss(As,n,r,"TestLoadImage: error",!1,t),r.onabort=Ss(As,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ss(As,n,r,"TestLoadImage: timeout",!1,t),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function As(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function os(e){this.l=e.$b||null,this.j=e.ib||!1}rt(os,Nl);os.prototype.g=function(){return new eu(this.l,this.j)};os.prototype.i=function(e){return function(){return e}}({});function eu(e,t){Ye.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ml,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(eu,Ye);var Ml=0;j=eu.prototype;j.open=function(e,t){if(this.readyState!=Ml)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uo(this)};j.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ee).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=Ml};j.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_m(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function _m(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}j.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ss(this):Uo(this),this.readyState==3&&_m(this)}};j.Ua=function(e){this.g&&(this.response=this.responseText=e,ss(this))};j.Ta=function(e){this.g&&(this.response=e,ss(this))};j.ha=function(){this.g&&ss(this)};function ss(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uo(e)}j.setRequestHeader=function(e,t){this.v.append(e,t)};j.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Uo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(eu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var V1=ee.JSON.parse;function He(e){Ye.call(this),this.headers=new Hi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Em,this.K=this.L=!1}rt(He,Ye);var Em="",U1=/^https?$/i,B1=["POST","PUT"];j=He.prototype;j.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sc.g(),this.C=this.u?$h(this.u):$h(Sc),this.g.onreadystatechange=et(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){Kh(this,o);return}e=n||"";var i=new Hi(this.headers);r&&Rl(r,function(o,s){i.set(s,o)}),r=XE(i.T()),n=ee.FormData&&e instanceof ee.FormData,!(0<=Ug(B1,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sm(this),0<this.B&&((this.K=j1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.pa,this)):this.A=xl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Kh(this,o)}};function j1(e){return Si&&n1()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function q1(e){return e.toLowerCase()=="content-type"}j.pa=function(){typeof yl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function Kh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tm(e),tu(e)}function Tm(e){e.D||(e.D=!0,tt(e,"complete"),tt(e,"error"))}j.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),tu(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tu(this,!0)),He.Z.M.call(this)};j.Fa=function(){this.s||(this.F||this.v||this.l?Im(this):this.cb())};j.cb=function(){Im(this)};function Im(e){if(e.h&&typeof yl<"u"&&(!e.C[1]||In(e)!=4||e.ba()!=2)){if(e.v&&In(e)==4)xl(e.Fa,0,e);else if(tt(e,"readystatechange"),In(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(hm)[1]||null;if(!o&&ee.self&&ee.self.location){var s=ee.self.location.protocol;o=s.substr(0,s.length-1)}i=!U1.test(o?o.toLowerCase():"")}r=i}if(r)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var a=2<In(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.ba()+"]",Tm(e)}}finally{tu(e)}}}}function tu(e,t){if(e.g){Sm(e);var n=e.g,r=e.C[0]?na:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Sm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ee.clearTimeout(e.A),e.A=null)}function In(e){return e.g?e.g.readyState:0}j.ba=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}};j.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),V1(t)}};function Wh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Em:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}j.Da=function(){return this.m};j.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function $1(e){var t="";return wl(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Fl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$1(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Re(e,t,n))}function io(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cm(e){this.za=0,this.l=[],this.h=new Ga,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=io("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=io("baseRetryDelayMs",5e3,e),this.$a=io("retryDelaySeedMs",1e4,e),this.Ya=io("forwardChannelMaxRetries",2,e),this.ra=io("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mm(e&&e.concurrentRequestLimit),this.Ca=new L1,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}j=Cm.prototype;j.ma=8;j.G=1;function Vl(e){if(Am(e),e.G==3){var t=e.V++,n=On(e.F);Re(n,"SID",e.J),Re(n,"RID",t),Re(n,"TYPE","terminate"),as(e,n),t=new rs(e,e.h,t,void 0),t.K=2,t.v=Za(On(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(t.v.toString(),"")),!n&&ee.Image&&(new Image().src=t.v,n=!0),n||(t.g=Lm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),is(t)}Pm(e)}j.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function nu(e){e.g&&(Bl(e),e.g.cancel(),e.g=null)}function Am(e){nu(e),e.u&&(ee.clearTimeout(e.u),e.u=null),ca(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ee.clearTimeout(e.m),e.m=null)}function Uu(e,t){e.l.push(new P1(e.Za++,t)),e.G==3&&ru(e)}function ru(e){ym(e.i)||e.m||(e.m=!0,Cl(e.Ha,e),e.C=0)}function H1(e,t){return vm(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=ts(et(e.Ha,e,t),Rm(e,e.C)),e.C++,!0)}j.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new rs(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=jg(n),qg(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xm(this,t,r),i=On(this.F),Re(i,"RID",e),Re(i,"CVER",22),this.D&&Re(i,"X-HTTP-Session-Id",this.D),as(this,i),this.o&&n&&Fl(i,this.o,n),kl(this.i,t),this.Ra&&Re(i,"TYPE","init"),this.ja?(Re(i,"$req",r),Re(i,"SID","null"),t.$=!0,Ac(t,i,null)):Ac(t,i,r),this.G=2}}else this.G==3&&(e?Gh(this,e):this.l.length==0||ym(this.i)||Gh(this))};function Gh(e,t){var n;t?n=t.m:n=e.V++;var r=On(e.F);Re(r,"SID",e.J),Re(r,"RID",n),Re(r,"AID",e.U),as(e,r),e.o&&e.s&&Fl(r,e.o,e.s),n=new rs(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kl(e.i,n),Ac(n,r,t)}function as(e,t){e.j&&Rl({},function(n,r){Re(t,r,n)})}function xm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?et(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{M1(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Nm(e){e.g||e.u||(e.Y=1,Cl(e.Ga,e),e.A=0)}function Ul(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=ts(et(e.Ga,e),Rm(e,e.A)),e.A++,!0)}j.Ga=function(){if(this.u=null,Dm(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ts(et(this.bb,this),e)}};j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bt(10),nu(this),Dm(this))};function Bl(e){e.B!=null&&(ee.clearTimeout(e.B),e.B=null)}function Dm(e){e.g=new rs(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=On(e.oa);Re(t,"RID","rpc"),Re(t,"SID",e.J),Re(t,"CI",e.N?"0":"1"),Re(t,"AID",e.U),as(e,t),Re(t,"TYPE","xmlhttp"),e.o&&e.s&&Fl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Za(On(t)),n.s=null,n.U=!0,um(n,e)}j.ab=function(){this.v!=null&&(this.v=null,nu(this),Ul(this),bt(19))};function ca(e){e.v!=null&&(ee.clearTimeout(e.v),e.v=null)}function Om(e,t){var n=null;if(e.g==t){ca(e),Bl(e),e.g=null;var r=2}else if(Nc(e.i,t))n=t.D,wm(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Qa(),tt(r,new im(r,n)),ru(e)}else Nm(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&H1(e,t)||r==2&&Ul(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sr(e,5);break;case 4:Sr(e,10);break;case 3:Sr(e,6);break;default:Sr(e,2)}}}function Rm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=et(e.jb,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||sa(n,"https"),Za(n)),F1(n.toString(),r)}else bt(2);e.G=0,e.j&&e.j.va(t),Pm(e),Am(e)}j.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bt(2)):(this.h.info("Failed to ping google.com"),bt(1))};function Pm(e){e.G=0,e.I=-1,e.j&&((bm(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,vl(e.l),e.l.length=0),e.j.ua())}function km(e,t,n){var r=S1(n);if(r.i!="")t&&aa(r,t+"."+r.i),ua(r,r.m);else{var i=ee.location;r=C1(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&wl(e.aa,function(o,s){Re(r,s,o)}),t=e.D,n=e.sa,t&&n&&Re(r,t,n),Re(r,"VER",e.ma),as(e,r),r}function Lm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new He(new os({ib:!0})):new He(e.qa),t.L=e.H,t}function Mm(){}j=Mm.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Oa=function(){};function la(){if(Si&&!(10<=Number(r1)))throw Error("Environmental error: no available transport.")}la.prototype.g=function(e,t){return new Bt(e,t)};function Bt(e,t){Ye.call(this),this.g=new Cm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ra(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ra(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ki(this)}rt(Bt,Ye);Bt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Cl(et(e.hb,e,t))),bt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=km(e,null,e.W),ru(e)};Bt.prototype.close=function(){Vl(this.g)};Bt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Uu(this.g,t)}else this.v?(t={},t.__data__=Sl(e),Uu(this.g,t)):Uu(this.g,e)};Bt.prototype.M=function(){this.g.j=null,delete this.j,Vl(this.g),delete this.g,Bt.Z.M.call(this)};function Fm(e){Dl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rt(Fm,Dl);function Vm(){Ol.call(this),this.status=1}rt(Vm,Ol);function Ki(e){this.g=e}rt(Ki,Mm);Ki.prototype.xa=function(){tt(this.g,"a")};Ki.prototype.wa=function(e){tt(this.g,new Fm(e))};Ki.prototype.va=function(e){tt(this.g,new Vm)};Ki.prototype.ua=function(){tt(this.g,"b")};la.prototype.createWebChannel=la.prototype.g;Bt.prototype.send=Bt.prototype.u;Bt.prototype.open=Bt.prototype.m;Bt.prototype.close=Bt.prototype.close;Ya.NO_ERROR=0;Ya.TIMEOUT=8;Ya.HTTP_ERROR=6;om.COMPLETE="complete";sm.EventType=ns;ns.OPEN="a";ns.CLOSE="b";ns.ERROR="c";ns.MESSAGE="d";Ye.prototype.listen=Ye.prototype.N;He.prototype.listenOnce=He.prototype.O;He.prototype.getLastError=He.prototype.La;He.prototype.getLastErrorCode=He.prototype.Da;He.prototype.getStatus=He.prototype.ba;He.prototype.getResponseJson=He.prototype.Qa;He.prototype.getResponseText=He.prototype.ga;He.prototype.send=He.prototype.ea;var z1=function(){return new la},K1=function(){return Qa()},Bu=Ya,W1=om,G1=Hr,Qh={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Q1=os,xs=sm,Y1=He;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Mt.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return X(t,e),t}(Error),Zt=new kg("@firebase/firestore");function Dc(){return Zt.logLevel}function P(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=de.DEBUG){var r=t.map(jl);Zt.debug.apply(Zt,Fe(["Firestore (8.10.1): "+e],r))}}function qe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=de.ERROR){var r=t.map(jl);Zt.error.apply(Zt,Fe(["Firestore (8.10.1): "+e],r))}}function fa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Zt.logLevel<=de.WARN){var r=t.map(jl);Zt.warn.apply(Zt,Fe(["Firestore (8.10.1): "+e],r))}}function jl(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qe(t),new Error(t)}function J(e,t){e||z()}function V(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=X1(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function ce(e,t){return e<t?-1:e>t?1:0}function Ci(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Bm(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ae=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new It(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&z(),r===void 0?r=t.length-n:r>t.length-n&&z(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ge=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(qm),J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return J1.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new x(b.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var c=n[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=c,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new x(b.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(qm),Ai=function(){function e(t){this.fields=t,t.sort(rn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ci(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),St=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ce(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();St.EMPTY_BYTE_STRING=new St("");var Z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(e){if(J(!!e),typeof e=="string"){var t=0,n=Z1.exec(e);if(J(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:je(e.seconds),nanos:je(e.nanos)}}function je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xi(e){return typeof e=="string"?St.fromBase64String(e):St.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $m(e){var t=e.mapValue.fields.__previous_value__;return ql(t)?$m(t):t}function Bo(e){var t=or(e.mapValue.fields.__local_write_time__.timestampValue);return new It(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e){return e==null}function ha(e){return e===0&&1/e==-1/0}function Hm(e){return typeof e=="number"&&Number.isInteger(e)&&!ha(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ge.fromString(t))},e.fromName=function(t){return new e(ge.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ge.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ge.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ge(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ql(e)?4:10:z()}function vn(e,t){var n=Vr(e);if(n!==Vr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bo(e).isEqual(Bo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=or(r.timestampValue),s=or(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return xi(r.bytesValue).isEqual(xi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return je(r.geoPointValue.latitude)===je(i.geoPointValue.latitude)&&je(r.geoPointValue.longitude)===je(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return je(r.integerValue)===je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=je(r.doubleValue),s=je(i.doubleValue);return o===s?ha(o)===ha(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Ci(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Yh(o)!==Yh(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!vn(o[a],s[a])))return!1;return!0}(e,t);default:return z()}}function jo(e,t){return(e.values||[]).find(function(n){return vn(n,t)})!==void 0}function Ni(e,t){var n=Vr(e),r=Vr(t);if(n!==r)return ce(n,r);switch(n){case 0:return 0;case 1:return ce(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=je(i.integerValue||i.doubleValue),a=je(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return Xh(e.timestampValue,t.timestampValue);case 4:return Xh(Bo(e),Bo(t));case 5:return ce(e.stringValue,t.stringValue);case 6:return function(i,o){var s=xi(i),a=xi(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var c=ce(s[u],a[u]);if(c!==0)return c}return ce(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=ce(je(i.latitude),je(o.latitude));return s!==0?s:ce(je(i.longitude),je(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var c=Ni(s[u],a[u]);if(c)return c}return ce(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(var l=0;l<a.length&&l<c.length;++l){var f=ce(a[l],c[l]);if(f!==0)return f;var h=Ni(s[a[l]],u[c[l]]);if(h!==0)return h}return ce(a.length,c.length)}(e.mapValue,t.mapValue);default:throw z()}}function Xh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ce(e,t);var n=or(e),r=or(t),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function $l(e){return Oc(e)}function Oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=or(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=Oc(a[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+Oc(r.fields[u])}return i+"}"}(e.mapValue):z();var t,n}function da(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Rc(e){return!!e&&"integerValue"in e}function Hl(e){return!!e&&"arrayValue"in e}function Jh(e){return!!e&&"nullValue"in e}function Zh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vs(e){return!!e&&"mapValue"in e}function _o(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zr(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=_o(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_o(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Vs(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_o(n)},e.prototype.setAll=function(t){var n=this,r=rn.emptyPath(),i={},o=[];t.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var c=n.getFieldsMap(r);n.applyChanges(c,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=_o(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());Vs(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return vn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Vs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){zr(n,function(a,u){return t[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(_o(this.value))},e}();function zm(e){var t=[];return zr(e.fields,function(n,r){var i=new rn([n]);if(Vs(r)){var o=zm(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];t.push(i.child(u))}}else t.push(i)}),new Ai(t)}var pt=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ae.min(),Lt.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Lt.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Lt.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),eT=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new eT(e,t,n,r,i,o,s)}function us(e){var t=V(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+$l(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Kr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ga(t.startAt)),t.endAt&&(n+="|ub:",n+=ga(t.endAt)),t.h=n}return t.h}function iu(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!uT(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!vn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nd(e.startAt,t.startAt)&&nd(e.endAt,t.endAt)}function pa(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ft=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return X(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new tT(n,r,i):r==="array-contains"?new iT(n,i):r==="in"?new oT(n,i):r==="not-in"?new sT(n,i):r==="array-contains-any"?new aT(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new nT(n,i):new rT(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ni(r,this.value)):r!==null&&Vr(this.value)===Vr(r)&&this.m(Ni(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return z()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),tT=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=W.fromName(i.referenceValue),o}return X(t,e),t.prototype.matches=function(n){var r=W.comparator(n.key,this.key);return this.m(r)},t}(Ft),nT=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Km("in",r),i}return X(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ft),rT=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Km("not-in",r),i}return X(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ft);function Km(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return W.fromName(r.referenceValue)})}var iT=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return X(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Hl(r)&&jo(r.arrayValue,this.value)},t}(Ft),oT=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return X(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&jo(this.value.arrayValue,r)},t}(Ft),sT=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return X(t,e),t.prototype.matches=function(n){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!jo(this.value.arrayValue,r)},t}(Ft),aT=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return X(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Hl(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return jo(r.value.arrayValue,o)})},t}(Ft),qo=function(e,t){this.position=e,this.before=t};function ga(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return $l(t)}).join(",")}var vi=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function uT(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function td(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):Ni(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function nd(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(e,t,n,r,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Wm(e,t,n,r,i,o,s,a){return new Pn(e,t,n,r,i,o,s,a)}function cs(e){return new Pn(e)}function Us(e){return!Kr(e.limit)&&e.limitType==="F"}function ma(e){return!Kr(e.limit)&&e.limitType==="L"}function zl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kl(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Wl(e){return e.collectionGroup!==null}function Di(e){var t=V(e);if(t.p===null){t.p=[];var n=Kl(t),r=zl(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new vi(n)),t.p.push(new vi(rn.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new vi(rn.keyField(),u))}}}return t.p}function wn(e){var t=V(e);if(!t.T)if(t.limitType==="F")t.T=ed(t.path,t.collectionGroup,Di(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Di(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new vi(o.field,s))}var a=t.endAt?new qo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new qo(t.startAt.position,!t.startAt.before):null;t.T=ed(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function Gm(e,t,n){return new Pn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ls(e,t){return iu(wn(e),wn(t))&&e.limitType===t.limitType}function Qm(e){return us(wn(e))+"|lt:"+e.limitType}function Pc(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+$l(i.value);var i}).join(", ")+"]"),Kr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ga(t.startAt)),t.endAt&&(n+=", endAt: "+ga(t.endAt)),"Target("+n+")"}(wn(e))+"; limitType="+e.limitType+")"}function fs(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):W.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!td(n.startAt,Di(n),r))&&(!n.endAt||!td(n.endAt,Di(n),r))}(e,t)}function Ym(e){return function(t,n){for(var r=!1,i=0,o=Di(e);i<o.length;i++){var s=o[i],a=cT(s,t,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function cT(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Ni(a,u):z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ha(t)?"-0":t}}function Jm(e){return{integerValue:""+e}}function Zm(e,t){return Hm(t)?Jm(t):Xm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ou=function(){this._=void 0};function lT(e,t,n){return e instanceof Oi?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Ur?ty(e,t):e instanceof Br?ny(e,t):function(r,i){var o=ey(r,i),s=rd(o)+rd(r.A);return Rc(o)&&Rc(r.A)?Jm(s):Xm(r.R,s)}(e,t)}function fT(e,t,n){return e instanceof Ur?ty(e,t):e instanceof Br?ny(e,t):n}function ey(e,t){return e instanceof Ri?Rc(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Oi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t}(ou),Ur=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return X(t,e),t}(ou);function ty(e,t){for(var n=ry(t),r=function(s){n.some(function(a){return vn(a,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Br=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return X(t,e),t}(ou);function ny(e,t){for(var n=ry(t),r=function(s){n=n.filter(function(a){return!vn(a,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ri=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return X(t,e),t}(ou);function rd(e){return je(e.integerValue||e.doubleValue)}function ry(e){return Hl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs=function(e,t){this.field=e,this.transform=t},hT=function(e,t){this.version=e,this.transformResults=t},ht=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Bs(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var su=function(){};function dT(e,t,n){e instanceof ds?function(r,i,o){var s=r.value.clone(),a=sd(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof cr?function(r,i,o){if(Bs(r.precondition,i)){var s=sd(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(iy(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function kc(e,t,n){e instanceof ds?function(r,i,o){if(Bs(r.precondition,i)){var s=r.value.clone(),a=ad(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(od(i),s).setHasLocalMutations()}}(e,t,n):e instanceof cr?function(r,i,o){if(Bs(r.precondition,i)){var s=ad(r.fieldTransforms,o,i),a=i.data;a.setAll(iy(r)),a.setAll(s),i.convertToFoundDocument(od(i),a).setHasLocalMutations()}}(e,t,n):function(r,i){Bs(r.precondition,i)&&i.convertToNoDocument(ae.min())}(e,t)}function pT(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=ey(o.transform,s||null);a!=null&&(n==null&&(n=Lt.empty()),n.set(o.field,a))}return n||null}function id(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ci(n,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,c){return u instanceof Ur&&c instanceof Ur||u instanceof Br&&c instanceof Br?Ci(u.elements,c.elements,vn):u instanceof Ri&&c instanceof Ri?vn(u.A,c.A):u instanceof Oi&&c instanceof Oi}(s.transform,a.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function od(e){return e.isFoundDocument()?e.version:ae.min()}var ds=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return X(t,e),t}(su),cr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return X(t,e),t}(su);function iy(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function sd(e,t,n){var r=new Map;J(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,fT(s,a,n[i]))}return r}function ad(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,lT(a,u,t))}return r}var Be,le,ps=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return X(t,e),t}(su),Gl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return X(t,e),t}(su),gT=function(e){this.count=e};function oy(e){switch(e){case b.OK:return z();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return z()}}function sy(e){if(e===void 0)return qe("GRPC error has no .code"),b.UNKNOWN;switch(e){case Be.OK:return b.OK;case Be.CANCELLED:return b.CANCELLED;case Be.UNKNOWN:return b.UNKNOWN;case Be.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Be.INTERNAL:return b.INTERNAL;case Be.UNAVAILABLE:return b.UNAVAILABLE;case Be.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Be.NOT_FOUND:return b.NOT_FOUND;case Be.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Be.ABORTED:return b.ABORTED;case Be.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Be.DATA_LOSS:return b.DATA_LOSS;default:return z()}}(le=Be||(Be={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt=function(){function e(t,n){this.comparator=t,this.root=n||Wn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ns(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ns(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ns(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ns(this.root,t,this.comparator,!0)},e}(),Ns=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Wn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=o!=null?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();var t=this.left.check();if(t!==this.right.check())throw z();return t+(this.isRed()?0:1)},e}();Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1,Wn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw z()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw z()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Wn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke=function(){function e(t){this.comparator=t,this.data=new gt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ud(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ud(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ud=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),mT=new gt(W.comparator);function en(){return mT}var yT=new gt(W.comparator);function Lc(){return yT}var vT=new gt(W.comparator);function wT(){return vT}var bT=new Ke(W.comparator);function xe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=bT,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var _T=new Ke(ce);function au(){return _T}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ae.min(),r,au(),en(),xe())},e}(),Yl=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(St.EMPTY_BYTE_STRING,n,xe(),xe(),xe())},e}(),js=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ay=function(e,t){this.targetId=e,this.V=t},uy=function(e,t,n,r){n===void 0&&(n=St.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},cd=function(){function e(){this.S=0,this.D=fd(),this.C=St.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=xe(),n=xe(),r=xe();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new Yl(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=fd()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ET=function(){function e(t){this.W=t,this.G=new Map,this.H=en(),this.J=ld(),this.Y=new Ke(ce)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:z()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(pa(o))if(r===0){var s=new W(o.path);this.tt(n,s,pt.newNoDocument(s,ae.min()))}else J(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,a){var u=n.ot(a);if(u){if(s.current&&pa(u.target)){var c=new W(u.target.path);n.H.get(c)!==null||n.at(a,c)||n.tt(a,c,pt.newNoDocument(c,t))}s.$&&(r.set(a,s.M()),s.L())}});var i=xe();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(c){var l=n.ot(c);return!l||l.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new Ql(t,r,this.Y,this.H,i);return this.H=en(),this.J=ld(),this.Y=new Ke(ce),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new cd,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ke(ce),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||P("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new cd),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ld(){return new gt(W.comparator)}function fd(){return new gt(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TT={asc:"ASCENDING",desc:"DESCENDING"},IT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ST=function(e,t){this.databaseId=e,this.I=t};function $o(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function cy(e,t){return e.I?t.toBase64():t.toUint8Array()}function CT(e,t){return $o(e,t.toTimestamp())}function _t(e){return J(!!e),ae.fromTimestamp(function(t){var n=or(t);return new It(n.seconds,n.nanos)}(e))}function Xl(e,t){return function(n){return new ge(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function ly(e){var t=ge.fromString(e);return J(yy(t)),t}function Ho(e,t){return Xl(e.databaseId,t.path)}function An(e,t){var n=ly(t);if(n.get(1)!==e.databaseId.projectId)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(hy(n))}function Mc(e,t){return Xl(e.databaseId,t)}function fy(e){var t=ly(e);return t.length===4?ge.emptyPath():hy(t)}function zo(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hy(e){return J(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function hd(e,t,n){return{name:Ho(e,t),fields:n.value.mapValue.fields}}function AT(e,t,n){var r=An(e,t.name),i=_t(t.updateTime),o=new Lt({mapValue:{fields:t.fields}}),s=pt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ya(e,t){var n;if(t instanceof ds)n={update:hd(e,t.key,t.value)};else if(t instanceof ps)n={delete:Ho(e,t.key)};else if(t instanceof cr)n={update:hd(e,t.key,t.data),updateMask:RT(t.fieldMask)};else{if(!(t instanceof Gl))return z();n={verify:Ho(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ur)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Br)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ri)return{fieldPath:o.field.canonicalString(),increment:s.A};throw z()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:CT(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(e,t.precondition)),n}function dd(e,t){var n=t.currentDocument?function(c){return c.updateTime!==void 0?ht.updateTime(_t(c.updateTime)):c.exists!==void 0?ht.exists(c.exists):ht.none()}(t.currentDocument):ht.none(),r=t.updateTransforms?t.updateTransforms.map(function(c){return function(l,f){var h=null;if("setToServerValue"in f)J(f.setToServerValue==="REQUEST_TIME"),h=new Oi;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new Ur(d)}else if("removeAllFromArray"in f){var p=f.removeAllFromArray.values||[];h=new Br(p)}else"increment"in f?h=new Ri(l,f.increment):z();var m=rn.fromServerFormat(f.fieldPath);return new hs(m,h)}(e,c)}):[];if(t.update){t.update.name;var i=An(e,t.update.name),o=new Lt({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(c){var l=c.fieldPaths||[];return new Ai(l.map(function(f){return rn.fromServerFormat(f)}))}(t.updateMask);return new cr(i,o,s,n,r)}return new ds(i,o,n,r)}if(t.delete){var a=An(e,t.delete);return new ps(a,n)}if(t.verify){var u=An(e,t.verify);return new Gl(u,n)}return z()}function dy(e,t){return{documents:[Mc(e,t.path)]}}function py(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Mc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(c){return function(l){if(l.op==="=="){if(Zh(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NAN"}};if(Jh(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NULL"}}}else if(l.op==="!="){if(Zh(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NOT_NAN"}};if(Jh(l.value))return{unaryFilter:{field:ri(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(l.field),op:NT(l.op),value:l.value}}}(c)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(c){return{field:ri(c.field),direction:xT(c.dir)}}(u)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(a,u){return a.I||Kr(u)?u:{value:u}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=pd(t.startAt)),t.endAt&&(n.structuredQuery.endAt=pd(t.endAt)),n}function gy(e){var t=fy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){J(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=my(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(f){return function(h){return new vi(di(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var u=null;n.limit&&(u=function(f){var h;return Kr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var c=null;n.startAt&&(c=gd(n.startAt));var l=null;return n.endAt&&(l=gd(n.endAt)),Wm(t,i,a,s,u,"F",c,l)}function my(e){return e?e.unaryFilter!==void 0?[OT(e)]:e.fieldFilter!==void 0?[DT(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return my(t)}).reduce(function(t,n){return t.concat(n)}):z():[]}function pd(e){return{before:e.before,values:e.position}}function gd(e){var t=!!e.before,n=e.values||[];return new qo(n,t)}function xT(e){return TT[e]}function NT(e){return IT[e]}function ri(e){return{fieldPath:e.canonicalString()}}function di(e){return rn.fromServerFormat(e.fieldPath)}function DT(e){return Ft.create(di(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}function OT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=di(e.unaryFilter.field);return Ft.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=di(e.unaryFilter.field);return Ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=di(e.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=di(e.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return z()}}function RT(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function yy(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=md(t)),t=PT(e.get(n),t);return md(t)}function PT(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function md(e){return e+""}function Sn(e){var t=e.length;if(J(t>=2),t===2)return J(e.charAt(0)===""&&e.charAt(1)===""),ge.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&z(),e.charAt(s+1)){case"":var a=e.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:z()}o=s+2}return new ge(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT=function(e,t){this.seconds=e,this.nanoseconds=t},Ot=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ot.store="owner",Ot.key="owner";var tr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};tr.store="mutationQueues",tr.keyPath="userId";var Oe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Oe.store="mutations",Oe.keyPath="batchId",Oe.userMutationsIndex="userMutationsIndex",Oe.userMutationsKeyPath=["userId","batchId"];var at=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,tn(n)]},e.key=function(t,n,r){return[t,tn(n),r]},e}();at.store="documentMutations",at.PLACEHOLDER=new at;var LT=function(e,t){this.path=e,this.readTime=t},MT=function(e,t){this.path=e,this.version=t},Me=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Me.store="remoteDocuments",Me.readTimeIndex="readTimeIndex",Me.readTimeIndexPath="readTime",Me.collectionReadTimeIndex="collectionReadTimeIndex",Me.collectionReadTimeIndexPath=["parentPath","readTime"];var gn=function(e){this.byteSize=e};gn.store="remoteDocumentGlobal",gn.key="remoteDocumentGlobalKey";var Tt=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Tt.store="targets",Tt.keyPath="targetId",Tt.queryTargetsIndexName="queryTargetsIndex",Tt.queryTargetsKeyPath=["canonicalId","targetId"];var Ze=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ze.store="targetDocuments",Ze.keyPath=["targetId","path"],Ze.documentTargetsIndex="documentTargetsIndex",Ze.documentTargetsKeyPath=["path","targetId"];var Pt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pt.key="targetGlobalKey",Pt.store="targetGlobal";var Or=function(e,t){this.collectionId=e,this.parent=t};Or.store="collectionParents",Or.keyPath=["collectionId","parent"];var xn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};xn.store="clientMetadata",xn.keyPath="clientId";var Pi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Pi.store="bundles",Pi.keyPath="bundleId";var ki=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ki.store="namedQueries",ki.keyPath="name";var FT=Fe(Fe([],Fe(Fe([],Fe(Fe([],Fe(Fe([],[tr.store,Oe.store,at.store,Me.store,Tt.store,Ot.store,Pt.store,Ze.store]),[xn.store])),[gn.store])),[Or.store])),[Pi.store,ki.store]),vy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wy=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Ct=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},O=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&n()},function(u){return r(u)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(a){return a?e.resolve(a):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),by=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Ct,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Eo(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Jl(i.target.error);r.ft.reject(new Eo(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new Eo(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(P("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new UT(n)},e}(),Li=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Lr())===12.2&&qe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return P("SimpleDb","Removing database:",t),Er(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Lr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(P("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var c=u.target.result;o(c)},a.onblocked=function(){s(new Eo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var c=u.target.error;c.name==="VersionError"?s(new x(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new Eo(t,c))},a.onupgradeneeded=function(u){P("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var c=u.target.result;r.wt.Rt(c,a.transaction,u.oldVersion,r.version).next(function(){P("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return C(this,void 0,void 0,function(){var o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:o=n==="readonly",s=0,a=function(){var f,h,d,p,m;return I(this,function(v){switch(v.label){case 0:++s,v.label=1;case 1:return v.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=v.sent(),f=by.open(u.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(w){return f.abort(w),O.reject(w)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(v.sent(),h),d)];case 4:return p=v.sent(),m=p.name!=="FirebaseError"&&s<3,P("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),u.close(),m?[3,5]:[2,{value:Promise.reject(p)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if(typeof(c=l.sent())=="object")return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),VT=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Er(this.Pt.delete())},e}(),Eo=function(e){function t(n,r){var i=this;return(i=e.call(this,b.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return X(t,e),t}(x);function Wr(e){return e.name==="IndexedDbTransactionError"}var UT=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Er(r)},e.prototype.add=function(t){return P("SimpleDb","ADD",this.store.name,t,t),Er(this.store.add(t))},e.prototype.get=function(t){var n=this;return Er(this.store.get(t)).next(function(r){return r===void 0&&(r=null),P("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return P("SimpleDb","DELETE",this.store.name,t),Er(this.store.delete(t))},e.prototype.count=function(){return P("SimpleDb","COUNT",this.store.name),Er(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){P("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new O(function(r,i){n.onerror=function(o){var s=Jl(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new O(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var u=new VT(a),c=n(a.primaryKey,a.value,u);if(c instanceof O){var l=c.catch(function(f){return u.done(),O.reject(f)});r.push(l)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return O.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Er(e){return new O(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Jl(r.target.error);n(i)}})}var yd=!1;function Jl(e){var t=Li._t(Lr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yd||(yd=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vd=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return X(t,e),t}(wy);function At(e,t){var n=V(e);return Li.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zl=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&dT(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&kc(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&kc(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ae.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},xe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ci(this.mutations,t.mutations,function(n,r){return id(n,r)})&&Ci(this.baseMutations,t.baseMutations,function(n,r){return id(n,r)})},e}(),BT=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){J(t.mutations.length===r.length);for(var i=wT(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),uu=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=ae.min()),s===void 0&&(s=ae.min()),a===void 0&&(a=St.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),_y=function(e){this.Lt=e};function Fc(e,t){if(t.document)return AT(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Fi(t.noDocument.readTime),i=pt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Fi(t.unknownDocument.version),pt.newUnknownDocument(o,r)}return z()}function wd(e,t,n){var r=ef(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Ho(f,h.key),fields:h.data.value.mapValue.fields,updateTime:$o(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Me(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Mi(t.version);return s=t.hasCommittedMutations,new Me(null,new LT(a,u),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Mi(t.version);return new Me(new MT(c,l),null,null,!0,r,i)}return z()}function ef(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ey(e){var t=new It(e[0],e[1]);return ae.fromTimestamp(t)}function Mi(e){var t=e.toTimestamp();return new kT(t.seconds,t.nanoseconds)}function Fi(e){var t=new It(e.seconds,e.nanoseconds);return ae.fromTimestamp(t)}function li(e,t){for(var n=(t.baseMutations||[]).map(function(u){return dd(e.Lt,u)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(u){return dd(e.Lt,u)}),a=It.fromMillis(t.localWriteTimeMs);return new Zl(t.batchId,a,n,s)}function co(e){var t,n,r=Fi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Fi(e.lastLimboFreeSnapshotVersion):ae.min();return e.query.documents!==void 0?(J((n=e.query).documents.length===1),t=wn(cs(fy(n.documents[0])))):t=function(o){return wn(gy(o))}(e.query),new uu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,St.fromBase64String(e.resumeToken))}function Ty(e,t){var n,r=Mi(t.snapshotVersion),i=Mi(t.lastLimboFreeSnapshotVersion);n=pa(t.target)?dy(e.Lt,t.target):py(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Tt(t.targetId,us(t.target),r,o,t.sequenceNumber,i,n)}function Iy(e){var t=gy({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Gm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return bd(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Fi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return bd(t).put({bundleId:(r=n).id,createTime:Mi(_t(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return _d(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Iy(i.bundledQuery),readTime:Fi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return _d(t).put(function(r){return{name:r.name,readTime:Mi(_t(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function bd(e){return At(e,Pi.store)}function _d(e){return At(e,ki.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qT=function(){function e(){this.Bt=new tf}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),O.resolve()},e.prototype.getCollectionParents=function(t,n){return O.resolve(this.Bt.getEntries(n))},e}(),tf=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ke(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ke(ge.comparator)).toArray()},e}(),$T=function(){function e(){this.qt=new tf}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:tn(o)};return Ed(t).put(s)}return O.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Bm(n),""],!1,!0);return Ed(t).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==n)break;r.push(Sn(u.parent))}return r})},e}();function Ed(e){return At(e,Or.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e,t,n){var r=e.store(Oe.store),i=e.store(at.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(p,m,v){return a++,v.delete()});o.push(u.next(function(){J(a===1)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=at.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return O.waitFor(o).next(function(){return c})}function va(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw z();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var HT=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return J(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bn(t).$t({index:Oe.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=fi(t),a=Bn(t);return a.add({}).next(function(u){J(typeof u=="number");for(var c=new Zl(u,n,r,i),l=function(w,E,T){var R=T.baseMutations.map(function(G){return ya(w.Lt,G)}),U=T.mutations.map(function(G){return ya(w.Lt,G)});return new Oe(E,T.batchId,T.localWriteTime.toMillis(),R,U)}(o.R,o.userId,c),f=[],h=new Ke(function(w,E){return ce(w.canonicalString(),E.canonicalString())}),d=0,p=i;d<p.length;d++){var m=p[d],v=at.key(o.userId,m.key.path,u);h=h.add(m.key.path.popLast()),f.push(a.put(l)),f.push(s.put(v,at.PLACEHOLDER))}return h.forEach(function(w){f.push(o.Ut.addToCollectionParentIndex(t,w))}),t.addOnCommittedListener(function(){o.Kt[u]=c.keys()}),O.waitFor(f).next(function(){return c})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Bn(t).get(n).next(function(i){return i?(J(i.userId===r.userId),li(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?O.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Bn(t).$t({index:Oe.userMutationsIndex,range:o},function(a,u,c){u.userId===r.userId&&(J(u.batchId>=i),s=li(r.R,u)),c.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Bn(t).$t({index:Oe.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bn(t).Nt(Oe.userMutationsIndex,r).next(function(i){return i.map(function(o){return li(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=at.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return fi(t).$t({range:o},function(a,u,c){var l=a[0],f=a[1],h=a[2],d=Sn(f);if(l===r.userId&&n.path.isEqual(d))return Bn(t).get(h).next(function(p){if(!p)throw z();J(p.userId===r.userId),s.push(li(r.R,p))});c.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(ce),o=[];return n.forEach(function(s){var a=at.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),c=fi(t).$t({range:u},function(l,f,h){var d=l[0],p=l[1],m=l[2],v=Sn(p);d===r.userId&&s.path.isEqual(v)?i=i.add(m):h.done()});o.push(c)}),O.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=at.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new Ke(ce);return fi(t).$t({range:a},function(c,l,f){var h=c[0],d=c[1],p=c[2],m=Sn(d);h===r.userId&&i.isPrefixOf(m)?m.length===o&&(u=u.add(p)):f.done()}).next(function(){return r.Wt(t,u)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(Bn(t).get(s).next(function(a){if(a===null)throw z();J(a.userId===r.userId),i.push(li(r.R,a))}))}),O.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Sy(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),O.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return O.resolve();var i=IDBKeyRange.lowerBound(at.prefixForUser(n.userId)),o=[];return fi(t).$t({range:i},function(s,a,u){if(s[0]===n.userId){var c=Sn(s[1]);o.push(c)}else u.done()}).next(function(){J(o.length===0)})})},e.prototype.containsKey=function(t,n){return Cy(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Ay(t).get(this.userId).next(function(r){return r||new tr(n.userId,-1,"")})},e}();function Cy(e,t,n){var r=at.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return fi(e).$t({range:o,Ft:!0},function(a,u,c){var l=a[0],f=a[1];a[2],l===t&&f===i&&(s=!0),c.done()}).next(function(){return s})}function Bn(e){return At(e,Oe.store)}function fi(e){return At(e,at.store)}function Ay(e){return At(e,tr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),zT=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new wa(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ae.fromTimestamp(new It(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ii(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return J(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return ii(t).$t(function(a,u){var c=co(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(o++,s.push(i.removeTargetData(t,c)))}).next(function(){return O.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return ii(t).$t(function(r,i){var o=co(i);n(o)})},e.prototype.Xt=function(t){return Id(t).get(Pt.key).next(function(n){return J(n!==null),n})},e.prototype.Zt=function(t,n){return Id(t).put(Pt.key,n)},e.prototype.te=function(t,n){return ii(t).put(Ty(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=us(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ii(t).$t({range:i,index:Tt.queryTargetsIndexName},function(s,a,u){var c=co(a);iu(n,c.target)&&(o=c,u.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Gn(t);return n.forEach(function(a){var u=tn(a.path);o.push(s.put(new Ze(r,u))),o.push(i.referenceDelegate.addReference(t,r,a))}),O.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Gn(t);return O.forEach(n,function(s){var a=tn(s.path);return O.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Gn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gn(t),o=xe();return i.$t({range:r,Ft:!0},function(s,a,u){var c=Sn(s[1]),l=new W(c);o=o.add(l)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=tn(n.path),i=IDBKeyRange.bound([r],[Bm(r)],!1,!0),o=0;return Gn(t).$t({index:Ze.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var c=s[0];s[1],c!==0&&(o++,u.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return ii(t).get(n).next(function(r){return r?co(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e){return At(e,Tt.store)}function Id(e){return At(e,Pt.store)}function Gn(e){return At(e,Ze.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return C(this,void 0,void 0,function(){return I(this,function(t){if(e.code!==b.FAILED_PRECONDITION||e.message!==vy)throw e;return P("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=ce(n,i);return s===0?ce(r,o):s}var KT=function(){function e(t){this.ne=t,this.buffer=new Ke(Sd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Sd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),WT=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;P("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Wr(i=o.sent())?(P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gr(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),GT=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return O.resolve(Mt.o);var i=new KT(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Td)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Td):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,a,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>l.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+h),i=l.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),l.nthSequenceNumber(t,i)}).next(function(h){return r=h,a=Date.now(),l.removeTargets(t,r,n)}).next(function(h){return o=h,u=Date.now(),l.removeOrphanedDocuments(t,r)}).next(function(h){return c=Date.now(),Dc()<=de.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+h+" documents in "+(c-u)+`ms
Total Duration: `+(c-f)+"ms"),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),QT=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new GT(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Ds(t,r)},e.prototype.removeReference=function(t,n,r){return Ds(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ds(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return Ay(r).Ot(function(s){return Cy(r,s,i).next(function(a){return a&&(o=!0),O.resolve(!a)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(a,u){if(u<=n){var c=r._e(t,a).next(function(l){if(!l)return s++,i.getEntry(t,a).next(function(){return i.removeEntry(a),Gn(t).delete([0,tn(a.path)])})});o.push(c)}}).next(function(){return O.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Ds(t,n)},e.prototype.we=function(t,n){var r,i=Gn(t),o=Mt.o;return i.$t({index:Ze.documentTargetsIndex},function(s,a){var u=s[0];s[1];var c=a.path,l=a.sequenceNumber;u===0?(o!==Mt.o&&n(new W(Sn(r)),o),o=l,r=c):o=Mt.o}).next(function(){o!==Mt.o&&n(new W(Sn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ds(e,t){return Gn(e).put(function(n,r){return new Ze(0,tn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,t))return u}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){zr(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];t(a,u)}})},e.prototype.isEmpty=function(){return jm(this.inner)},e}(),xy=function(){function e(){this.changes=new Wi(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ae.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:pt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?O.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),YT=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Kn(t).put(Os(n),r)},e.prototype.removeEntry=function(t,n){var r=Kn(t),i=Os(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Kn(t).get(Os(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Kn(t).get(Os(n)).next(function(i){return{document:r.ye(n,i),size:va(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=en();return this.pe(t,n,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=en(),o=new gt(W.comparator);return this.pe(t,n,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,va(a))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return O.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return Kn(t).$t({range:i},function(a,u,c){for(var l=W.fromSegments(a);s&&W.comparator(s,l)<0;)r(s,null),s=o.getNext();s&&s.isEqual(l)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?c.Ct(s.path.toArray()):c.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=en(),s=n.path.length+1,a={};if(r.isEqual(ae.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var c=n.path.toArray(),l=ef(r);a.range=IDBKeyRange.lowerBound([c,l],!0),a.index=Me.collectionReadTimeIndex}return Kn(t).$t(a,function(f,h,d){if(f.length===s){var p=Fc(i.R,h);n.path.isPrefixOf(p.key.path)?fs(n,p)&&(o=o.insert(p.key,p)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new XT(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Cd(t).get(gn.key).next(function(n){return J(!!n),n})},e.prototype.me=function(t,n){return Cd(t).put(gn.key,n)},e.prototype.ye=function(t,n){if(n){var r=Fc(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ae.min()))return r}return pt.newInvalidDocument(t)},e}(),XT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Wi(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return X(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ke(function(a,u){return ce(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var c=r.Ae.get(a);if(u.document.isValidDocument()){var l=wd(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var f=va(l);o+=f-c,i.push(r.Ie.addEntry(n,a,l))}else if(o-=c,r.trackRemovals){var h=wd(r.Ie.R,pt.newNoDocument(a,ae.min()),r.getReadTime(a));i.push(r.Ie.addEntry(n,a,h))}else i.push(r.Ie.removeEntry(n,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(n,a))}),i.push(this.Ie.updateMetadata(n,o)),O.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},t}(xy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(e){return At(e,gn.store)}function Kn(e){return At(e,Me.store)}function Os(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JT=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;J(r<i&&r>=0&&i<=11);var s=new by("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(Ot.store)}(t),function(u){u.createObjectStore(tr.store,{keyPath:tr.keyPath}),u.createObjectStore(Oe.store,{keyPath:Oe.keyPath,autoIncrement:!0}).createIndex(Oe.userMutationsIndex,Oe.userMutationsKeyPath,{unique:!0}),u.createObjectStore(at.store)}(t),Ad(t),function(u){u.createObjectStore(Me.store)}(t));var a=O.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(Ze.store),u.deleteObjectStore(Tt.store),u.deleteObjectStore(Pt.store)}(t),Ad(t)),a=a.next(function(){return function(u){var c=u.store(Pt.store),l=new Pt(0,0,ae.min().toTimestamp(),0);return c.put(Pt.key,l)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,c){return c.store(Oe.store).Nt().next(function(l){u.deleteObjectStore(Oe.store),u.createObjectStore(Oe.store,{keyPath:Oe.keyPath,autoIncrement:!0}).createIndex(Oe.userMutationsIndex,Oe.userMutationsKeyPath,{unique:!0});var f=c.store(Oe.store),h=l.map(function(d){return f.put(d)});return O.waitFor(h)})}(t,s)})),a=a.next(function(){(function(u){u.createObjectStore(xn.store,{keyPath:xn.keyPath})})(t)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(gn.store)}(t),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){var c=u.objectStore(Me.store);c.createIndex(Me.readTimeIndex,Me.readTimeIndexPath,{unique:!1}),c.createIndex(Me.collectionReadTimeIndex,Me.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(Pi.store,{keyPath:Pi.keyPath})})(t),function(u){u.createObjectStore(ki.store,{keyPath:ki.keyPath})}(t)})),a},e.prototype.be=function(t){var n=0;return t.store(Me.store).$t(function(r,i){n+=va(i)}).next(function(){var r=new gn(n);return t.store(gn.store).put(gn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(tr.store),i=t.store(Oe.store);return r.Nt().next(function(o){return O.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(Oe.userMutationsIndex,a).next(function(u){return O.forEach(u,function(c){J(c.userId===s.userId);var l=li(n.R,c);return Sy(t,s.userId,l).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ze.store),r=t.store(Me.store);return t.store(Pt.store).get(Pt.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new ge(s),c=function(l){return[0,tn(l)]}(u);o.push(n.get(c).next(function(l){return l?O.resolve():function(f){return n.put(new Ze(0,tn(f),i.highestListenSequenceNumber))}(u)}))}).next(function(){return O.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Or.store,{keyPath:Or.keyPath});var r=n.store(Or.store),i=new tf,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:tn(u)})}};return n.store(Me.store).$t({Ft:!0},function(s,a){var u=new ge(s);return o(u.popLast())}).next(function(){return n.store(at.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var c=Sn(u);return o(c.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Tt.store);return r.$t(function(i,o){var s=co(o),a=Ty(n.R,s);return r.put(a)})},e}();function Ad(e){e.createObjectStore(Ze.store,{keyPath:Ze.keyPath}).createIndex(Ze.documentTargetsIndex,Ze.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tt.store,{keyPath:Tt.keyPath}).createIndex(Tt.queryTargetsIndexName,Tt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Pt.store)}var ju="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ZT=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new x(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QT(this,i),this.Le=n+"main",this.R=new _y(u),this.Be=new Li(this.Le,11,new JT(this.R)),this.qe=new zT(this.referenceDelegate,this.R),this.Ut=new $T,this.Ue=function(f,h){return new YT(f,h)}(this.R,this.Ut),this.Ke=new jT,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,l===!1&&qe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,ju);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Mt(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return C(n,void 0,void 0,function(){return I(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return C(n,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return C(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Rs(n).put(new xn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Wr(n))return P("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return oo(t).get(Ot.key).next(function(r){return O.resolve(n.tn(r))})},e.prototype.en=function(t){return Rs(t).delete(this.clientId)},e.prototype.nn=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o=this;return I(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=At(a,xn.store);return u.Nt().next(function(c){var l=o.rn(c,18e5),f=c.filter(function(h){return l.indexOf(h)===-1});return O.forEach(f,function(h){return u.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?O.resolve(!0):oo(t).get(Ot.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,ju);return!1}}return!(!n.networkEnabled||!n.inForeground)||Rs(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,a=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&P("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return C(this,void 0,void 0,function(){var t=this;return I(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ot.store,xn.store],function(r){var i=new vd(r,Mt.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Rs(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return HT.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;P("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,FT,function(a){return o=new vd(a,i.Ne?i.Ne.next():Mt.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw qe("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new x(b.FAILED_PRECONDITION,vy);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.dn=function(t){var n=this;return oo(t).get(Ot.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new x(b.FAILED_PRECONDITION,ju)})},e.prototype.Ze=function(t){var n=new Ot(this.clientId,this.allowTabSynchronization,Date.now());return oo(t).put(Ot.key,n)},e.yt=function(){return Li.yt()},e.prototype.Xe=function(t){var n=this,r=oo(t);return r.get(Ot.key).next(function(i){return n.tn(i)?(P("IndexedDbPersistence","Releasing primary lease."),r.delete(Ot.key)):O.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(qe("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),oE()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return P("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return qe("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qe("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function oo(e){return At(e,Ot.store)}function Rs(e){return At(e,xn.store)}function nf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ny=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return W.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Wl(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new W(n)).next(function(r){var i=Lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Lc();return this.Ut.getCollectionParents(t,o).next(function(a){return O.forEach(a,function(u){var c=function(l,f){return new Pn(f,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,u.child(o));return i.An(t,c,r).next(function(l){l.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(a){return o=a,s.Rn(t,o,i).next(function(u){i=u;for(var c=0,l=o;c<l.length;c++)for(var f=l[c],h=0,d=f.mutations;h<d.length;h++){var p=d[h],m=p.key,v=i.get(m);v==null&&(v=pt.newInvalidDocument(m),i=i.insert(m,v)),kc(p,v,f.localWriteTime),v.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(a,u){fs(n,u)||(i=i.remove(a))}),i})},e.prototype.Rn=function(t,n,r){for(var i=xe(),o=0,s=n;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var c=u[a];c instanceof cr&&r.get(c.key)===null&&(i=i.add(c.key))}var l=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(l=l.insert(h,d))}),l})},e}(),eI=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=xe(),i=xe(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Dy=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ae.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var a=o.Cn(n,s);return(Us(n)||ma(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(t,n):(Dc()<=de.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pc(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(u){return a.forEach(function(c){u=u.insert(c.key,c)}),u}))})},e.prototype.Cn=function(t,n){var r=new Ke(Ym(t));return n.forEach(function(i,o){fs(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Dc()<=de.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Pc(n)),this.Sn.getDocumentsMatchingQuery(t,n,ae.min())},e}(),tI=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new gt(ce),this.Fn=new Wi(function(o){return us(o)},iu),this.$n=ae.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ny(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t,n,r){return new tI(e,t,n,r)}function Ry(e,t){return C(this,void 0,void 0,function(){var n,r,i,o;return I(this,function(s){switch(s.label){case 0:return n=V(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(a){var u;return n._n.getAllMutationBatches(a).next(function(c){return u=c,r=n.persistence.getMutationQueue(t),i=new Ny(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(c){for(var l=[],f=[],h=xe(),d=0,p=u;d<p.length;d++){var m=p[d];l.push(m.batchId);for(var v=0,w=m.mutations;v<w.length;v++){var E=w[v];h=h.add(E.key)}}for(var T=0,R=c;T<R.length;T++){var U=R[T];f.push(U.batchId);for(var G=0,ue=U.mutations;G<ue.length;G++){var te=ue[G];h=h.add(te.key)}}return i.pn(a,h).next(function(oe){return{Ln:oe,removedBatchIds:l,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function nI(e,t){var n=V(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){var l=u.batch,f=l.keys(),h=O.resolve();return f.forEach(function(d){h=h.next(function(){return c.getEntry(a,d)}).next(function(p){var m=u.docVersions.get(d);J(m!==null),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(a,l)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Py(e){var t=V(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function rI(e,t){var n=V(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(l,f){var h=i.get(f);if(h){a.push(n.qe.removeMatchingKeys(o,l.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,l.addedDocuments,f)}));var d=l.resumeToken;if(d.approximateByteSize()>0){var p=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,p),function(m,v,w){return J(v.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,l)&&a.push(n.qe.updateTargetData(o,p))}}});var u=en();if(t.documentUpdates.forEach(function(l,f){t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(iI(o,s,t.documentUpdates,r,void 0).next(function(l){u=l})),!r.isEqual(ae.min())){var c=n.qe.getLastRemoteSnapshotVersion(o).next(function(l){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(c)}return O.waitFor(a).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.kn=i,o})}function iI(e,t,n,r,i){var o=xe();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var a=en();return n.forEach(function(u,c){var l=s.get(u),f=(i==null?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ae.min())?(t.removeEntry(u,f),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c,f),a=a.insert(u,c)):P("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}function oI(e,t){var n=V(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function ba(e,t){var n=V(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,O.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new uu(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Vi(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:r=V(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Wr(s=a.sent()))throw s;return P("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function _a(e,t,n){var r=V(e),i=ae.min(),o=xe();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,c){var l=V(a),f=l.Fn.get(c);return f!==void 0?O.resolve(l.kn.get(f)):l.qe.getTargetData(u,c)}(r,s,wn(t)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:ae.min(),n?o:xe())}).next(function(a){return{documents:a,Bn:o}})})}function ky(e,t){var n=V(e),r=V(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function Ly(e){var t=V(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=V(r),a=en(),u=ef(o),c=Kn(i),l=IDBKeyRange.lowerBound(u,!0);return c.$t({index:Me.readTimeIndex,range:l},function(f,h){var d=Fc(s.R,h);a=a.insert(d.key,d),u=h.readTime}).next(function(){return{wn:a,readTime:Ey(u)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function sI(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,(t=V(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Kn(i),s=ae.min();return o.$t({index:Me.readTimeIndex,reverse:!0},function(a,u,c){u.readTime&&(s=Ey(u.readTime)),c.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aI=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return O.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),O.resolve()},e.prototype.getNamedQuery=function(t,n){return O.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Iy(r.bundledQuery),readTime:_t(r.readTime)}}(n)),O.resolve()},e}(),rf=function(){function e(){this.Wn=new Ke(We.Gn),this.zn=new Ke(We.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new We(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new We(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new W(new ge([])),i=new We(r,t),o=new We(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(a){n.Yn(a),s.push(a.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new W(new ge([])),r=new We(n,t),i=new We(n,t+1),o=xe();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new We(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),We=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return W.comparator(t.key,n.key)||ce(t.ns,n.ns)},e.Hn=function(t,n){return ce(t.ns,n.ns)||W.comparator(t.key,n.key)},e}(),uI=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ke(We.Gn)}return e.prototype.checkEmpty=function(t){return O.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new Zl(o,n,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var c=u[a];this.rs=this.rs.add(new We(c.key,o)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return O.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return O.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return O.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return O.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return O.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),O.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(ce);return n.forEach(function(o){var s=new We(o,0),a=new We(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),O.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));var s=new We(new W(o),0),a=new Ke(ce);return this.rs.forEachWhile(function(u){var c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ns)),!0)},s),O.resolve(this.us(a))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;J(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return O.forEach(n.mutations,function(o){var s=new We(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new We(n,0),i=this.rs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,O.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),cI=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new gt(W.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return O.resolve(r?r.document.clone():pt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=en();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():pt.newInvalidDocument(o))}),O.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=en(),o=new W(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,c=a.value,l=c.document,f=c.readTime;if(!n.path.isPrefixOf(u.path))break;f.compareTo(r)<=0||fs(n,l)&&(i=i.insert(l.key,l.clone()))}return O.resolve(i)},e.prototype.fs=function(t,n){return O.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new lI(this)},e.prototype.getSize=function(t){return O.resolve(this.size)},e}(),lI=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return X(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),O.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(xy),fI=function(){function e(t){this.persistence=t,this.ds=new Wi(function(n){return us(n)},iu),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ws=0,this._s=new rf,this.targetCount=0,this.ys=wa.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),O.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return O.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return O.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),O.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),O.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new wa(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,O.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),O.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,O.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(t,u.targetId)),o++)}),O.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return O.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return O.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),O.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),O.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),O.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return O.resolve(r)},e.prototype.containsKey=function(t,n){return O.resolve(this._s.containsKey(n))},e}(),hI=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Mt(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new fI(this),this.Ut=new qT,this.Ue=function(i,o){return new cI(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new _y(n),this.Ke=new aI(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new uI(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;P("MemoryPersistence","Starting transaction:",t);var o=new dI(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return O.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),dI=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return X(t,e),t}(wy),pI=function(){function e(t){this.persistence=t,this.As=new rf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw z()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),O.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),O.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),O.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.vs,function(i){var o=W.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return O.or([function(){return O.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Je=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(e,t){return"firestore_clients_"+e+"_"+t}function Nd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function qu(e,t){return"firestore_targets_"+e+"_"+t}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Dd=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new x(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(qe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),$u=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new x(i.error.code,i.error.message)),o?new e(t,i.state,r):(qe("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Od=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=au(),s=0;i&&s<r.activeTargetIds.length;++s)i=Hm(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(qe("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),gI=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qe("SharedClientState","Failed to parse online state: "+t),null)},e}(),Vc=function(){function e(){this.activeTargetIds=au()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Hu=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new gt(ce),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=xd(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Vc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,h=this;return I(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(xd(this.persistenceKey,i)))&&(s=Od.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(qu(this.persistenceKey,t));if(r){var i=$u.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(qu(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return P("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){P("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){P("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(P("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void qe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return C(n,void 0,void 0,function(){var i,o,s,a,u,c;return I(this,function(l){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(c=function(f){var h=Mt.o;if(f!=null)try{var d=JSON.parse(f);J(typeof d=="number"),h=d}catch(p){qe("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue))!==Mt.o&&this.sequenceNumberHandler(c);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Dd(this.currentUser,t,n,r),o=Nd(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=Nd(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=qu(this.persistenceKey,t),o=new $u(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Od.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Dd.Vs(new Je(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return $u.Vs(i,n)},e.prototype.js=function(t){return gI.Vs(t)},e.prototype.ii=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(P("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(c){o.has(c)||a.push(c)}),o.forEach(function(c){s.has(c)||u.push(c)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=au();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),My=function(){function e(){this.li=new Vc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Vc,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),mI=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Rd=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vI=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),wI=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return X(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,a){var u=new Y1;u.listenOnce(W1.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Bu.NO_ERROR:var l=u.getResponseJson();P("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Bu.TIMEOUT:P("Connection",'RPC "'+n+'" timed out'),a(new x(b.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:var f=u.getStatus();if(P("Connection",'RPC "'+n+'" failed with status:',f,"response text:",u.getResponseText()),f>0){var h=u.getResponseJson().error;if(h&&h.status&&h.message){var d=function(p){var m=p.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(h.status);a(new x(d,h.message))}else a(new x(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(b.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{P("Connection",'RPC "'+n+'" completed.')}});var c=JSON.stringify(o);u.send(r,"POST",c,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=z1(),s=K1(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Q1({})),this.ki(a.initMessageHeaders,r),J_()||tE()||nE()||rE()||iE()||eE()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");P("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,f=!1,h=new vI({Ei:function(p){f?P("Connection","Not sending because WebChannel is closed:",p):(l||(P("Connection","Opening WebChannel transport."),c.open(),l=!0),P("Connection","WebChannel sending:",p),c.send(p))},Ti:function(){return c.close()}}),d=function(p,m,v){p.listen(m,function(w){try{v(w)}catch(E){setTimeout(function(){throw E},0)}})};return d(c,xs.EventType.OPEN,function(){f||P("Connection","WebChannel transport opened.")}),d(c,xs.EventType.CLOSE,function(){f||(f=!0,P("Connection","WebChannel transport closed"),h.Vi())}),d(c,xs.EventType.ERROR,function(p){f||(f=!0,fa("Connection","WebChannel transport errored:",p),h.Vi(new x(b.UNAVAILABLE,"The operation could not be completed")))}),d(c,xs.EventType.MESSAGE,function(p){var m;if(!f){var v=p.data[0];J(!!v);var w=v,E=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(E){P("Connection","WebChannel received error:",E);var T=E.status,R=function(G){var ue=Be[G];if(ue!==void 0)return sy(ue)}(T),U=E.message;R===void 0&&(R=b.INTERNAL,U="Unknown error status: "+T+" with message "+E.message),f=!0,h.Vi(new x(R,U)),c.close()}else P("Connection","WebChannel received:",v),h.Si(v)}}),d(s,G1.STAT_EVENT,function(p){p.stat===Qh.PROXY?P("Connection","Detected buffering proxy"):p.stat===Qh.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);P("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(a){return P("RestConnection","Received: ",a),a},function(a){throw fa("RestConnection",t+" failed with error: ",a,"url: ",o,"request:",r),a})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=yI[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(){return typeof window<"u"?window:null}function qs(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){return new ST(e,!0)}var of=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&P("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Vy=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new of(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return C(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(qe(n.toString()),qe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===b.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new x(b.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return C(t,void 0,void 0,function(){return I(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return P("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),bI=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return X(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:z()}(s.targetChange.targetChangeType||"NO_CHANGE"),c=s.targetChange.targetIds||[],l=function(v,w){return v.I?(J(w===void 0||typeof w=="string"),St.fromBase64String(w||"")):(J(w===void 0||w instanceof Uint8Array),St.fromUint8Array(w||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(v){var w=v.code===void 0?b.UNKNOWN:sy(v.code);return new x(w,v.message||"")}(h);a=new uy(u,c,l,f||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,c=An(o,u.document.name),l=_t(u.document.updateTime);var h=new Lt({mapValue:{fields:u.document.fields}}),d=(f=pt.newFoundDocument(c,l,h),u.targetIds||[]),p=u.removedTargetIds||[];a=new js(d,p,f.key,f)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,c=An(o,u.document),l=u.readTime?_t(u.readTime):ae.min(),h=pt.newNoDocument(c,l),f=u.removedTargetIds||[],a=new js([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,c=An(o,u.document),l=u.removedTargetIds||[],a=new js([],l,c,null);else{if(!("filter"in s))return z();s.filter;var m=s.filter;m.targetId,u=m.count||0,c=new gT(u),l=m.targetId,a=new ay(l,c)}return a}(this.R,n),i=function(o){if(!("targetChange"in o))return ae.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?_t(s.readTime):ae.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=zo(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=pa(u)?{documents:dy(o,u)}:{query:py(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=cy(o,s.resumeToken):s.snapshotVersion.compareTo(ae.min())>0&&(a.readTime=$o(o,s.snapshotVersion.toTimestamp())),a}(this.R,n);var i=function(o,s){var a=function(u,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=zo(this.R),r.removeTarget=n,this.cr(r)},t}(Vy),_I=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return X(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(J(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(J(s!==void 0),o.map(function(a){return function(u,c){var l=u.updateTime?_t(u.updateTime):_t(c);return l.isEqual(ae.min())&&(l=_t(c)),new hT(l,u.transformResults||[])}(a,s)})):[]}(n.writeResults,n.commitTime),i=_t(n.commitTime);return this.listener.Tr(i,r)}return J(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=zo(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ya(r.R,o)})};this.cr(i)},t}(Vy),EI=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return X(t,e),t.prototype.br=function(){if(this.Rr)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),TI=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qe(n),this.Vr=!1):P("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),II=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return C(o,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return lr(this)?(P("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return C(this,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return(c=V(u)).Or.add(4),[4,Gi(c)];case 1:return l.sent(),c.Br.set("Unknown"),c.Or.delete(4),[4,gs(c)];case 2:return l.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new TI(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:if(!lr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Gi(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function lu(e,t){var n=V(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),uf(n)?af(n):Yi(n).er()&&sf(n,t))}function Ko(e,t){var n=V(e),r=Yi(n);n.$r.delete(t),r.er()&&Uy(n,t),n.$r.size===0&&(r.er()?r.ir():lr(n)&&n.Br.set("Unknown"))}function sf(e,t){e.qr.U(t.targetId),Yi(e).mr(t)}function Uy(e,t){e.qr.U(t),Yi(e).yr(t)}function af(e){e.qr=new ET({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Yi(e).start(),e.Br.Sr()}function uf(e){return lr(e)&&!Yi(e).tr()&&e.$r.size>0}function lr(e){return V(e).Or.size===0}function By(e){e.qr=void 0}function SI(e){return C(this,void 0,void 0,function(){return I(this,function(t){return e.$r.forEach(function(n,r){sf(e,n)}),[2]})})}function CI(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){return By(e),uf(e)?(e.Br.Nr(t),af(e)):e.Br.set("Unknown"),[2]})})}function AI(e,t,n){return C(this,void 0,void 0,function(){var r,i,o;return I(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof uy&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return C(this,void 0,void 0,function(){var c,l,f,h;return I(this,function(d){switch(d.label){case 0:c=u.cause,l=0,f=u.targetIds,d.label=1;case 1:return l<f.length?(h=f[l],a.$r.has(h)?[4,a.remoteSyncer.rejectListen(h,c)]:[3,3]):[3,5];case 2:d.sent(),a.$r.delete(h),a.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return l++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),P("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ea(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof js?e.qr.X(t):t instanceof ay?e.qr.rt(t):e.qr.et(t),n.isEqual(ae.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Py(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(a,u){var c=a.qr.ut(u);return c.targetChanges.forEach(function(l,f){if(l.resumeToken.approximateByteSize()>0){var h=a.$r.get(f);h&&a.$r.set(f,h.withResumeToken(l.resumeToken,u))}}),c.targetMismatches.forEach(function(l){var f=a.$r.get(l);if(f){a.$r.set(l,f.withResumeToken(St.EMPTY_BYTE_STRING,f.snapshotVersion)),Uy(a,l);var h=new uu(f.target,l,1,f.sequenceNumber);sf(a,h)}}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return P("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ea(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Ea(e,t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:if(!Wr(t))throw t;return e.Or.add(1),[4,Gi(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Py(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return P("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,gs(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function jy(e,t){return t().catch(function(n){return Ea(e,n,t)})}function Qi(e){return C(this,void 0,void 0,function(){var t,n,r,i,o;return I(this,function(s){switch(s.label){case 0:t=V(e),n=sr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return lr(a)&&a.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,oI(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var c=sr(a);c.er()&&c.pr&&c.Er(u.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Ea(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return qy(t)&&$y(t),[2]}})})}function qy(e){return lr(e)&&!sr(e).tr()&&e.Fr.length>0}function $y(e){sr(e).start()}function xI(e){return C(this,void 0,void 0,function(){return I(this,function(t){return sr(e).Ar(),[2]})})}function NI(e){return C(this,void 0,void 0,function(){var t,n,r,i;return I(this,function(o){for(t=sr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function DI(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=BT.from(r,t,n),[4,jy(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Qi(e)];case 2:return o.sent(),[2]}})})}function OI(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return t&&sr(e).pr?[4,function(r,i){return C(this,void 0,void 0,function(){var o,s;return I(this,function(a){switch(a.label){case 0:return oy(s=i.code)&&s!==b.ABORTED?(o=r.Fr.shift(),sr(r).sr(),[4,jy(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,Qi(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return qy(e)&&$y(e),[2]}})})}function Uc(e,t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(e),t?(n.Or.delete(2),[4,gs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Gi(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yi(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=V(n);return o.br(),new bI(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:SI.bind(null,e),Ri:CI.bind(null,e),_r:AI.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),uf(e)?af(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),By(e),r.label=3;case 3:return[2]}})})})),e.Ur}function sr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=V(n);return o.br(),new _I(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:xI.bind(null,e),Ri:OI.bind(null,e),Ir:NI.bind(null,e),Tr:DI.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Qi(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(P("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var RI=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(b.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Xi(e,t){if(qe("AsyncQueue",t+": "+e),Wr(e))return new x(b.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hy=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||W.comparator(n.key,r.key)}:function(n,r){return W.comparator(n.key,r.key)},this.keyedMap=Lc(),this.sortedSet=new gt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Pd=function(){function e(){this.Qr=new gt(W.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):z():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Ta=function(){function e(t,n,r,i,o,s,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,Hy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ls(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),PI=function(){this.Wr=void 0,this.listeners=[]},kI=function(){this.queries=new Wi(function(e){return Qm(e)},ls),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return I(this,function(c){switch(c.label){case 0:if(n=V(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new PI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Xi(a,"Initialization of query '"+Pc(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ff(n),[2]}})})}function lf(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(a){return n=V(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function LI(e,t){for(var n=V(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&ff(n)}function MI(e,t,n){var r=V(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function ff(e){e.Gr.forEach(function(t){t.next()})}var hf=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Ta(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ta.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy=function(e){this.key=e},Ky=function(e){this.key=e},Wy=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=xe(),this.mutatedKeys=xe(),this.lo=Ym(t),this.fo=new Hy(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Pd,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,c=Us(this.query)&&o.size===this.query.limit?o.last():null,l=ma(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var p=o.get(h),m=fs(r.query,d)?d:null,v=!!p&&r.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),E=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),E=!0):r.yo(p,m)||(i.track({type:2,doc:m}),E=!0,(c&&r.lo(m,c)>0||l&&r.lo(m,l)<0)&&(u=!0)):!p&&m?(i.track({type:0,doc:m}),E=!0):p&&!m&&(i.track({type:1,doc:p}),E=!0,(c||l)&&(u=!0)),E&&(m?(a=a.add(m),s=w?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),Us(this.query)||ma(this.query))for(;a.size>this.query.limit;){var f=Us(this.query)?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(l,f){return function(h,d){var p=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return p(h)-p(d)}(l.type,f.type)||i.lo(l.doc,f.doc)}),this.po(r);var a=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,c=u!==this.ao;return this.ao=u,s.length!==0||c?{snapshot:new Ta(this.query,t.fo,o,s,t.mutatedKeys,u===0,c,!1),To:a}:{To:a}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Pd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=xe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Ky(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new zy(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ta.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),FI=function(e,t,n){this.query=e,this.targetId=t,this.view=n},VI=function(e){this.key=e,this.bo=!1},UI=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Wi(function(a){return Qm(a)},ls),this.Vo=new Map,this.So=new Set,this.Do=new gt(W.comparator),this.Co=new Map,this.No=new rf,this.xo={},this.ko=new Map,this.Fo=wa.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function BI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a;return I(this,function(u){switch(u.label){case 0:return n=yf(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ba(n.localStore,wn(t))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,df(n,t,r,a==="current")];case 3:i=u.sent(),n.isPrimaryClient&&lu(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function df(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:return e.Oo=function(f,h,d){return function(p,m,v,w){return C(this,void 0,void 0,function(){var E,T,R;return I(this,function(U){switch(U.label){case 0:return E=m.view._o(v),E.Nn?[4,_a(p.localStore,m.query,!1).then(function(G){var ue=G.documents;return m.view._o(ue,E)})]:[3,2];case 1:E=U.sent(),U.label=2;case 2:return T=w&&w.targetChanges.get(m.targetId),R=m.view.applyChanges(E,p.isPrimaryClient,T),[2,(Bc(p,m.targetId,R.To),R.snapshot)]}})})}(e,f,h,d)},[4,_a(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Wy(t,i.Bn),s=o._o(i.documents),a=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=o.applyChanges(s,e.isPrimaryClient,a),Bc(e,n,u.To),c=new FI(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function jI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return n=V(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!ls(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Vi(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ko(n.remoteStore,r.targetId),Ui(n,r.targetId)}).catch(Gr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ui(n,r.targetId),[4,Vi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function qI(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:r=vf(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,c){var l,f=V(u),h=It.now(),d=c.reduce(function(p,m){return p.add(m.key)},xe());return f.persistence.runTransaction("Locally write mutations","readwrite",function(p){return f.Mn.pn(p,d).next(function(m){l=m;for(var v=[],w=0,E=c;w<E.length;w++){var T=E[w],R=pT(T,l.get(T.key));R!=null&&v.push(new cr(T.key,R,zm(R.value.mapValue),ht.exists(!0)))}return f._n.addMutationBatch(p,h,v,c)})}).then(function(p){return p.applyToLocalDocumentSet(l),{batchId:p.batchId,changes:l}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,c,l){var f=u.xo[u.currentUser.toKey()];f||(f=new gt(ce)),f=f.insert(c,l),u.xo[u.currentUser.toKey()]=f}(r,i.batchId,n),[4,fr(r,i.changes)];case 3:return a.sent(),[4,Qi(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Xi(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Gy(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:n=V(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,rI(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var a=n.Co.get(s);a&&(J(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?J(a.bo):o.removedDocuments.size>0&&(J(a.bo),a.bo=!1))}),[4,fr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function kd(e,t,n){var r=V(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=V(o);a.onlineState=s;var u=!1;a.queries.forEach(function(c,l){for(var f=0,h=l.listeners;f<h.length;f++)h[f].zr(s)&&(u=!0)}),u&&ff(a)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $I(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u;return I(this,function(c){switch(c.label){case 0:return(r=V(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new gt(W.comparator)).insert(o,pt.newNoDocument(o,ae.min())),a=xe().add(o),u=new Ql(ae.min(),new Map,new Ke(ce),s,a),[4,Gy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),mf(r),[3,4];case 2:return[4,Vi(r.localStore,t,!1).then(function(){return Ui(r,t,n)}).catch(Gr)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function HI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:n=V(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,nI(n.localStore,t)];case 2:return i=o.sent(),gf(n,r,null),pf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zI(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:r=V(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=V(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(c){var l;return u._n.lookupMutationBatch(c,a).next(function(f){return J(f!==null),l=f.keys(),u._n.removeMutationBatch(c,f)}).next(function(){return u._n.performConsistencyCheck(c)}).next(function(){return u.Mn.pn(c,l)})})}(r.localStore,t)];case 2:return i=o.sent(),gf(r,t,n),pf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,fr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function KI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(a){switch(a.label){case 0:lr((n=V(e)).remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var c=V(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(l){return c._n.getHighestUnacknowledgedBatchId(l)})}(n.localStore)];case 2:return(r=a.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Xi(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function pf(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function gf(e,t,n){var r=V(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ui(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||Qy(e,s)})}function Qy(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ko(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),mf(e))}function Bc(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof zy?(e.No.addReference(o.key,t),WI(e,o)):o instanceof Ky?(P("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Qy(e,o.key)):z()}}function WI(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(P("SyncEngine","New document in limbo: "+n),e.So.add(r),mf(e))}function mf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(ge.fromString(t)),r=e.Fo.next();e.Co.set(r,new VI(n)),e.Do=e.Do.insert(n,r),lu(e.remoteStore,new uu(wn(cs(n.path)),r,2,Mt.o))}}function fr(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:return r=V(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,c){s.push(r.Oo(c,t,n).then(function(l){if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),i.push(l);var f=eI.Pn(c.targetId,l);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,c){return C(this,void 0,void 0,function(){var l,f,h,d,p,m,v,w,E;return I(this,function(T){switch(T.label){case 0:l=V(u),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,l.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(R){return O.forEach(c,function(U){return O.forEach(U.bn,function(G){return l.persistence.referenceDelegate.addReference(R,U.targetId,G)}).next(function(){return O.forEach(U.vn,function(G){return l.persistence.referenceDelegate.removeReference(R,U.targetId,G)})})})})];case 2:return T.sent(),[3,4];case 3:if(!Wr(f=T.sent()))throw f;return P("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=c;h<d.length;h++)p=d[h],m=p.targetId,p.fromCache||(v=l.kn.get(m),w=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(w),l.kn=l.kn.insert(m,E));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function GI(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return(n=V(e)).currentUser.isEqual(t)?[3,3]:(P("SyncEngine","User change. New user:",t.toKey()),[4,Ry(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new x(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,fr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function QI(e,t){var n=V(e),r=n.Co.get(t);if(r&&r.bo)return xe().add(r.key);var i=xe(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function YI(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return[4,_a((n=V(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Bc(n,t.targetId,i.To),i)]}})})}function XI(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,Ly((t=V(e)).localStore).then(function(r){return fr(t,r)})]})})}function JI(e,t,n,r){return C(this,void 0,void 0,function(){var i,o;return I(this,function(s){switch(s.label){case 0:return[4,function(a,u){var c=V(a),l=V(c._n);return c.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return l.jt(f,u).next(function(h){return h?c.Mn.pn(f,h):O.resolve(null)})})}((i=V(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Qi(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(gf(i,t,r||null),pf(i,t),function(a,u){V(V(a)._n).Gt(u)}(i.localStore,t)):z(),s.label=4;case 4:return[4,fr(i,o)];case 5:return s.sent(),[3,7];case 6:P("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function ZI(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:return yf(n=V(e)),vf(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ld(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Uc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],lu(n.remoteStore,a);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?u.push(h):c=c.then(function(){return Ui(n,h),Vi(n.localStore,h,!0)}),Ko(n.remoteStore,h)}),[4,c]);case 4:return l.sent(),[4,Ld(n,u)];case 5:return l.sent(),function(f){var h=V(f);h.Co.forEach(function(d,p){Ko(h.remoteStore,p)}),h.No.ts(),h.Co=new Map,h.Do=new gt(W.comparator)}(n),n.$o=!1,[4,Uc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Ld(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,h,d,p,m,v;return I(this,function(w){switch(w.label){case 0:r=V(e),i=[],o=[],s=0,a=t,w.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(l=r.Vo.get(u))&&l.length!==0?[4,ba(r.localStore,wn(l[0]))]:[3,7]):[3,13];case 2:c=w.sent(),f=0,h=l,w.label=3;case 3:return f<h.length?(d=h[f],p=r.Po.get(d),[4,YI(r,p)]):[3,6];case 4:(m=w.sent()).snapshot&&o.push(m.snapshot),w.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,ky(r.localStore,u)];case 8:return v=w.sent(),[4,ba(r.localStore,v)];case 9:return c=w.sent(),[4,df(r,Yy(v),u,!1)];case 10:w.sent(),w.label=11;case 11:i.push(c),w.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function Yy(e){return Wm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eS(e){var t=V(e);return V(V(t.localStore).persistence).fn()}function tS(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s;return I(this,function(a){switch(a.label){case 0:return(i=V(e)).$o?(P("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ly(i.localStore)];case 3:return o=a.sent(),s=Ql.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,fr(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Vi(i.localStore,t,!0)];case 6:return a.sent(),Ui(i,t,r),[3,8];case 7:z(),a.label=8;case 8:return[2]}})})}function nS(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,h;return I(this,function(d){switch(d.label){case 0:if(!(r=yf(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(P("SyncEngine","Adding an already active target "+s),[3,5]):[4,ky(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,ba(r.localStore,a)];case 3:return u=d.sent(),[4,df(r,Yy(a),u.targetId,!1)];case 4:d.sent(),lu(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(p){return I(this,function(m){switch(m.label){case 0:return r.Vo.has(p)?[4,Vi(r.localStore,p,!1).then(function(){Ko(r.remoteStore,p),Ui(r,p)}).catch(Gr)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function yf(e){var t=V(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.vo._r=LI.bind(null,t.eventManager),t.vo.Mo=MI.bind(null,t.eventManager),t}function vf(e){var t=V(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zI.bind(null,t),t}var Xy=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.R=cu(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Oy(this.persistence,new Dy,t.initialUser,this.R)},e.prototype.qo=function(t){return new hI(pI.bs,this.R)},e.prototype.Bo=function(t){return new My},e.prototype.terminate=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Jy=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return X(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,sI(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,vf(this.Qo.syncEngine)];case 4:return i.sent(),[4,Qi(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Oy(this.persistence,new Dy,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new WT(r,n.asyncQueue)},t.prototype.qo=function(n){var r=nf(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ZT(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Fy(),qs(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new My},t}(Xy),rS=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return X(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Hu?(this.sharedClientState.syncEngine={ui:JI.bind(null,r),ai:tS.bind(null,r),hi:nS.bind(null,r),fn:eS.bind(null,r),ci:XI.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return C(i,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return[4,ZI(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Fy();if(!Hu.yt(r))throw new x(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=nf(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Hu(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(Jy),jc=function(){function e(){}return e.prototype.initialize=function(t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return kd(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GI.bind(null,this.syncEngine),[4,Uc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new kI},e.prototype.createDatastore=function(t){var n,r=cu(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new wI(n));return function(o,s,a){return new EI(o,s,a)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,a=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(u){return kd(a.syncEngine,u,0)},s=Rd.yt()?new Rd:new mI,new II(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,a,u,c){var l=new UI(r,i,o,s,a,u);return c&&(l.$o=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(t),P("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Gi(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),iS=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return C(this,void 0,void 0,function(){var a,u,c,l,f,h;return I(this,function(d){switch(d.label){case 0:return a=V(o),u=zo(a.R)+"/documents",c={documents:s.map(function(p){return Ho(a.R,p)})},[4,a.$i("BatchGetDocuments",u,c)];case 1:return l=d.sent(),f=new Map,l.forEach(function(p){var m=function(v,w){return"found"in w?function(E,T){J(!!T.found),T.found.name,T.found.updateTime;var R=An(E,T.found.name),U=_t(T.found.updateTime),G=new Lt({mapValue:{fields:T.found.fields}});return pt.newFoundDocument(R,U,G)}(v,w):"missing"in w?function(E,T){J(!!T.missing),J(!!T.readTime);var R=An(E,T.missing),U=_t(T.readTime);return pt.newNoDocument(R,U)}(v,w):z()}(a.R,p);f.set(m.key.toString(),m)}),h=[],[2,(s.forEach(function(p){var m=f.get(p.toString());J(!!m),h.push(m)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ps(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=W.fromPath(o);n.mutations.push(new Gl(s,n.precondition(s)))}),[4,function(i,o){return C(this,void 0,void 0,function(){var s,a,u;return I(this,function(c){switch(c.label){case 0:return s=V(i),a=zo(s.R)+"/documents",u={writes:o.map(function(l){return ya(s.R,l)})},[4,s.Ni("Commit",a,u)];case 1:return c.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw z();n=ae.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new x(b.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?ht.updateTime(n):ht.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ae.min()))throw new x(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),oS=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new of(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return C(t,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){return n=new iS(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Kr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!oy(n)}return!1},e}(),sS=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=Um.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return C(i,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return P("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return C(t,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Xi(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e,t){return C(this,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return C(i,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,Ry(t.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ev(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,wf(e)];case 1:return n=i.sent(),P("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,a){return C(this,void 0,void 0,function(){var u,c;return I(this,function(l){switch(l.label){case 0:return(u=V(s)).asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials"),c=lr(u),u.Or.add(3),[4,Gi(u)];case 1:return l.sent(),c&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return l.sent(),u.Or.delete(3),[4,gs(u)];case 3:return l.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function wf(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(P("FirestoreClient","Using default OfflineComponentProvider"),[4,Zy(e,new Xy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function hu(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(P("FirestoreClient","Using default OnlineComponentProvider"),[4,ev(e,new jc)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Md(e){return wf(e).then(function(t){return t.persistence})}function tv(e){return wf(e).then(function(t){return t.localStore})}function Fd(e){return hu(e).then(function(t){return t.remoteStore})}function nv(e){return hu(e).then(function(t){return t.syncEngine})}function Bi(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:return[4,hu(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=BI.bind(null,t.syncEngine),n.onUnlisten=jI.bind(null,t.syncEngine),n)]}})})}function Vd(e,t,n){var r=this;n===void 0&&(n={});var i=new Ct;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(a,u,c,l,f){var h=new fu({next:function(p){u.enqueueAndForget(function(){return lf(a,d)});var m=p.docs.has(c);!m&&p.fromCache?f.reject(new x(b.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new hf(cs(c.path),h,{includeMetadataChanges:!0,so:!0});return cf(a,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Ud(e,t,n){var r=this;n===void 0&&(n={});var i=new Ct;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(a,u,c,l,f){var h=new fu({next:function(p){u.enqueueAndForget(function(){return lf(a,d)}),p.fromCache&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new hf(c,h,{includeMetadataChanges:!0,so:!0});return cf(a,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var aS=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ia=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Bd=new Map,rv=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},jd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Je.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),uS=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cS=function(){function e(t){var n=this;this.currentUser=Je.UNAUTHENTICATED,this.oc=new Ct,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){P("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(P("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(P("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(J(typeof i.accessToken=="string"),new rv(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return J(t===null||typeof t=="string"),new Je(t)},e}(),lS=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Je.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),fS=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new lS(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Je.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(e,t,n){if(!n)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function _f(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new x(b.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function iv(e,t,n,r){if(t===!0&&r===!0)throw new x(b.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function qd(e){if(!W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $d(e){if(W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function du(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":z()}function ye(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new x(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=du(e);throw new x(b.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Hd(e,t){if(t<=0)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zd=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new x(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new x(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,iv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Wo=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zd({}),this._settingsFrozen=!1,t instanceof Ia?(this._databaseId=t,this._credentials=new jd):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new x(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(r.options.projectId)}(t),this._credentials=new cS(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zd(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new jd;switch(n.type){case"gapi":var r=n.client;return J(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fS(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new x(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Bd.get(t))&&(P("ComponentProvider","Removing Datastore"),Bd.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),ke=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new nr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Vt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),nr=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,cs(i))||this)._path=i,o.type="collection",o}return X(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ke(this.firestore,null,new W(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Vt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),bf("collection","path",t),e instanceof Wo)return $d(n=ge.fromString.apply(ge,Fe([t],r))),new nr(e,null,n);if(!(e instanceof ke||e instanceof nr))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $d(n=ge.fromString.apply(ge,Fe([e.path],r)).child(ge.fromString(t))),new nr(e.firestore,null,n)}function $s(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),arguments.length===1&&(t=Um.u()),bf("doc","path",t),e instanceof Wo)return qd(n=ge.fromString.apply(ge,Fe([t],r))),new ke(e,null,new W(n));if(!(e instanceof ke||e instanceof nr))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qd(n=e._path.child(ge.fromString.apply(ge,Fe([t],r)))),new ke(e.firestore,e instanceof nr?e.converter:null,new W(n))}function sv(e,t){return e=$e(e),t=$e(t),(e instanceof ke||e instanceof nr)&&(t instanceof ke||t instanceof nr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function av(e,t){return e=$e(e),t=$e(t),e instanceof Vt&&t instanceof Vt&&e.firestore===t.firestore&&ls(e._query,t._query)&&e.converter===t.converter}var hS=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new of(this,"async_queue_retry"),this.Ic=function(){var r=qs();r&&P("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=qs();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=qs();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Ct;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Wr(t=r.sent()))throw t;return P("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,qe("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=RI.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&z()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function ji(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var dS=-1,ze=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new hS,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return X(t,e),t.prototype._terminate=function(){return this._firestoreClient||uv(this),this._firestoreClient.terminate()},t}(Wo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return e._firestoreClient||uv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uv(e){var t,n=e._freezeSettings(),r=function(i,o,s,a){return new aS(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sS(e._credentials,e._queue,r)}function Kd(e,t,n){var r=this,i=new Ct;return e.asyncQueue.enqueue(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Zy(e,n)];case 1:return s.sent(),[4,ev(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===b.FAILED_PRECONDITION||a.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Wd(e){if(e._initialized||e._terminated)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),jr=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(St.fromBase64String(t))}catch(n){throw new x(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(St.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qr=function(e){this._methodName=e},pu=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new x(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new x(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ce(this._lat,t._lat)||ce(this._long,t._long)},e}(),pS=/^__.*__$/,gS=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new ds(t,this.data,n,this.fieldTransforms)},e}(),cv=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var fv=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Sa(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(lv(this.Nc)&&pS.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),mS=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||cu(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new fv({Nc:t,methodName:n,qc:r,path:rn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Yr(e){var t=e._freezeSettings(),n=cu(e._databaseId);return new mS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gu(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Sf("Data must be an object, but it was:",s,r);var a,u,c=pv(r,s);if(o.merge)a=new Ai(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=qc(t,h[f],n);if(!s.contains(d))throw new x(b.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");mv(l,d)||l.push(d)}a=new Ai(l),u=s.fieldTransforms.filter(function(p){return a.covers(p.field)})}else a=null,u=s.fieldTransforms;return new gS(new Lt(c),a,u)}var Ef=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr);function hv(e,t,n){return new fv({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var yS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype._toFieldTransform=function(n){return new hs(n.path,new Oi)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr),vS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return X(t,e),t.prototype._toFieldTransform=function(n){var r=hv(this,n,!0),i=this.Kc.map(function(s){return Xr(s,r)}),o=new Ur(i);return new hs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),wS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return X(t,e),t.prototype._toFieldTransform=function(n){var r=hv(this,n,!0),i=this.Kc.map(function(s){return Xr(s,r)}),o=new Br(i);return new hs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),bS=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return X(t,e),t.prototype._toFieldTransform=function(n){var r=new Ri(n.R,Zm(n.R,this.Qc));return new hs(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qr);function Tf(e,t,n,r){var i=e.Uc(1,t,n);Sf("Data must be an object, but it was:",i,r);var o=[],s=Lt.empty();zr(r,function(u,c){var l=Cf(t,u,n);c=$e(c);var f=i.Oc(l);if(c instanceof Ef)o.push(l);else{var h=Xr(c,f);h!=null&&(o.push(l),s.set(l,h))}});var a=new Ai(o);return new cv(s,a,i.fieldTransforms)}function If(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[qc(t,r,n)],u=[i];if(o.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(qc(t,o[c])),u.push(o[c+1]);for(var l=[],f=Lt.empty(),h=a.length-1;h>=0;--h)if(!mv(l,a[h])){var d=a[h],p=u[h];p=$e(p);var m=s.Oc(d);if(p instanceof Ef)l.push(d);else{var v=Xr(p,m);v!=null&&(l.push(d),f.set(d,v))}}var w=new Ai(l);return new cv(f,w,s.fieldTransforms)}function dv(e,t,n,r){return r===void 0&&(r=!1),Xr(n,e.Uc(r?4:3,t))}function Xr(e,t){if(gv(e=$e(e)))return Sf("Unsupported field value:",t,e),pv(e,t);if(e instanceof Qr)return function(n,r){if(!lv(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,a=n;s<a.length;s++){var u=Xr(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=$e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Zm(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=It.fromDate(n);return{timestampValue:$o(r.R,i)}}if(n instanceof It)return i=new It(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:$o(r.R,i)};if(n instanceof pu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jr)return{bytesValue:cy(r.R,n._byteString)};if(n instanceof ke){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Xl(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+du(n))}(e,t)}function pv(e,t){var n={};return jm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(e,function(r,i){var o=Xr(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof It||e instanceof pu||e instanceof jr||e instanceof ke||e instanceof Qr)}function Sf(e,t,n){if(!gv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=du(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function qc(e,t,n){if((t=$e(t))instanceof mn)return t._internalPath;if(typeof t=="string")return Cf(e,t);throw Sa("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _S=new RegExp("[~\\*/\\[\\]]");function Cf(e,t,n){if(t.search(_S)>=0)throw Sa("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(mn.bind.apply(mn,Fe([void 0],t.split("."))))()._internalPath}catch{throw Sa("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Sa(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new x(b.INVALID_ARGUMENT,(a+=". ")+e+u)}function mv(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ke(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ES(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Ca("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ES=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Go);function Ca(e,t){return typeof t=="string"?Cf(e,t):t instanceof mn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Nn=function(e){function t(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return X(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new To(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Ca("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Go),To=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Nn),Qn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new To(r._firestore,r._userDataWriter,i.key,i,new Cr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new To(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Cr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new To(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Cr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,l=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(l=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:TS(a.type),doc:u,oldIndex:c,newIndex:l}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function TS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function yv(e,t){return e instanceof Nn&&t instanceof Nn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qn&&t instanceof Qn&&e._firestore===t._firestore&&av(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(e){if(ma(e)&&e.explicitOrderBy.length===0)throw new x(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ms=function(){};function jn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var IS=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return X(t,e),t.prototype._apply=function(n){var r=Yr(n.firestore),i=function(o,s,a,u,c,l,f){var h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new x(b.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l+"' queries on FieldPath.documentId().");if(l==="in"||l==="not-in"){Jd(f,l);for(var d=[],p=0,m=f;p<m.length;p++){var v=m[p];d.push(Xd(u,o,v))}h={arrayValue:{values:d}}}else h=Xd(u,o,f)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Jd(f,l),h=dv(a,"where",f,l==="in"||l==="not-in");var w=Ft.create(c,l,h);return function(E,T){if(T.g()){var R=Kl(E);if(R!==null&&!R.isEqual(T.field))throw new x(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+R.toString()+"' and '"+T.field.toString()+"'");var U=zl(E);U!==null&&bv(E,T.field,U)}var G=function(ue,te){for(var oe=0,ve=ue.filters;oe<ve.length;oe++){var Pe=ve[oe];if(te.indexOf(Pe.op)>=0)return Pe.op}return null}(E,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(T.op));if(G!==null)throw G===T.op?new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+T.op.toString()+"' filter."):new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use '"+T.op.toString()+"' filters with '"+G.toString()+"' filters.")}(o,w),w}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vt(n.firestore,n.converter,function(o,s){var a=o.filters.concat([s]);return new Pn(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(ms),SS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return X(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new vi(o,s);return function(u,c){if(zl(u)===null){var l=Kl(u);l!==null&&bv(u,l,c.field)}}(i,a),a}(n._query,this.jc,this.zc);return new Vt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new Pn(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(ms),Gd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return X(t,e),t.prototype._apply=function(n){return new Vt(n.firestore,n.converter,Gm(n._query,this.Hc,this.Jc))},t}(ms),Qd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return X(t,e),t.prototype._apply=function(n){var r=wv(n,this.type,this.Yc,this.Xc);return new Vt(n.firestore,n.converter,function(i,o){return new Pn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(ms),Yd=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return X(t,e),t.prototype._apply=function(n){var r=wv(n,this.type,this.Yc,this.Xc);return new Vt(n.firestore,n.converter,function(i,o){return new Pn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(ms);function wv(e,t,n,r){if(n[0]=$e(n[0]),n[0]instanceof Go)return function(o,s,a,u,c){if(!u)throw new x(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var l=[],f=0,h=Di(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())l.push(da(s,u.key));else{var p=u.data.field(d.field);if(ql(p))throw new x(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){var m=d.field.canonicalString();throw new x(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}l.push(p)}}return new qo(l,c)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Yr(e.firestore);return function(o,s,a,u,c,l){var f=o.explicitOrderBy;if(c.length>f.length)throw new x(b.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<c.length;d++){var p=c[d];if(f[d].field.isKeyField()){if(typeof p!="string")throw new x(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof p);if(!Wl(o)&&p.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+p+"' contains a slash.");var m=o.path.child(ge.fromString(p));if(!W.isDocumentKey(m))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var v=new W(m);h.push(da(s,v))}else{var w=dv(a,u,p);h.push(w)}}return new qo(h,l)}(e._query,e.firestore._databaseId,i,t,n,r)}function Xd(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wl(t)&&n.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ge.fromString(n));if(!W.isDocumentKey(r))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return da(e,new W(r))}if(n instanceof ke)return da(e,n._key);throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+du(n)+".")}function Jd(e,t){if(!Array.isArray(e)||e.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new x(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bv(e,t,n){if(!n.isEqual(t))throw new x(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Af=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw z()}},e.prototype.convertObject=function(t,n){var r=this,i={};return zr(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new pu(je(t.latitude),je(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=$m(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bo(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=or(t);return new It(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ge.fromString(t);J(yy(r));var i=new Ia(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||qe("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var CS=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return X(t,e),t.prototype.convertBytes=function(n){return new jr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ke(this.firestore,null,r)},t}(Af),AS=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Yn(t,this._firestore),o=mu(i.converter,n,r),s=gu(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ht.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Yn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof mn?If(this._dataReader,"WriteBatch.update",a._key,n,r,i):Tf(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ht.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Yn(t,this._firestore);return this._mutations=this._mutations.concat(new ps(n._key,ht.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new x(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,t){if((e=$e(e)).firestore!==t)throw new x(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return X(t,e),t.prototype.convertBytes=function(n){return new jr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ke(this.firestore,null,r)},t}(Af);function Zd(e,t,n){e=ye(e,ke);var r=ye(e.firestore,ze),i=mu(e.converter,t,n);return ys(r,[gu(Yr(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ht.none())])}function ep(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ye(e,ke);var o=ye(e.firestore,ze),s=Yr(o);return ys(o,[(typeof(t=$e(t))=="string"||t instanceof mn?If(s,"updateDoc",e._key,t,n,r):Tf(s,"updateDoc",e._key,t)).toMutation(e._key,ht.exists(!0))])}function _v(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=$e(e);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||ji(i[a])||(s=i[a],a++);var u,c,l,f={includeMetadataChanges:s.includeMetadataChanges};if(ji(i[a])){var h=i[a];i[a]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[a+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof ke)c=ye(e.firestore,ze),l=cs(e._key.path),u={next:function(m){i[a]&&i[a]($c(c,e,m))},error:i[a+1],complete:i[a+2]};else{var d=ye(e,Vt);c=ye(d.firestore,ze),l=d._query;var p=new Rr(c);u={next:function(m){i[a]&&i[a](new Qn(c,p,d,m))},error:i[a+1],complete:i[a+2]},vv(e._query)}return function(m,v,w,E){var T=this,R=new fu(E),U=new hf(v,R,w);return m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var G;return I(this,function(ue){switch(ue.label){case 0:return G=cf,[4,Bi(m)];case 1:return[2,G.apply(void 0,[ue.sent(),U])]}})})}),function(){R.Wo(),m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var G;return I(this,function(ue){switch(ue.label){case 0:return G=lf,[4,Bi(m)];case 1:return[2,G.apply(void 0,[ue.sent(),U])]}})})})}}(ut(c),l,f,u)}function ys(e,t){return function(n,r){var i=this,o=new Ct;return n.asyncQueue.enqueueAndForget(function(){return C(i,void 0,void 0,function(){var s;return I(this,function(a){switch(a.label){case 0:return s=qI,[4,nv(n)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(ut(e),t)}function $c(e,t,n){var r=n.docs.get(t._key),i=new Rr(e);return new Nn(e,i,t._key,r,new Cr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xS=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return X(t,e),t.prototype.get=function(n){var r=this,i=Yn(n,this._firestore),o=new Rr(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new Nn(r._firestore,o,i._key,s._document,new Cr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Yr(t)}return e.prototype.get=function(t){var n=this,r=Yn(t,this._firestore),i=new CS(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return z();var s=o[0];if(s.isFoundDocument())return new Go(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Go(n._firestore,i,r._key,null,r.converter);throw z()})},e.prototype.set=function(t,n,r){var i=Yn(t,this._firestore),o=mu(i.converter,n,r),s=gu(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=Yn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof mn?If(this._dataReader,"Transaction.update",a._key,n,r,i):Tf(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(t){var n=Yn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){if(typeof Uint8Array>"u")throw new x(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function np(){if(typeof atob>"u")throw new x(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ev=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return np(),new e(jr.fromBase64String(t))},e.fromUint8Array=function(t){return tp(),new e(jr.fromUint8Array(t))},e.prototype.toBase64=function(){return np(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return tp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),NS=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Wd(r=ye(r,ze));var o=ut(r),s=r._freezeSettings(),a=new jc;return Kd(o,a,new Jy(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Wd(n=ye(n,ze));var r=ut(n),i=n._freezeSettings(),o=new jc;return Kd(r,o,new rS(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new x(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Ct;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return C(this,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return Li.yt()?(u=a+"main",[4,Li.delete(u)]):[2,Promise.resolve()];case 1:return c.sent(),[2]}})})}(nf(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),Tv=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ia||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var c=(i=ye(i,Wo))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==o&&fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:o+":"+s,ssl:!1})),a.mockUserToken){var l,f;if(typeof a.mockUserToken=="string")l=a.mockUserToken,f=Je.MOCK_USER;else{l=X_(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var h=a.mockUserToken.sub||a.mockUserToken.user_id;if(!h)throw new x(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Je(h)}i._credentials=new uS(new rv(l,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Md(t)];case 1:return r=o.sent(),[4,Fd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=V(s);return a.Or.delete(0),gs(a)}(i))]}})})})}(ut(ye(this._delegate,ze)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Md(t)];case 1:return r=o.sent(),[4,Fd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return C(this,void 0,void 0,function(){var a;return I(this,function(u){switch(u.label){case 0:return(a=V(s)).Or.add(0),[4,Gi(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(ut(ye(this._delegate,ze)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&iv("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Ct;return t.asyncQueue.enqueueAndForget(function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=KI,[4,nv(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(ut(ye(this._delegate,ze)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,a=new fu(o);return i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return u=function(l,f){V(l).Gr.add(f),f.next()},[4,Bi(i)];case 1:return[2,u.apply(void 0,[c.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return u=function(l,f){V(l).Gr.delete(f)},[4,Bi(i)];case 1:return[2,u.apply(void 0,[c.sent(),a])]}})})})}}(ut(n=ye(n,ze)),ji(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Aa(this,ov(this._delegate,t))}catch(n){throw yt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Pr(this,$s(this._delegate,t))}catch(n){throw yt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new wu(this,function(n,r){if(n=ye(n,Wo),bf("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vt(n,null,function(i){return new Pn(ge.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw yt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var a=this,u=new Ct;return o.asyncQueue.enqueueAndForget(function(){return C(a,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return[4,function(f){return hu(f).then(function(h){return h.datastore})}(o)];case 1:return c=l.sent(),new oS(o.asyncQueue,c,s,u).run(),[2]}})})}),u.promise}(ut(r),function(o){return i(new xS(r,o))})}(this._delegate,function(r){return t(new Iv(n,r))})},e.prototype.batch=function(){var t=this;return ut(this._delegate),new Sv(new AS(this._delegate,function(n){return ys(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new x(b.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new x(b.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),yu=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return X(t,e),t.prototype.convertBytes=function(n){return new Ev(new jr(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Pr.eu(r,this.firestore,null)},t}(Af);function DS(e){var t;t=e,Zt.setLogLevel(t)}var Iv=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new yu(t)}return e.prototype.get=function(t){var n=this,r=Ar(t);return this._delegate.get(r).then(function(i){return new Qo(n._firestore,new Nn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ar(t);return r?(_f("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Ar(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Fe([a,n,r],o)),this},e.prototype.delete=function(t){var n=Ar(t);return this._delegate.delete(n),this},e}(),Sv=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ar(t);return r?(_f("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Ar(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Fe([a,n,r],o)),this},e.prototype.delete=function(t){var n=Ar(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),vu=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new To(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yo(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new yu(t),n),i.set(n,o)),o},e}();vu.su=new WeakMap;var Pr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new yu(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ke(n._delegate,r,new W(t)))},e.eu=function(t,n,r){return new e(n,new ke(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Aa(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Aa(this.firestore,ov(this._delegate,t))}catch(n){throw yt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=$e(t))instanceof ke&&sv(this._delegate,t)},e.prototype.set=function(t,n){n=_f("DocumentReference.set",n);try{return n?Zd(this._delegate,t,n):Zd(this._delegate,t)}catch(r){throw yt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?ep(this._delegate,t):ep.apply(void 0,Fe([this._delegate,t,n],r))}catch(o){throw yt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ys(ye((t=this._delegate).firestore,ze),[new ps(t._key,ht.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Cv(n),o=Av(n,function(s){return new Qo(t.firestore,new Nn(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return _v(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ye(r,ke);var i=ye(r.firestore,ze),o=ut(i),s=new Rr(i);return function(a,u){var c=this,l=new Ct;return a.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var v,w;return I(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,function(T,R){var U=V(T);return U.persistence.runTransaction("read document","readonly",function(G){return U.Mn.mn(G,R)})}(d,p)];case 1:return(w=E.sent()).isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new x(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return v=E.sent(),w=Xi(v,"Failed to get document '"+p+" from cache"),m.reject(w),[3,3];case 3:return[2]}})})},[4,tv(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,l])]}})})}),l.promise}(o,r._key).then(function(a){return new Nn(i,s,r._key,a,new Cr(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ye(r,ke);var i=ye(r.firestore,ze);return Vd(ut(i),r._key,{source:"server"}).then(function(o){return $c(i,r,o)})}(this._delegate):function(r){r=ye(r,ke);var i=ye(r.firestore,ze);return Vd(ut(i),r._key).then(function(o){return $c(i,r,o)})}(this._delegate)).then(function(r){return new Qo(n.firestore,new Nn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vu.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yt(e,t,n){return e.message=e.message.replace(t,n),e}function Cv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!ji(r))return r}return{}}function Av(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=ji(e[0])?e[0]:ji(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Qo=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Pr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return yv(this._delegate,t._delegate)},e}(),Yo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return X(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Qo),wu=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new yu(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,jn(this._delegate,function(i,o,s){var a=o,u=Ca("where",i);return new IS(u,a,s)}(t,n,r)))}catch(i){throw yt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=Ca("orderBy",r);return new SS(s,o)}(t,n)))}catch(r){throw yt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jn(this._delegate,function(n){return Hd("limit",n),new Gd("limit",n,"F")}(t)))}catch(n){throw yt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jn(this._delegate,function(n){return Hd("limitToLast",n),new Gd("limitToLast",n,"L")}(t)))}catch(n){throw yt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Qd("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw yt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Qd("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw yt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Yd("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw yt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Yd("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw yt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return av(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ye(r,Vt);var i=ye(r.firestore,ze),o=ut(i),s=new Rr(i);return function(a,u){var c=this,l=new Ct;return a.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var v,w,E,T,R;return I(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,_a(d,p,!0)];case 1:return R=U.sent(),v=new Wy(p,R.Bn),w=v._o(R.documents),E=v.applyChanges(w,!1),m.resolve(E.snapshot),[3,3];case 2:return T=U.sent(),R=Xi(T,"Failed to execute query '"+p+" against cache"),m.reject(R),[3,3];case 3:return[2]}})})},[4,tv(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,l])]}})})}),l.promise}(o,r._query).then(function(a){return new Qn(i,s,r,a)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ye(r,Vt);var i=ye(r.firestore,ze),o=ut(i),s=new Rr(i);return Ud(o,r._query,{source:"server"}).then(function(a){return new Qn(i,s,r,a)})}(this._delegate):function(r){r=ye(r,Vt);var i=ye(r.firestore,ze),o=ut(i),s=new Rr(i);return vv(r._query),Ud(o,r._query).then(function(a){return new Qn(i,s,r,a)})}(this._delegate)).then(function(r){return new Hc(n.firestore,new Qn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Cv(n),o=Av(n,function(s){return new Hc(t.firestore,new Qn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return _v(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(vu.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),OS=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Yo(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Hc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new wu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Yo(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new OS(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Yo(r._firestore,i))})},e.prototype.isEqual=function(t){return yv(this._delegate,t._delegate)},e}(),Aa=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return X(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Pr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Pr(this.firestore,n===void 0?$s(this._delegate):$s(this._delegate,n))}catch(r){throw yt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=ye(i.firestore,ze),a=$s(i),u=mu(i.converter,o);return ys(s,[gu(Yr(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,ht.exists(!1))]).then(function(){return a})}(this._delegate,n).then(function(i){return new Pr(r.firestore,i)})},t.prototype.isEqual=function(n){return sv(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(vu.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(wu);function Ar(e){return ye(e,ke)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(mn.bind.apply(mn,Fe([void 0],t)))}return e.documentId=function(){return new e(rn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=$e(t))instanceof mn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),PS=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new yS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ef("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new vS("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new wS("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new bS("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),kS={Firestore:Tv,GeoPoint:pu,Timestamp:It,Blob:Ev,Transaction:Iv,WriteBatch:Sv,DocumentReference:Pr,DocumentSnapshot:Qo,Query:wu,QueryDocumentSnapshot:Yo,QuerySnapshot:Hc,CollectionReference:Aa,FieldPath:RS,FieldValue:PS,setLogLevel:DS,CACHE_SIZE_UNLIMITED:dS};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(e){(function(t,n){t.INTERNAL.registerComponent(new Ha("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},kS)))})(e,function(t,n){return new Tv(t,new ze(t,n),new NS)}),e.registerVersion("@firebase/firestore","2.4.1")}LS(Jo);const MS={apiKey:"AIzaSyBjnnmlPU6Or-arX15JZpLP1QHzEtgtkWQ",authDomain:"custom-repeater-251017.firebaseapp.com",projectId:"custom-repeater-251017",storageBucket:"custom-repeater-251017.appspot.com",messagingSenderId:"1070416993819",appId:"1:1070416993819:web:3e8a874288fe9245bf22be",measurementId:"G-JSZ62S3HLJ"},FS=Jo.initializeApp(MS),VS=FS.firestore(),xv=VS.collection("quizes"),US=async e=>xv.add(e),zc=async e=>{let t=await xv.where("quizId","==",e).limit(1).get();return t=t.docs.filter(n=>n.data())[0],console.log(t),t!==void 0&&t.exists?t.data():null},BS=D_({history:Wb("/boba-quiz/"),routes:[{path:"/",name:"home",component:()=>Ts(()=>import("./HomeView.3331298a.js"),[])},{path:"/create",name:"create",beforeEnter:async(e,t,n)=>{if(t.name!=="home")n({name:"home"});else{let r=jS();n({name:"createQuiz",params:{quizId:r}})}}},{path:"/create/:quizId",name:"createQuiz",component:()=>Ts(()=>import("./CreateQuizView.6c73d335.js"),["assets/CreateQuizView.6c73d335.js","assets/CreateQuizView.49e66127.css","assets/_plugin-vue_export-helper.cdc0426e.js"])},{path:"/complete",name:"chooseQuiz",component:()=>Ts(()=>import("./ChooseQuizView.3d41fa49.js"),["assets/ChooseQuizView.3d41fa49.js","assets/_plugin-vue_export-helper.cdc0426e.js"])},{path:"/complete/:quizId",component:()=>Ts(()=>import("./CompleteQuizView.f5115304.js"),["assets/CompleteQuizView.f5115304.js","assets/_plugin-vue_export-helper.cdc0426e.js"]),name:"completeQuiz",beforeEnter:async(e,t,n)=>{await zc(e.params.quizId)===null&&n({name:"chooseQuiz",query:{error:"1"}}),n()}}]});function jS(){for(var e=8,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,i=t.length;r<e;++r)n+=t.charAt(Math.floor(Math.random()*i));return n}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var qS="store";function Ji(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function $S(e){return e!==null&&typeof e=="object"}function HS(e){return e&&typeof e.then=="function"}function zS(e,t){return function(){return e(t)}}function Nv(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Dv(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;bu(e,n,[],e._modules.root,!0),xf(e,n,t)}function xf(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};Ji(i,function(s,a){o[a]=zS(s,e),Object.defineProperty(e.getters,a,{get:function(){return o[a]()},enumerable:!0})}),e._state=$r({data:t}),e.strict&&YS(e),r&&n&&e._withCommit(function(){r.data=null})}function bu(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=Nf(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){a[u]=r.state})}var c=r.context=KS(e,s,n);r.forEachMutation(function(l,f){var h=s+f;WS(e,h,l,c)}),r.forEachAction(function(l,f){var h=l.root?f:s+f,d=l.handler||l;GS(e,h,d,c)}),r.forEachGetter(function(l,f){var h=s+f;QS(e,h,l,c)}),r.forEachChild(function(l,f){bu(e,t,n.concat(f),l,i)})}function KS(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,s,a){var u=xa(o,s,a),c=u.payload,l=u.options,f=u.type;return(!l||!l.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(o,s,a){var u=xa(o,s,a),c=u.payload,l=u.options,f=u.type;(!l||!l.root)&&(f=t+f),e.commit(f,c,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return Ov(e,t)}},state:{get:function(){return Nf(e.state,n)}}}),i}function Ov(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function WS(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function GS(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return HS(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):a})}function QS(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function YS(e){yi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Nf(e,t){return t.reduce(function(n,r){return n[r]},e)}function xa(e,t,n){return $S(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var XS="vuex bindings",rp="vuex:mutations",zu="vuex:actions",oi="vuex",JS=0;function ZS(e,t){Nb({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[XS]},function(n){n.addTimelineLayer({id:rp,label:"Vuex Mutations",color:ip}),n.addTimelineLayer({id:zu,label:"Vuex Actions",color:ip}),n.addInspector({id:oi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===oi)if(r.filter){var i=[];Lv(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[kv(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===oi){var i=r.nodeId;Ov(t,i),r.state=nC(iC(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===oi){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(oi),n.sendInspectorState(oi),n.addTimelineEvent({layerId:rp,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=JS++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:zu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:zu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var ip=8702998,eC=6710886,tC=16777215,Rv={label:"namespaced",textColor:tC,backgroundColor:eC};function Pv(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function kv(e,t){return{id:t||"root",label:Pv(t),tags:e.namespaced?[Rv]:[],children:Object.keys(e._children).map(function(n){return kv(e._children[n],t+n+"/")})}}function Lv(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Rv]:[]}),Object.keys(t._children).forEach(function(i){Lv(e,t._children[i],n,r+i+"/")})}function nC(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=rC(t);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?Pv(s):s,editable:!1,value:Kc(function(){return o[s]})}})}return i}function rC(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Kc(function(){return e[n]})}else t[n]=Kc(function(){return e[n]})}),t}function iC(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function Kc(e){try{return e()}catch(t){return t}}var on=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Mv={namespaced:{configurable:!0}};Mv.namespaced.get=function(){return!!this._rawModule.namespaced};on.prototype.addChild=function(t,n){this._children[t]=n};on.prototype.removeChild=function(t){delete this._children[t]};on.prototype.getChild=function(t){return this._children[t]};on.prototype.hasChild=function(t){return t in this._children};on.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};on.prototype.forEachChild=function(t){Ji(this._children,t)};on.prototype.forEachGetter=function(t){this._rawModule.getters&&Ji(this._rawModule.getters,t)};on.prototype.forEachAction=function(t){this._rawModule.actions&&Ji(this._rawModule.actions,t)};on.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ji(this._rawModule.mutations,t)};Object.defineProperties(on.prototype,Mv);var Jr=function(t){this.register([],t,!1)};Jr.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Jr.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Jr.prototype.update=function(t){Fv([],this.root,t)};Jr.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new on(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&Ji(n.modules,function(a,u){i.register(t.concat(u),a,r)})};Jr.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};Jr.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Fv(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Fv(e.concat(r),t.getChild(r),n.modules[r])}}function oC(e){return new xt(e)}var xt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Jr(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var s=this,a=this,u=a.dispatch,c=a.commit;this.dispatch=function(h,d){return u.call(s,h,d)},this.commit=function(h,d,p){return c.call(s,h,d,p)},this.strict=i;var l=this._modules.root.state;bu(this,l,[],this._modules.root),xf(this,l),r.forEach(function(f){return f(n)})},Df={state:{configurable:!0}};xt.prototype.install=function(t,n){t.provide(n||qS,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&ZS(t,this)};Df.state.get=function(){return this._state.data};Df.state.set=function(e){};xt.prototype.commit=function(t,n,r){var i=this,o=xa(t,n,r),s=o.type,a=o.payload,u={type:s,payload:a},c=this._mutations[s];!c||(this._withCommit(function(){c.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(l){return l(u,i.state)}))};xt.prototype.dispatch=function(t,n){var r=this,i=xa(t,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._actions[o];if(!!u){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var c=u.length>1?Promise.all(u.map(function(l){return l(s)})):u[0](s);return new Promise(function(l,f){c.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};xt.prototype.subscribe=function(t,n){return Nv(t,this._subscribers,n)};xt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Nv(r,this._actionSubscribers,n)};xt.prototype.watch=function(t,n,r){var i=this;return yi(function(){return t(i.state,i.getters)},n,Object.assign({},r))};xt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};xt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),bu(this,this.state,t,this._modules.get(t),r.preserveState),xf(this,this.state)};xt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Nf(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Dv(this)};xt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};xt.prototype.hotUpdate=function(t){this._modules.update(t),Dv(this,!0)};xt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(xt.prototype,Df);const sC=oC({state(){return{count:0}},mutations:{SAVE_QUIZ_DB(e,t){}},actions:{async createQuiz(e,t){let n=null;try{return await zc(t.quizId)===null?(n=await US({quizId:t.quizId,quizData:t.quizData}),console.log("Quiz successfully created"),n=!0,n):(n=!1,console.log("Quiz with mentioned ID already exists"),n)}catch(r){console.log(r)}}},getters:{getQuizFromDB:e=>async t=>await zc(t)}});var ln={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,o=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:o}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let r=0;r<t.length;r++){if(t[r]===e)return n;t[r].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=t.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return e?e.querySelectorAll(t):[]},findSingle(e,t){return e?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=n.height,i=n.width,o=t.offsetHeight,s=t.offsetWidth,a=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),l=this.getViewport(),f,h;a.top+o+r>l.height?(f=a.top+u-r,e.style.transformOrigin="bottom",f<0&&(f=u)):(f=o+a.top+u,e.style.transformOrigin="top"),a.left+i>l.width?h=Math.max(0,a.left+c+s-i):h=a.left+c,e.style.top=f+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,e.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,e.style.transformOrigin="top"),n.width>o.width?a=i.left*-1:i.left+n.width>o.width?a=(i.left+n.width-o.width)*-1:a=0,e.style.top=s+"px",e.style.left=a+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=o=>{let s=window.getComputedStyle(o,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))};for(let o of n){let s=o.nodeType===1&&o.dataset.scrollselectors;if(s){let a=s.split(",");for(let u of a){let c=this.findSingle(o,u);c&&i(c)&&t.push(c)}}o.nodeType!==9&&i(o)&&t.push(o)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}},fadeOut(e,t){if(e){let n=1,r=50,i=t,o=r/i,s=setInterval(()=>{n-=o,n<=0&&(n=0,clearInterval(s)),e.style.opacity=n},r)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,c=e.scrollTop,l=e.clientHeight,f=this.getOuterHeight(t);u<0?e.scrollTop=c+u:u+f>l&&(e.scrollTop=c+u-l+f)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of n)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let r=document.createElement("a");r.download!==void 0?(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}},aC={equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)},deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!this.deepEquals(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,u=t instanceof Date;if(a!=u)return!1;if(a&&u)return e.getTime()==t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!=l)return!1;if(c&&l)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[i]))return!1;for(i=o;i--!==0;)if(s=f[i],!this.deepEquals(e[s],t[s]))return!1;return!0}return e!==e&&t!==t},resolveFieldData(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let i=t.split("."),o=e;for(var n=0,r=i.length;n<r;++n){if(o==null)return null;o=o[i[n]]}return o}}else return null},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},getItemValue(e,...t){return this.isFunction(e)?e(...t):e},filter(e,t,n){var r=[];if(e){for(let i of e)for(let o of t)if(String(this.resolveFieldData(i,o)).toLowerCase().indexOf(n.toLowerCase())>-1){r.push(i);break}}return r},reorderArray(e,t,n){let r;if(e&&t!==n){if(n>=e.length)for(r=n-e.length;r--+1;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}},findIndexInList(e,t){let n=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]===e){n=r;break}}return n},contains(e,t){if(e!=null&&t&&t.length){for(let n of t)if(this.equals(e,n))return!0}return!1},insertIntoOrderedArray(e,t,n,r){if(n.length>0){let i=!1;for(let o=0;o<n.length;o++)if(this.findIndexInList(n[o],r)>t){n.splice(o,0,e),i=!0;break}i||n.push(e)}else n.push(e)},removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp(e,t){let n=e.props;if(n){let r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=Object.prototype.hasOwnProperty.call(n,r)?r:t;return e.type.props[t].type===Boolean&&n[i]===""?!0:n[i]}return null},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0},isNotEmpty(e){return!this.isEmpty(e)},isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}},op=0;function uC(e="pv_id_"){return op++,`${e}${op}`}const st={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},sp={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close"}},filterMatchModeOptions:{text:[st.STARTS_WITH,st.CONTAINS,st.NOT_CONTAINS,st.ENDS_WITH,st.EQUALS,st.NOT_EQUALS],numeric:[st.EQUALS,st.NOT_EQUALS,st.LESS_THAN,st.LESS_THAN_OR_EQUAL_TO,st.GREATER_THAN,st.GREATER_THAN_OR_EQUAL_TO],date:[st.DATE_IS,st.DATE_IS_NOT,st.DATE_BEFORE,st.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},cC=Symbol();var lC={install:(e,t)=>{let n=t?{...sp,...t}:{...sp};const r={config:$r(n)};e.config.globalProperties.$primevue=r,e.provide(cC,r)}},fC=Object.defineProperty,hC=Object.defineProperties,dC=Object.getOwnPropertyDescriptors,ap=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable,up=(e,t,n)=>t in e?fC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hn=(e,t)=>{for(var n in t||(t={}))pC.call(t,n)&&up(e,n,t[n]);if(ap)for(var n of ap(t))gC.call(t,n)&&up(e,n,t[n]);return e},Of=(e,t)=>hC(e,dC(t));const lo={type:"default",timeout:5e3,showCloseButton:!0,position:"top-right",transition:"bounce",hideProgressBar:!1,swipeClose:!0};var kr,qn;(qn=kr||(kr={}))[qn.TITLE_ONLY=0]="TITLE_ONLY",qn[qn.TITLE_DESCRIPTION=1]="TITLE_DESCRIPTION",qn[qn.COMPONENT=2]="COMPONENT",qn[qn.VNODE=3]="VNODE";const mC={"top-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"},"top-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"top-center":{bounce:"mosha__bounceInDown",zoom:"mosha__zoomIn",slide:"mosha__slideInDown"},"bottom-center":{bounce:"mosha__bounceInUp",zoom:"mosha__zoomIn",slide:"mosha__slideInUp"},"bottom-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"bottom-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"}},cp=(e,t=300)=>{let n;return(...r)=>{n&&(clearTimeout(n),n=void 0),n=setTimeout(()=>e(...r),t)}},yC=(e,t,n)=>{const r=$t(),i=$t(void 0),o=$t(),s=c=>c instanceof MouseEvent,a=c=>{n!==!1&&r.value&&(s(c)?i.value=r.value.clientX-c.clientX:i.value=r.value.touches[0].clientX-c.touches[0].clientX,o.value=Of(hn({},o.value),{transition:"none"}),e.endsWith("left")?o.value.left=-i.value+"px !important":e.endsWith("right")?o.value.right=`${i.value}px !important`:i.value>0?o.value.left=-i.value+"px !important":o.value.right=`${i.value}px !important`,Math.abs(i.value)>200&&t())},u=c=>{n!==!1&&(r.value&&(r.value=void 0),i.value&&(i.value=void 0),removeEventListener(c,a))};return No(()=>{n!==!1&&(u("mousemove"),u("touchmove"))}),{swipedDiff:i,swipeStart:r,swipeStyle:o,swipeHandler:a,startSwipeHandler:c=>{if(n===!1)return;r.value=c;const l=s(c)?"mousemove":"touchmove",f=s(c)?"mouseup":"touchend";addEventListener(l,a),addEventListener(f,()=>(h=>{const d={transition:"left .3s ease-out",left:0},p={transition:"right .3s ease-out",right:0},m={transition:"all .3s ease-out",left:0,right:0};e.endsWith("left")?o.value=hn(hn({},o.value),d):e.endsWith("right")?o.value=hn(hn({},o.value),p):o.value=hn(hn({},o.value),m),r.value=void 0,i.value=void 0,removeEventListener(h,a)})(l))},cleanUpMove:u}};var Vv=Fa({props:{type:{type:String,default:"default"}}});const vC={class:"mosha__icon"},wC={key:0,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},bC=pe("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),_C={key:1,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},EC=pe("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),TC={key:2,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},IC=pe("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),SC=pe("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"},null,-1),CC={key:3,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#616161"},AC=pe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),xC=pe("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),NC={key:4,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},DC=pe("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),OC=pe("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1);Vv.render=function(e,t,n,r,i,o){return Se(),Xe("span",vC,[e.type==="warning"?(Se(),Xe("svg",wC,[bC])):e.type==="danger"?(Se(),Xe("svg",_C,[EC])):e.type==="success"?(Se(),Xe("svg",TC,[IC,SC])):e.type==="default"?(Se(),Xe("svg",CC,[AC,xC])):(Se(),Xe("svg",NC,[DC,OC]))])};var Hs=Fa({name:"MToast",components:{MIcon:Vv},props:{visible:Boolean,text:{type:String,default:""},description:{type:String,default:""},toastBackgroundColor:{type:String,default:""},type:{type:String,default:"default"},onClose:{type:Function,default:()=>null},onCloseHandler:{type:Function,required:!0},offset:{type:Number,required:!0},id:{type:Number,required:!0},timeout:{type:Number,default:5e3},position:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},swipeClose:{type:Boolean,default:!0},hideProgressBar:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},transition:{type:String,default:"bounce"}},setup(e,t){const n=$t(),{width:r}=(()=>{const E=$t(-1),T=$t(-1),R=U=>{U!==null&&U.currentTarget!==null&&(E.value=U.currentTarget.innerWidth,T.value=U.currentTarget.innerHeight)};return go(()=>{window.innerWidth>0&&(E.value=window.innerWidth,T.value=window.innerHeight),window.addEventListener("resize",cp(R))}),No(()=>{window.removeEventListener("resize",cp(R))}),{width:E,height:T}})(),{swipedDiff:i,startSwipeHandler:o,swipeStyle:s,cleanUpMove:a}=yC(e.position,e.onCloseHandler,e.swipeClose),{transitionType:u}=(c=e.position,l=e.transition,f=i,{transitionType:ct(()=>f.value>200?"mosha__fadeOutLeft":f.value<-200?"mosha__fadeOutRight":mC[c][l])});var c,l,f;const{start:h,stop:d,progress:p}=((E,T)=>{const R=$t(),U=$t(0),G=$t(T),ue=$t(),te=$t(100),oe=()=>{clearInterval(ue.value),clearTimeout(R.value)};return go(()=>{}),No(()=>{oe()}),{start:()=>{U.value=Date.now(),clearTimeout(R.value),ue.value=setInterval(()=>{te.value--},T/100-5),R.value=setTimeout(E,G.value)},stop:()=>{clearInterval(ue.value),clearTimeout(R.value),G.value-=Date.now()-U.value},clear:oe,progress:te}})(()=>{e.onCloseHandler()},e.timeout),m=ct(()=>t.slots.default),v=ct(()=>/<\/?[a-z][\s\S]*>/i.test(e.description)),w=()=>{e.timeout>0&&h()};return Xw(()=>{const{customStyle:E}=((T,R,U)=>{const G=ct(()=>{switch(T){case"top-left":return{left:"0",top:`${R}px`};case"bottom-left":return{left:"0",bottom:`${R}px`};case"bottom-right":return{right:"0",bottom:`${R}px`};case"top-center":return{top:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};case"bottom-center":return{bottom:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};default:return{right:"0",top:`${R}px`}}});return U.length>0&&(G.value.backgroundColor=U),{customStyle:G}})(e.position,e.offset,e.toastBackgroundColor);n.value=E.value}),go(()=>{w()}),{style:n,transitionType:u,startTimer:w,progress:p,onTouchStart:E=>{o(E)},onMouseLeave:()=>{a("mousemove"),w()},onMouseDown:E=>{o(E)},swipeStyle:s,isSlotPassed:m,isDescriptionHtml:v,onMouseEnter:()=>{e.timeout>0&&r.value>425&&d()}}}});const RC={class:"mosha__toast__content-wrapper"},PC={class:"mosha__toast__content"},kC={class:"mosha__toast__content__text"},LC={key:1,class:"mosha__toast__content__description"},MC={key:0,class:"mosha__toast__slot-wrapper"};Hs.render=function(e,t,n,r,i,o){const s=h0("MIcon");return Se(),Xe(qa,{name:e.transitionType,type:"animation"},{default:Nr(()=>[e.visible?(Se(),Xe("div",{key:0,class:["mosha__toast",e.toastBackgroundColor?null:e.type],style:[e.style,e.swipeStyle],onMouseenter:t[2]||(t[2]=(...a)=>e.onMouseEnter&&e.onMouseEnter(...a)),onMouseleave:t[3]||(t[3]=(...a)=>e.onMouseLeave&&e.onMouseLeave(...a)),onTouchstartPassive:t[4]||(t[4]=(...a)=>e.onTouchStart&&e.onTouchStart(...a)),onMousedown:t[5]||(t[5]=(...a)=>e.onMouseDown&&e.onMouseDown(...a))},[pe("div",RC,[e.showIcon?(Se(),Xe(s,{key:0,type:e.type},null,8,["type"])):Rt("",!0),pe("div",PC,[pe("div",kC,bi(e.text),1),e.description.length>0&&e.isDescriptionHtml?(Se(),Xe("div",{key:0,class:"mosha__toast__content__description",innerHTML:e.description},null,8,["innerHTML"])):Rt("",!0),e.description.length>0&&!e.isDescriptionHtml?(Se(),Xe("div",LC,bi(e.description),1)):Rt("",!0)])]),e.isSlotPassed?(Se(),Xe("div",MC,[Cn(e.$slots,"default")])):Rt("",!0),e.showCloseButton?(Se(),Xe("div",{key:1,class:"mosha__toast__close-icon",onClick:t[1]||(t[1]=(...a)=>e.onCloseHandler&&e.onCloseHandler(...a))})):Rt("",!0),e.hideProgressBar?Rt("",!0):(Se(),Xe("div",{key:2,class:"mosha__toast__progress",style:{width:`${e.progress}%`}},null,4))],38)):Rt("",!0)]),_:3},8,["name"])};const Na={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[],"top-center":[],"bottom-center":[]};let FC=0;const gA=(e,t)=>{const n=FC++,r=t?VC(t):lo;if(e.__v_isVNode)return Ku(n,kr.VNODE,r,e),{close:()=>wi(n,r.position)};if(e.hasOwnProperty("render"))return Ku(n,kr.COMPONENT,r,e),{close:()=>wi(n,r.position)};const i=UC(e);return Ku(n,kr.TITLE_DESCRIPTION,r,i),{close:()=>wi(n,r.position)}},Ku=(e,t,n,r)=>{setTimeout(()=>{const i=BC(n,Na,12),o=document.createElement("div");let s;document.body.appendChild(o),s=t===kr.VNODE?pe(Hs,Wu(n,e,i,wi),()=>[r]):t===kr.TITLE_DESCRIPTION?pe(Hs,Wu(n,e,i,wi,r)):pe(Hs,Wu(n,e,i,wi),()=>[pe(r)]),gg(s,o),Na[n.position].push({toastVNode:s,container:o}),s.component&&(s.component.props.visible=!0)},1)},Wu=(e,t,n,r,i)=>Of(hn(hn({},e),i),{id:t,offset:n,visible:!1,onCloseHandler:()=>{r(t,e.position?e.position:"top-right")}}),VC=e=>{const t=Of(hn({},e),{type:e.type||lo.type,timeout:e.timeout||lo.timeout,showCloseButton:e.showCloseButton,position:e.position||lo.position,showIcon:e.showIcon,swipeClose:e.swipeClose,transition:e.transition||lo.transition});return t.hideProgressBar=t.timeout!==void 0&&t.timeout<=0,e.hideProgressBar!==void 0&&(t.hideProgressBar=e.hideProgressBar),t},UC=e=>({text:typeof e=="string"?e:e.title,description:typeof e=="string"?void 0:e.description}),BC=(e,t,n)=>{let r=n;if(!e.position)throw new Error("no position");return t[e.position].forEach(({toastVNode:i})=>{r+=i.el.offsetHeight+n||0}),r},wi=(e,t)=>{const n=Na[t],r=n.findIndex(({toastVNode:a})=>a.props&&e===a.props.id);if(r===-1)return;const{container:i,toastVNode:o}=n[r];if(!o.el)return;const s=o.el.offsetHeight;Na[t].splice(r,1),((a,u,c,l)=>{for(let f=a;f<u.length;f++){const{toastVNode:h}=u[f];if(!h.el)return;const d=c.split("-")[0]||"top",p=parseInt(h.el.style[d],10)-l-12;if(!h.component)return;h.component.props.offset=p}})(r,n,t,s),o.component&&(o.component.props.visible=!1,o.component.props.onClose&&o.component.props.onClose(),setTimeout(()=>{gg(null,i),document.body.removeChild(i)},1e3))};var Uv={name:"Divider",props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},computed:{containerClass(){return["p-divider p-component","p-divider-"+this.layout,"p-divider-"+this.type,{"p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left")},{"p-divider-center":this.layout==="horizontal"&&this.align==="center"},{"p-divider-right":this.layout==="horizontal"&&this.align==="right"},{"p-divider-top":this.layout==="vertical"&&this.align==="top"},{"p-divider-center":this.layout==="vertical"&&(!this.align||this.align==="center")},{"p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}]}}};const jC={key:0,class:"p-divider-content"};function qC(e,t,n,r,i,o){return Se(),pn("div",{class:zt(o.containerClass),role:"separator"},[e.$slots.default?(Se(),pn("div",jC,[Cn(e.$slots,"default")])):Rt("",!0)],2)}function $C(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var HC=`
.p-divider-horizontal {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    width: 100%;
    position: relative;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-horizontal:before {
    position: absolute;
    display: block;
    top: 50%;
    left: 0;
    width: 100%;
    content: "";
}
.p-divider-horizontal.p-divider-left {
    -webkit-box-pack: start;
        -ms-flex-pack: start;
            justify-content: flex-start;
}
.p-divider-horizontal.p-divider-right {
    -webkit-box-pack: end;
        -ms-flex-pack: end;
            justify-content: flex-end;
}
.p-divider-horizontal.p-divider-center {
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-content {
    z-index: 1;
}
.p-divider-vertical {
    min-height: 100%;
    margin: 0 1rem;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    position: relative;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-vertical:before {
    position: absolute;
    display: block;
    top: 0;
    left: 50%;
    height: 100%;
    content: "";
}
.p-divider-vertical.p-divider-top {
    -webkit-box-align: start;
        -ms-flex-align: start;
            align-items: flex-start;
}
.p-divider-vertical.p-divider-center {
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-vertical.p-divider-bottom {
    -webkit-box-align: end;
        -ms-flex-align: end;
            align-items: flex-end;
}
.p-divider-solid.p-divider-horizontal:before {
    border-top-style: solid;
}
.p-divider-solid.p-divider-vertical:before {
    border-left-style: solid;
}
.p-divider-dashed.p-divider-horizontal:before {
    border-top-style: dashed;
}
.p-divider-dashed.p-divider-vertical:before {
    border-left-style: dashed;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-top-style: dotted;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-left-style: dotted;
}
`;$C(HC);Uv.render=qC;function zC(e){e.addEventListener("mousedown",Bv)}function KC(e){e.removeEventListener("mousedown",Bv)}function WC(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),e.appendChild(t),t.addEventListener("animationend",jv)}function GC(e){let t=qv(e);t&&(KC(e),t.removeEventListener("animationend",jv),t.remove())}function Bv(e){let t=e.currentTarget,n=qv(t);if(!n||getComputedStyle(n,null).display==="none")return;if(ln.removeClass(n,"p-ink-active"),!ln.getHeight(n)&&!ln.getWidth(n)){let s=Math.max(ln.getOuterWidth(t),ln.getOuterHeight(t));n.style.height=s+"px",n.style.width=s+"px"}let r=ln.getOffset(t),i=e.pageX-r.left+document.body.scrollTop-ln.getWidth(n)/2,o=e.pageY-r.top+document.body.scrollLeft-ln.getHeight(n)/2;n.style.top=o+"px",n.style.left=i+"px",ln.addClass(n,"p-ink-active")}function jv(e){ln.removeClass(e.currentTarget,"p-ink-active")}function qv(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const $v={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(WC(e),zC(e))},unmounted(e){GC(e)}};var Hv={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(e){this.d_collapsed=e}},methods:{toggle(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return uC()}},directives:{ripple:$v}};const QC={class:"p-fieldset-legend"},YC=["id"],XC=["id","aria-controls","aria-expanded"],JC={class:"p-fieldset-legend-text"},ZC=["id","aria-labelledby"],eA={class:"p-fieldset-content"};function tA(e,t,n,r,i,o){const s=Qp("ripple");return Se(),pn("fieldset",{class:zt(["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}])},[Ue("legend",QC,[n.toggleable?Rt("",!0):Cn(e.$slots,"legend",{key:0},()=>[Ue("span",{class:"p-fieldset-legend-text",id:o.ariaId+"_header"},bi(n.legend),9,YC)]),n.toggleable?ic((Se(),pn("a",{key:1,tabindex:"0",onClick:t[0]||(t[0]=(...a)=>o.toggle&&o.toggle(...a)),onKeydown:t[1]||(t[1]=yb((...a)=>o.toggle&&o.toggle(...a),["enter"])),id:o.ariaId+"_header","aria-controls":o.ariaId+"_content","aria-expanded":!i.d_collapsed},[Ue("span",{class:zt(o.iconClass)},null,2),Cn(e.$slots,"legend",{},()=>[Ue("span",JC,bi(n.legend),1)])],40,XC)),[[s]]):Rt("",!0)]),pe(qa,{name:"p-toggleable-content"},{default:Nr(()=>[ic(Ue("div",{class:"p-toggleable-content",role:"region",id:o.ariaId+"_content","aria-labelledby":o.ariaId+"_header"},[Ue("div",eA,[Cn(e.$slots,"default")])],8,ZC),[[vb,!i.d_collapsed]])]),_:3})],2)}function nA(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var rA=`
.p-fieldset-legend > a,
.p-fieldset-legend > span {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-fieldset-toggleable .p-fieldset-legend a {
    cursor: pointer;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
}
.p-fieldset-legend-text {
    line-height: 1;
}
`;nA(rA);Hv.render=tA;var zv={name:"RadioButton",emits:["click","update:modelValue","change","focus","blur"],props:{value:null,modelValue:null,name:{type:String,default:null},disabled:{type:Boolean,default:!1},inputId:null,inputClass:null,inputStyle:null,inputProps:null,"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){this.disabled||(this.$emit("click",e),this.$emit("update:modelValue",this.value),this.$refs.input.focus(),this.checked||this.$emit("change",e))},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{checked(){return this.modelValue!=null&&aC.equals(this.modelValue,this.value)},containerClass(){return["p-radiobutton p-component",{"p-radiobutton-checked":this.checked,"p-radiobutton-disabled":this.disabled,"p-radiobutton-focused":this.focused}]}}};const iA={class:"p-hidden-accessible"},oA=["id","name","checked","disabled","value","aria-labelledby","aria-label"],sA=Ue("div",{class:"p-radiobutton-icon"},null,-1),aA=[sA];function uA(e,t,n,r,i,o){return Se(),pn("div",{class:zt(o.containerClass),onClick:t[2]||(t[2]=s=>o.onClick(s))},[Ue("div",iA,[Ue("input",cg({ref:"input",type:"radio",id:n.inputId,class:n.inputClass,style:n.inputStyle,name:n.name,checked:o.checked,disabled:n.disabled,value:n.value,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=(...s)=>o.onFocus&&o.onFocus(...s)),onBlur:t[1]||(t[1]=(...s)=>o.onBlur&&o.onBlur(...s))},n.inputProps),null,16,oA)]),Ue("div",{ref:"box",class:zt(["p-radiobutton-box",{"p-highlight":o.checked,"p-disabled":n.disabled,"p-focus":i.focused}])},aA,2)],2)}zv.render=uA;var Kv={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:$v}};const cA=["aria-label","disabled"],lA={class:"p-button-label"};function fA(e,t,n,r,i,o){const s=Qp("ripple");return ic((Se(),pn("button",{class:zt(o.buttonClass),type:"button","aria-label":o.defaultAriaLabel,disabled:o.disabled},[Cn(e.$slots,"default",{},()=>[n.loading&&!n.icon?(Se(),pn("span",{key:0,class:zt(o.iconClass)},null,2)):Rt("",!0),n.icon?(Se(),pn("span",{key:1,class:zt(o.iconClass)},null,2)):Rt("",!0),Ue("span",lA,bi(n.label||"\xA0"),1),n.badge?(Se(),pn("span",{key:2,class:zt(o.badgeStyleClass)},bi(n.badge),3)):Rt("",!0)])],10,cA)),[[s]])}Kv.render=fA;const Gu={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,o=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:o}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let r=0;r<t.length;r++){if(t[r]===e)return n;t[r].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=t.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return e?e.querySelectorAll(t):[]},findSingle(e,t){return e?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=n.height,i=n.width,o=t.offsetHeight,s=t.offsetWidth,a=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),l=this.getViewport(),f,h;a.top+o+r>l.height?(f=a.top+u-r,e.style.transformOrigin="bottom",f<0&&(f=u)):(f=o+a.top+u,e.style.transformOrigin="top"),a.left+i>l.width?h=Math.max(0,a.left+c+s-i):h=a.left+c,e.style.top=f+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,e.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,e.style.transformOrigin="top"),n.width>o.width?a=i.left*-1:i.left+n.width>o.width?a=(i.left+n.width-o.width)*-1:a=0,e.style.top=s+"px",e.style.left=a+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=o=>{let s=window.getComputedStyle(o,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))};for(let o of n){let s=o.nodeType===1&&o.dataset.scrollselectors;if(s){let a=s.split(",");for(let u of a){let c=this.findSingle(o,u);c&&i(c)&&t.push(c)}}o.nodeType!==9&&i(o)&&t.push(o)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}},fadeOut(e,t){if(e){let n=1,r=50,i=t,o=r/i,s=setInterval(()=>{n-=o,n<=0&&(n=0,clearInterval(s)),e.style.opacity=n},r)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,c=e.scrollTop,l=e.clientHeight,f=this.getOuterHeight(t);u<0?e.scrollTop=c+u:u+f>l&&(e.scrollTop=c+u-l+f)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of n)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let r=document.createElement("a");r.download!==void 0?(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}},kn=bb(q_);kn.component("Divider",Uv);kn.component("Fieldset",Hv);kn.component("RadioButton",zv);kn.component("Button",Kv);kn.use(BS);kn.use(sC);kn.use(lC);kn.directive("ripple",{mounted(e,t){e.addEventListener("click",n=>{let r=Gu.getOffset(n.currentTarget);n.target.offsetWidth,n.target.offsetHeight;let i=n.pageX-r.left+document.body.scrollTop-Gu.getWidth(n.currentTarget)/2,o=n.pageY-r.top+document.body.scrollLeft-Gu.getHeight(n.currentTarget)/2;console.log(n),console.log(i,o),console.log(e.getBoundingClientRect());const s=document.createElement("span");s.style.left=i+"px",s.style.top=o+"px",s.classList.add("ripple"),s.setAttribute("style","top:"+o+"px; left:"+i+"px;"),n.target.appendChild(s),setTimeout(function(){s.parentNode.removeChild(s)},500)})}});kn.mount("#app");export{Ht as F,xg as R,pe as a,Ue as b,pn as c,cl as d,h0 as e,ic as f,hA as g,yb as h,vb as i,gA as j,pA as k,Xe as l,Gc as m,kp as n,Se as o,Rt as p,Cn as r,bi as t,Jn as u,dA as v,Nr as w};
