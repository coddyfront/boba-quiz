(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yc(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Xv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jv=Yc(Xv);function gp(e){return!!e||e===""}function Xc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ye(r)?tw(r):Xc(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ye(e))return e;if(Ue(e))return e}}const Zv=/;(?![^(]*\))/g,ew=/:(.+)/;function tw(e){const t={};return e.split(Zv).forEach(n=>{if(n){const r=n.split(ew);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Kt(e){let t="";if(Ye(e))t=e;else if(ee(e))for(let n=0;n<e.length;n++){const r=Kt(e[n]);r&&(t+=r+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function nw(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ws(e[r],t[r]);return n}function Ws(e,t){if(e===t)return!0;let n=qf(e),r=qf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=So(e),r=So(t),n||r)return e===t;if(n=ee(e),r=ee(t),n||r)return n&&r?nw(e,t):!1;if(n=Ue(e),r=Ue(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(a&&!u||!a&&u||!Ws(e[s],t[s]))return!1}}return String(e)===String(t)}const or=e=>Ye(e)?e:e==null?"":ee(e)||Ue(e)&&(e.toString===wp||!ie(e.toString))?JSON.stringify(e,mp,2):String(e),mp=(e,t)=>t&&t.__v_isRef?mp(e,t.value):yi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:yp(t)?{[`Set(${t.size})`]:[...t.values()]}:Ue(t)&&!ee(t)&&!bp(t)?String(t):t,Ce={},mi=[],en=()=>{},rw=()=>!1,iw=/^on[^a-z]/,Pa=e=>iw.test(e),Jc=e=>e.startsWith("onUpdate:"),nt=Object.assign,Zc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ow=Object.prototype.hasOwnProperty,de=(e,t)=>ow.call(e,t),ee=Array.isArray,yi=e=>Jo(e)==="[object Map]",yp=e=>Jo(e)==="[object Set]",qf=e=>Jo(e)==="[object Date]",ie=e=>typeof e=="function",Ye=e=>typeof e=="string",So=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",vp=e=>Ue(e)&&ie(e.then)&&ie(e.catch),wp=Object.prototype.toString,Jo=e=>wp.call(e),sw=e=>Jo(e).slice(8,-1),bp=e=>Jo(e)==="[object Object]",el=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ps=Yc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),La=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},aw=/-(\w)/g,wn=La(e=>e.replace(aw,(t,n)=>n?n.toUpperCase():"")),uw=/\B([A-Z])/g,zr=La(e=>e.replace(uw,"-$1").toLowerCase()),Ma=La(e=>e.charAt(0).toUpperCase()+e.slice(1)),Su=La(e=>e?`on${Ma(e)}`:""),Co=(e,t)=>!Object.is(e,t),Ls=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Qs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Gs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bf;const cw=()=>Bf||(Bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let fn;class lw{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&fn&&(this.parent=fn,this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=fn;try{return fn=this,t()}finally{fn=n}}}on(){fn=this}off(){fn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function fw(e,t=fn){t&&t.active&&t.effects.push(e)}const tl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},_p=e=>(e.w&sr)>0,Ep=e=>(e.n&sr)>0,hw=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=sr},dw=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];_p(i)&&!Ep(i)?i.delete(e):t[n++]=i,i.w&=~sr,i.n&=~sr}t.length=n}},Zu=new WeakMap;let ao=0,sr=1;const ec=30;let Jt;const Or=Symbol(""),tc=Symbol("");class nl{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,fw(this,r)}run(){if(!this.active)return this.fn();let t=Jt,n=er;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Jt,Jt=this,er=!0,sr=1<<++ao,ao<=ec?hw(this):jf(this),this.fn()}finally{ao<=ec&&dw(this),sr=1<<--ao,Jt=this.parent,er=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(jf(this),this.onStop&&this.onStop(),this.active=!1)}}function jf(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let er=!0;const Tp=[];function $i(){Tp.push(er),er=!1}function zi(){const e=Tp.pop();er=e===void 0?!0:e}function Bt(e,t,n){if(er&&Jt){let r=Zu.get(e);r||Zu.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=tl()),Ip(i)}}function Ip(e,t){let n=!1;ao<=ec?Ep(e)||(e.n|=sr,n=!_p(e)):n=!e.has(Jt),n&&(e.add(Jt),Jt.deps.push(e))}function Rn(e,t,n,r,i,o){const s=Zu.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&ee(e))s.forEach((u,c)=>{(c==="length"||c>=r)&&a.push(u)});else switch(n!==void 0&&a.push(s.get(n)),t){case"add":ee(e)?el(n)&&a.push(s.get("length")):(a.push(s.get(Or)),yi(e)&&a.push(s.get(tc)));break;case"delete":ee(e)||(a.push(s.get(Or)),yi(e)&&a.push(s.get(tc)));break;case"set":yi(e)&&a.push(s.get(Or));break}if(a.length===1)a[0]&&nc(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);nc(tl(u))}}function nc(e,t){const n=ee(e)?e:[...e];for(const r of n)r.computed&&$f(r);for(const r of n)r.computed||$f(r)}function $f(e,t){(e!==Jt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const pw=Yc("__proto__,__v_isRef,__isVue"),Sp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(So)),gw=rl(),mw=rl(!1,!0),yw=rl(!0),zf=vw();function vw(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ve(this);for(let o=0,s=this.length;o<s;o++)Bt(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$i();const r=ve(this)[t].apply(this,n);return zi(),r}}),e}function rl(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?Pw:Dp:t?Np:xp).get(r))return r;const s=ee(r);if(!e&&s&&de(zf,i))return Reflect.get(zf,i,o);const a=Reflect.get(r,i,o);return(So(i)?Sp.has(i):pw(i))||(e||Bt(r,"get",i),t)?a:lt(a)?s&&el(i)?a:a.value:Ue(a)?e?Op(a):Hr(a):a}}const ww=Cp(),bw=Cp(!0);function Cp(e=!1){return function(n,r,i,o){let s=n[r];if(Ao(s)&&lt(s)&&!lt(i))return!1;if(!e&&!Ao(i)&&(rc(i)||(i=ve(i),s=ve(s)),!ee(n)&&lt(s)&&!lt(i)))return s.value=i,!0;const a=ee(n)&&el(r)?Number(r)<n.length:de(n,r),u=Reflect.set(n,r,i,o);return n===ve(o)&&(a?Co(i,s)&&Rn(n,"set",r,i):Rn(n,"add",r,i)),u}}function _w(e,t){const n=de(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Rn(e,"delete",t,void 0),r}function Ew(e,t){const n=Reflect.has(e,t);return(!So(t)||!Sp.has(t))&&Bt(e,"has",t),n}function Tw(e){return Bt(e,"iterate",ee(e)?"length":Or),Reflect.ownKeys(e)}const Ap={get:gw,set:ww,deleteProperty:_w,has:Ew,ownKeys:Tw},Iw={get:yw,set(e,t){return!0},deleteProperty(e,t){return!0}},Sw=nt({},Ap,{get:mw,set:bw}),il=e=>e,Fa=e=>Reflect.getPrototypeOf(e);function bs(e,t,n=!1,r=!1){e=e.__v_raw;const i=ve(e),o=ve(t);n||(t!==o&&Bt(i,"get",t),Bt(i,"get",o));const{has:s}=Fa(i),a=r?il:n?al:xo;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function _s(e,t=!1){const n=this.__v_raw,r=ve(n),i=ve(e);return t||(e!==i&&Bt(r,"has",e),Bt(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Es(e,t=!1){return e=e.__v_raw,!t&&Bt(ve(e),"iterate",Or),Reflect.get(e,"size",e)}function Hf(e){e=ve(e);const t=ve(this);return Fa(t).has.call(t,e)||(t.add(e),Rn(t,"add",e,e)),this}function Kf(e,t){t=ve(t);const n=ve(this),{has:r,get:i}=Fa(n);let o=r.call(n,e);o||(e=ve(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Co(t,s)&&Rn(n,"set",e,t):Rn(n,"add",e,t),this}function Wf(e){const t=ve(this),{has:n,get:r}=Fa(t);let i=n.call(t,e);i||(e=ve(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Rn(t,"delete",e,void 0),o}function Qf(){const e=ve(this),t=e.size!==0,n=e.clear();return t&&Rn(e,"clear",void 0,void 0),n}function Ts(e,t){return function(r,i){const o=this,s=o.__v_raw,a=ve(s),u=t?il:e?al:xo;return!e&&Bt(a,"iterate",Or),s.forEach((c,l)=>r.call(i,u(c),u(l),o))}}function Is(e,t,n){return function(...r){const i=this.__v_raw,o=ve(i),s=yi(o),a=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=i[e](...r),l=n?il:t?al:xo;return!t&&Bt(o,"iterate",u?tc:Or),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function Fn(e){return function(...t){return e==="delete"?!1:this}}function Cw(){const e={get(o){return bs(this,o)},get size(){return Es(this)},has:_s,add:Hf,set:Kf,delete:Wf,clear:Qf,forEach:Ts(!1,!1)},t={get(o){return bs(this,o,!1,!0)},get size(){return Es(this)},has:_s,add:Hf,set:Kf,delete:Wf,clear:Qf,forEach:Ts(!1,!0)},n={get(o){return bs(this,o,!0)},get size(){return Es(this,!0)},has(o){return _s.call(this,o,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:Ts(!0,!1)},r={get(o){return bs(this,o,!0,!0)},get size(){return Es(this,!0)},has(o){return _s.call(this,o,!0)},add:Fn("add"),set:Fn("set"),delete:Fn("delete"),clear:Fn("clear"),forEach:Ts(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Is(o,!1,!1),n[o]=Is(o,!0,!1),t[o]=Is(o,!1,!0),r[o]=Is(o,!0,!0)}),[e,n,t,r]}const[Aw,xw,Nw,Dw]=Cw();function ol(e,t){const n=t?e?Dw:Nw:e?xw:Aw;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(de(n,i)&&i in r?n:r,i,o)}const Ow={get:ol(!1,!1)},Rw={get:ol(!1,!0)},kw={get:ol(!0,!1)},xp=new WeakMap,Np=new WeakMap,Dp=new WeakMap,Pw=new WeakMap;function Lw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mw(e){return e.__v_skip||!Object.isExtensible(e)?0:Lw(sw(e))}function Hr(e){return Ao(e)?e:sl(e,!1,Ap,Ow,xp)}function Fw(e){return sl(e,!1,Sw,Rw,Np)}function Op(e){return sl(e,!0,Iw,kw,Dp)}function sl(e,t,n,r,i){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Mw(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function vi(e){return Ao(e)?vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Ao(e){return!!(e&&e.__v_isReadonly)}function rc(e){return!!(e&&e.__v_isShallow)}function Rp(e){return vi(e)||Ao(e)}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function kp(e){return Qs(e,"__v_skip",!0),e}const xo=e=>Ue(e)?Hr(e):e,al=e=>Ue(e)?Op(e):e;function Pp(e){er&&Jt&&(e=ve(e),Ip(e.dep||(e.dep=tl())))}function Lp(e,t){e=ve(e),e.dep&&nc(e.dep)}function lt(e){return!!(e&&e.__v_isRef===!0)}function Ht(e){return Mp(e,!1)}function Vw(e){return Mp(e,!0)}function Mp(e,t){return lt(e)?e:new Uw(e,t)}class Uw{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ve(t),this._value=n?t:xo(t)}get value(){return Pp(this),this._value}set value(t){t=this.__v_isShallow?t:ve(t),Co(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:xo(t),Lp(this))}}function yn(e){return lt(e)?e.value:e}const qw={get:(e,t,n)=>yn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return lt(i)&&!lt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Fp(e){return vi(e)?e:new Proxy(e,qw)}class Bw{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new nl(t,()=>{this._dirty||(this._dirty=!0,Lp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=ve(this);return Pp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function jw(e,t,n=!1){let r,i;const o=ie(e);return o?(r=e,i=en):(r=e.get,i=e.set),new Bw(r,i,o||!i,n)}function tr(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){Va(o,t,n)}return i}function Wt(e,t,n,r){if(ie(e)){const o=tr(e,t,n,r);return o&&vp(o)&&o.catch(s=>{Va(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Wt(e[o],t,n,r));return i}function Va(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,s,a)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){tr(u,null,10,[e,s,a]);return}}$w(e,n,i,r)}function $w(e,t,n,r=!0){console.error(e)}let Ys=!1,ic=!1;const Mt=[];let Sn=0;const ho=[];let uo=null,ui=0;const po=[];let Hn=null,ci=0;const Vp=Promise.resolve();let ul=null,oc=null;function cl(e){const t=ul||Vp;return e?t.then(this?e.bind(this):e):t}function zw(e){let t=Sn+1,n=Mt.length;for(;t<n;){const r=t+n>>>1;No(Mt[r])<e?t=r+1:n=r}return t}function Up(e){(!Mt.length||!Mt.includes(e,Ys&&e.allowRecurse?Sn+1:Sn))&&e!==oc&&(e.id==null?Mt.push(e):Mt.splice(zw(e.id),0,e),qp())}function qp(){!Ys&&!ic&&(ic=!0,ul=Vp.then($p))}function Hw(e){const t=Mt.indexOf(e);t>Sn&&Mt.splice(t,1)}function Bp(e,t,n,r){ee(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),qp()}function Kw(e){Bp(e,uo,ho,ui)}function Ww(e){Bp(e,Hn,po,ci)}function Ua(e,t=null){if(ho.length){for(oc=t,uo=[...new Set(ho)],ho.length=0,ui=0;ui<uo.length;ui++)uo[ui]();uo=null,ui=0,oc=null,Ua(e,t)}}function jp(e){if(Ua(),po.length){const t=[...new Set(po)];if(po.length=0,Hn){Hn.push(...t);return}for(Hn=t,Hn.sort((n,r)=>No(n)-No(r)),ci=0;ci<Hn.length;ci++)Hn[ci]();Hn=null,ci=0}}const No=e=>e.id==null?1/0:e.id;function $p(e){ic=!1,Ys=!0,Ua(e),Mt.sort((n,r)=>No(n)-No(r));const t=en;try{for(Sn=0;Sn<Mt.length;Sn++){const n=Mt[Sn];n&&n.active!==!1&&tr(n,null,14)}}finally{Sn=0,Mt.length=0,jp(),Ys=!1,ul=null,(Mt.length||ho.length||po.length)&&$p(e)}}function Qw(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ce;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[l]||Ce;h&&(i=n.map(d=>d.trim())),f&&(i=n.map(Gs))}let a,u=r[a=Su(t)]||r[a=Su(wn(t))];!u&&o&&(u=r[a=Su(zr(t))]),u&&Wt(u,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Wt(c,e,6,i)}}function zp(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!ie(e)){const u=c=>{const l=zp(c,t,!0);l&&(a=!0,nt(s,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!a?(r.set(e,null),null):(ee(o)?o.forEach(u=>s[u]=null):nt(s,o),r.set(e,s),s)}function qa(e,t){return!e||!Pa(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(e,t[0].toLowerCase()+t.slice(1))||de(e,zr(t))||de(e,t))}let ft=null,Hp=null;function Xs(e){const t=ft;return ft=e,Hp=e&&e.type.__scopeId||null,t}function Qt(e,t=ft,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&oh(-1);const o=Xs(t),s=e(...i);return Xs(o),r._d&&oh(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Cu(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:m}=e;let v,w;const E=Xs(e);try{if(n.shapeFlag&4){const R=i||r;v=gn(l.call(R,R,f,o,d,h,p)),w=u}else{const R=t;v=gn(R.length>1?R(o,{attrs:u,slots:a,emit:c}):R(o,null)),w=t.props?u:Gw(u)}}catch(R){yo.length=0,Va(R,e,1),v=le(Gt)}let T=v;if(w&&m!==!1){const R=Object.keys(w),{shapeFlag:U}=T;R.length&&U&7&&(s&&R.some(Jc)&&(w=Yw(w,s)),T=ar(T,w))}return n.dirs&&(T=ar(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),v=T,Xs(E),v}const Gw=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pa(n))&&((t||(t={}))[n]=e[n]);return t},Yw=(e,t)=>{const n={};for(const r in e)(!Jc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Xw(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Gf(r,s,c):!!s;if(u&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(s[h]!==r[h]&&!qa(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Gf(r,s,c):!0:!!s;return!1}function Gf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!qa(n,o))return!0}return!1}function Jw({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Zw=e=>e.__isSuspense;function e0(e,t){t&&t.pendingBranch?ee(e)?t.effects.push(...e):t.effects.push(e):Ww(e)}function Ms(e,t){if(Ge){let n=Ge.provides;const r=Ge.parent&&Ge.parent.provides;r===n&&(n=Ge.provides=Object.create(r)),n[e]=t}}function nr(e,t,n=!1){const r=Ge||ft;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&ie(t)?t.call(r.proxy):t}}function t0(e,t){return ll(e,null,t)}const Yf={};function wi(e,t,n){return ll(e,t,n)}function ll(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Ce){const a=Ge;let u,c=!1,l=!1;if(lt(e)?(u=()=>e.value,c=rc(e)):vi(e)?(u=()=>e,r=!0):ee(e)?(l=!0,c=e.some(w=>vi(w)||rc(w)),u=()=>e.map(w=>{if(lt(w))return w.value;if(vi(w))return Cr(w);if(ie(w))return tr(w,a,2)})):ie(e)?t?u=()=>tr(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return f&&f(),Wt(e,a,3,[h])}:u=en,t&&r){const w=u;u=()=>Cr(w())}let f,h=w=>{f=v.onStop=()=>{tr(w,a,4)}};if(Ro)return h=en,t?n&&Wt(t,a,3,[u(),l?[]:void 0,h]):u(),en;let d=l?[]:Yf;const p=()=>{if(!!v.active)if(t){const w=v.run();(r||c||(l?w.some((E,T)=>Co(E,d[T])):Co(w,d)))&&(f&&f(),Wt(t,a,3,[w,d===Yf?void 0:d,h]),d=w)}else v.run()};p.allowRecurse=!!t;let m;i==="sync"?m=p:i==="post"?m=()=>Tt(p,a&&a.suspense):m=()=>Kw(p);const v=new nl(u,m);return t?n?p():d=v.run():i==="post"?Tt(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&Zc(a.scope.effects,v)}}function n0(e,t,n){const r=this.proxy,i=Ye(e)?e.includes(".")?Kp(r,e):()=>r[e]:e.bind(r,r);let o;ie(t)?o=t:(o=t.handler,n=t);const s=Ge;Ei(this);const a=ll(i,o.bind(r),n);return s?Ei(s):Rr(),a}function Kp(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Cr(e,t){if(!Ue(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),lt(e))Cr(e.value,t);else if(ee(e))for(let n=0;n<e.length;n++)Cr(e[n],t);else if(yp(e)||yi(e))e.forEach(n=>{Cr(n,t)});else if(bp(e))for(const n in e)Cr(e[n],t);return e}function r0(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mo(()=>{e.isMounted=!0}),Xp(()=>{e.isUnmounting=!0}),e}const zt=[Function,Array],i0={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zt,onEnter:zt,onAfterEnter:zt,onEnterCancelled:zt,onBeforeLeave:zt,onLeave:zt,onAfterLeave:zt,onLeaveCancelled:zt,onBeforeAppear:zt,onAppear:zt,onAfterAppear:zt,onAppearCancelled:zt},setup(e,{slots:t}){const n=B0(),r=r0();let i;return()=>{const o=t.default&&Gp(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const m of o)if(m.type!==Gt){s=m;break}}const a=ve(e),{mode:u}=a;if(r.isLeaving)return Au(s);const c=Xf(s);if(!c)return Au(s);const l=sc(c,a,r,n);ac(c,l);const f=n.subTree,h=f&&Xf(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(h&&h.type!==Gt&&(!Er(c,h)||d)){const m=sc(h,a,r,n);if(ac(h,m),u==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update()},Au(s);u==="in-out"&&c.type!==Gt&&(m.delayLeave=(v,w,E)=>{const T=Qp(r,h);T[String(h.key)]=h,v._leaveCb=()=>{w(),v._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=E})}return s}}},Wp=i0;function Qp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function sc(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:w,onAppearCancelled:E}=t,T=String(e.key),R=Qp(n,e),U=(ne,se)=>{ne&&Wt(ne,r,9,se)},Q=(ne,se)=>{const be=se[1];U(ne,se),ee(ne)?ne.every(Pe=>Pe.length<=1)&&be():ne.length<=1&&be()},ce={mode:o,persisted:s,beforeEnter(ne){let se=a;if(!n.isMounted)if(i)se=m||a;else return;ne._leaveCb&&ne._leaveCb(!0);const be=R[T];be&&Er(e,be)&&be.el._leaveCb&&be.el._leaveCb(),U(se,[ne])},enter(ne){let se=u,be=c,Pe=l;if(!n.isMounted)if(i)se=v||u,be=w||c,Pe=E||l;else return;let j=!1;const De=ne._enterCb=it=>{j||(j=!0,it?U(Pe,[ne]):U(be,[ne]),ce.delayedLeave&&ce.delayedLeave(),ne._enterCb=void 0)};se?Q(se,[ne,De]):De()},leave(ne,se){const be=String(e.key);if(ne._enterCb&&ne._enterCb(!0),n.isUnmounting)return se();U(f,[ne]);let Pe=!1;const j=ne._leaveCb=De=>{Pe||(Pe=!0,se(),De?U(p,[ne]):U(d,[ne]),ne._leaveCb=void 0,R[be]===e&&delete R[be])};R[be]=e,h?Q(h,[ne,j]):j()},clone(ne){return sc(ne,t,n,r)}};return ce}function Au(e){if(ja(e))return e=ar(e),e.children=null,e}function Xf(e){return ja(e)?e.children?e.children[0]:void 0:e}function ac(e,t){e.shapeFlag&6&&e.component?ac(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Gp(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pt?(s.patchFlag&128&&i++,r=r.concat(Gp(s.children,t,a))):(t||s.type!==Gt)&&r.push(a!=null?ar(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Ba(e){return ie(e)?{setup:e,name:e.name}:e}const go=e=>!!e.type.__asyncLoader,ja=e=>e.type.__isKeepAlive;function o0(e,t){Yp(e,"a",t)}function s0(e,t){Yp(e,"da",t)}function Yp(e,t,n=Ge){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if($a(t,r,n),n){let i=n.parent;for(;i&&i.parent;)ja(i.parent.vnode)&&a0(r,t,n,i),i=i.parent}}function a0(e,t,n,r){const i=$a(t,e,r,!0);Do(()=>{Zc(r[t],i)},n)}function $a(e,t,n=Ge,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;$i(),Ei(n);const a=Wt(t,n,e,s);return Rr(),zi(),a});return r?i.unshift(o):i.push(o),o}}const Pn=e=>(t,n=Ge)=>(!Ro||e==="sp")&&$a(e,t,n),u0=Pn("bm"),mo=Pn("m"),c0=Pn("bu"),l0=Pn("u"),Xp=Pn("bum"),Do=Pn("um"),f0=Pn("sp"),h0=Pn("rtg"),d0=Pn("rtc");function p0(e,t=Ge){$a("ec",e,t)}function Zn(e,t){const n=ft;if(n===null)return e;const r=Ha(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,u,c=Ce]=t[o];ie(s)&&(s={mounted:s,updated:s}),s.deep&&Cr(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c})}return e}function gr(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let u=a.dir[r];u&&($i(),Wt(u,n,8,[e.el,a,e,t]),zi())}}const Jp="components",g0="directives";function Js(e,t){return eg(Jp,e,!0,t)||e}const m0=Symbol();function Zp(e){return eg(g0,e)}function eg(e,t,n=!0,r=!1){const i=ft||Ge;if(i){const o=i.type;if(e===Jp){const a=K0(o,!1);if(a&&(a===t||a===wn(t)||a===Ma(wn(t))))return o}const s=Jf(i[e]||o[e],t)||Jf(i.appContext[e],t);return!s&&r?o:s}}function Jf(e,t){return e&&(e[t]||e[wn(t)]||e[Ma(wn(t))])}function y0(e,t,n,r){let i;const o=n&&n[r];if(ee(e)||Ye(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Ue(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const c=s[a];i[a]=t(e[c],c,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function xn(e,t,n={},r,i){if(ft.isCE||ft.parent&&go(ft.parent)&&ft.parent.isCE)return le("slot",t==="default"?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),ge();const s=o&&tg(o(n)),a=Qe(Pt,{key:n.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function tg(e){return e.some(t=>ta(t)?!(t.type===Gt||t.type===Pt&&!tg(t.children)):!0)?e:null}const uc=e=>e?pg(e)?Ha(e)||e.proxy:uc(e.parent):null,Zs=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uc(e.parent),$root:e=>uc(e.root),$emit:e=>e.emit,$options:e=>rg(e),$forceUpdate:e=>e.f||(e.f=()=>Up(e.update)),$nextTick:e=>e.n||(e.n=cl.bind(e.proxy)),$watch:e=>n0.bind(e)}),v0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Ce&&de(r,t))return s[t]=1,r[t];if(i!==Ce&&de(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&de(c,t))return s[t]=3,o[t];if(n!==Ce&&de(n,t))return s[t]=4,n[t];cc&&(s[t]=0)}}const l=Zs[t];let f,h;if(l)return t==="$attrs"&&Bt(e,"get",t),l(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Ce&&de(n,t))return s[t]=4,n[t];if(h=u.config.globalProperties,de(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Ce&&de(i,t)?(i[t]=n,!0):r!==Ce&&de(r,t)?(r[t]=n,!0):de(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Ce&&de(e,s)||t!==Ce&&de(t,s)||(a=o[0])&&de(a,s)||de(r,s)||de(Zs,s)||de(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:de(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let cc=!0;function w0(e){const t=rg(e),n=e.proxy,r=e.ctx;cc=!1,t.beforeCreate&&Zf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:m,deactivated:v,beforeDestroy:w,beforeUnmount:E,destroyed:T,unmounted:R,render:U,renderTracked:Q,renderTriggered:ce,errorCaptured:ne,serverPrefetch:se,expose:be,inheritAttrs:Pe,components:j,directives:De,filters:it}=t;if(c&&b0(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const Ae in s){const _e=s[Ae];ie(_e)&&(r[Ae]=_e.bind(n))}if(i){const Ae=i.call(n,n);Ue(Ae)&&(e.data=Hr(Ae))}if(cc=!0,o)for(const Ae in o){const _e=o[Ae],Dt=ie(_e)?_e.bind(n,n):ie(_e.get)?_e.get.bind(n,n):en,ti=!ie(_e)&&ie(_e.set)?_e.set.bind(n):en,Tn=ct({get:Dt,set:ti});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>Tn.value,set:un=>Tn.value=un})}if(a)for(const Ae in a)ng(a[Ae],r,n,Ae);if(u){const Ae=ie(u)?u.call(n):u;Reflect.ownKeys(Ae).forEach(_e=>{Ms(_e,Ae[_e])})}l&&Zf(l,e,"c");function Me(Ae,_e){ee(_e)?_e.forEach(Dt=>Ae(Dt.bind(n))):_e&&Ae(_e.bind(n))}if(Me(u0,f),Me(mo,h),Me(c0,d),Me(l0,p),Me(o0,m),Me(s0,v),Me(p0,ne),Me(d0,Q),Me(h0,ce),Me(Xp,E),Me(Do,R),Me(f0,se),ee(be))if(be.length){const Ae=e.exposed||(e.exposed={});be.forEach(_e=>{Object.defineProperty(Ae,_e,{get:()=>n[_e],set:Dt=>n[_e]=Dt})})}else e.exposed||(e.exposed={});U&&e.render===en&&(e.render=U),Pe!=null&&(e.inheritAttrs=Pe),j&&(e.components=j),De&&(e.directives=De)}function b0(e,t,n=en,r=!1){ee(e)&&(e=lc(e));for(const i in e){const o=e[i];let s;Ue(o)?"default"in o?s=nr(o.from||i,o.default,!0):s=nr(o.from||i):s=nr(o),lt(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function Zf(e,t,n){Wt(ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function ng(e,t,n,r){const i=r.includes(".")?Kp(n,r):()=>n[r];if(Ye(e)){const o=t[e];ie(o)&&wi(i,o)}else if(ie(e))wi(i,e.bind(n));else if(Ue(e))if(ee(e))e.forEach(o=>ng(o,t,n,r));else{const o=ie(e.handler)?e.handler.bind(n):t[e.handler];ie(o)&&wi(i,o,e)}}function rg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let u;return a?u=a:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>ea(u,c,s,!0)),ea(u,t,s)),o.set(t,u),u}function ea(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ea(e,o,n,!0),i&&i.forEach(s=>ea(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=_0[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const _0={data:eh,props:br,emits:br,methods:br,computed:br,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:br,directives:br,watch:T0,provide:eh,inject:E0};function eh(e,t){return t?e?function(){return nt(ie(e)?e.call(this,this):e,ie(t)?t.call(this,this):t)}:t:e}function E0(e,t){return br(lc(e),lc(t))}function lc(e){if(ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function br(e,t){return e?nt(nt(Object.create(null),e),t):t}function T0(e,t){if(!e)return t;if(!t)return e;const n=nt(Object.create(null),e);for(const r in t)n[r]=mt(e[r],t[r]);return n}function I0(e,t,n,r=!1){const i={},o={};Qs(o,za,1),e.propsDefaults=Object.create(null),ig(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Fw(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function S0(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=ve(i),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(qa(e.emitsOptions,h))continue;const d=t[h];if(u)if(de(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=wn(h);i[p]=fc(u,a,p,d,e,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{ig(e,t,i,o)&&(c=!0);let l;for(const f in a)(!t||!de(t,f)&&((l=zr(f))===f||!de(t,l)))&&(u?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=fc(u,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!de(t,f)&&!0)&&(delete o[f],c=!0)}c&&Rn(e,"set","$attrs")}function ig(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let u in t){if(Ps(u))continue;const c=t[u];let l;i&&de(i,l=wn(u))?!o||!o.includes(l)?n[l]=c:(a||(a={}))[l]=c:qa(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(o){const u=ve(n),c=a||Ce;for(let l=0;l<o.length;l++){const f=o[l];n[f]=fc(i,u,f,c[f],e,!de(c,f))}}return s}function fc(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=de(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&ie(u)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ei(i),r=c[n]=u.call(null,t),Rr())}else r=u}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===zr(n))&&(r=!0))}return r}function og(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let u=!1;if(!ie(e)){const l=f=>{u=!0;const[h,d]=og(f,t,!0);nt(s,h),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!u)return r.set(e,mi),mi;if(ee(o))for(let l=0;l<o.length;l++){const f=wn(o[l]);th(f)&&(s[f]=Ce)}else if(o)for(const l in o){const f=wn(l);if(th(f)){const h=o[l],d=s[f]=ee(h)||ie(h)?{type:h}:h;if(d){const p=ih(Boolean,d.type),m=ih(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||de(d,"default"))&&a.push(f)}}}const c=[s,a];return r.set(e,c),c}function th(e){return e[0]!=="$"}function nh(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function rh(e,t){return nh(e)===nh(t)}function ih(e,t){return ee(t)?t.findIndex(n=>rh(n,e)):ie(t)&&rh(t,e)?0:-1}const sg=e=>e[0]==="_"||e==="$stable",fl=e=>ee(e)?e.map(gn):[gn(e)],C0=(e,t,n)=>{if(t._n)return t;const r=Qt((...i)=>fl(t(...i)),n);return r._c=!1,r},ag=(e,t,n)=>{const r=e._ctx;for(const i in e){if(sg(i))continue;const o=e[i];if(ie(o))t[i]=C0(i,o,r);else if(o!=null){const s=fl(o);t[i]=()=>s}}},ug=(e,t)=>{const n=fl(t);e.slots.default=()=>n},A0=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ve(t),Qs(t,"_",n)):ag(t,e.slots={})}else e.slots={},t&&ug(e,t);Qs(e.slots,za,1)},x0=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Ce;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(nt(i,t),!n&&a===1&&delete i._):(o=!t.$stable,ag(t,i)),s=t}else t&&(ug(e,t),s={default:1});if(o)for(const a in i)!sg(a)&&!(a in s)&&delete i[a]};function cg(){return{app:null,config:{isNativeTag:rw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let N0=0;function D0(e,t){return function(r,i=null){ie(r)||(r=Object.assign({},r)),i!=null&&!Ue(i)&&(i=null);const o=cg(),s=new Set;let a=!1;const u=o.app={_uid:N0++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Q0,get config(){return o.config},set config(c){},use(c,...l){return s.has(c)||(c&&ie(c.install)?(s.add(c),c.install(u,...l)):ie(c)&&(s.add(c),c(u,...l))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,l){return l?(o.components[c]=l,u):o.components[c]},directive(c,l){return l?(o.directives[c]=l,u):o.directives[c]},mount(c,l,f){if(!a){const h=le(r,i);return h.appContext=o,l&&t?t(h,c):e(h,c,f),a=!0,u._container=c,c.__vue_app__=u,Ha(h.component)||h.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return o.provides[c]=l,u}};return u}}function hc(e,t,n,r,i=!1){if(ee(e)){e.forEach((h,d)=>hc(h,t&&(ee(t)?t[d]:t),n,r,i));return}if(go(r)&&!i)return;const o=r.shapeFlag&4?Ha(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:u}=e,c=t&&t.r,l=a.refs===Ce?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==u&&(Ye(c)?(l[c]=null,de(f,c)&&(f[c]=null)):lt(c)&&(c.value=null)),ie(u))tr(u,a,12,[s,l]);else{const h=Ye(u),d=lt(u);if(h||d){const p=()=>{if(e.f){const m=h?l[u]:u.value;i?ee(m)&&Zc(m,o):ee(m)?m.includes(o)||m.push(o):h?(l[u]=[o],de(f,u)&&(f[u]=l[u])):(u.value=[o],e.k&&(l[e.k]=u.value))}else h?(l[u]=s,de(f,u)&&(f[u]=s)):d&&(u.value=s,e.k&&(l[e.k]=s))};s?(p.id=-1,Tt(p,n)):p()}}}const Tt=e0;function O0(e){return R0(e)}function R0(e,t){const n=cw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:f,nextSibling:h,setScopeId:d=en,cloneNode:p,insertStaticContent:m}=e,v=(g,y,_,N=null,A=null,L=null,q=!1,P=null,M=!!y.dynamicChildren)=>{if(g===y)return;g&&!Er(g,y)&&(N=K(g),$t(g,A,L,!0),g=null),y.patchFlag===-2&&(M=!1,y.dynamicChildren=null);const{type:D,ref:Y,shapeFlag:$}=y;switch(D){case hl:w(g,y,_,N);break;case Gt:E(g,y,_,N);break;case xu:g==null&&T(y,_,N,q);break;case Pt:De(g,y,_,N,A,L,q,P,M);break;default:$&1?Q(g,y,_,N,A,L,q,P,M):$&6?it(g,y,_,N,A,L,q,P,M):($&64||$&128)&&D.process(g,y,_,N,A,L,q,P,M,xe)}Y!=null&&A&&hc(Y,g&&g.ref,L,y||g,!y)},w=(g,y,_,N)=>{if(g==null)r(y.el=a(y.children),_,N);else{const A=y.el=g.el;y.children!==g.children&&c(A,y.children)}},E=(g,y,_,N)=>{g==null?r(y.el=u(y.children||""),_,N):y.el=g.el},T=(g,y,_,N)=>{[g.el,g.anchor]=m(g.children,y,_,N,g.el,g.anchor)},R=({el:g,anchor:y},_,N)=>{let A;for(;g&&g!==y;)A=h(g),r(g,_,N),g=A;r(y,_,N)},U=({el:g,anchor:y})=>{let _;for(;g&&g!==y;)_=h(g),i(g),g=_;i(y)},Q=(g,y,_,N,A,L,q,P,M)=>{q=q||y.type==="svg",g==null?ce(y,_,N,A,L,q,P,M):be(g,y,A,L,q,P,M)},ce=(g,y,_,N,A,L,q,P)=>{let M,D;const{type:Y,props:$,shapeFlag:X,transition:re,patchFlag:pe,dirs:Te}=g;if(g.el&&p!==void 0&&pe===-1)M=g.el=p(g.el);else{if(M=g.el=s(g.type,L,$&&$.is,$),X&8?l(M,g.children):X&16&&se(g.children,M,null,N,A,L&&Y!=="foreignObject",q,P),Te&&gr(g,null,N,"created"),$){for(const Oe in $)Oe!=="value"&&!Ps(Oe)&&o(M,Oe,null,$[Oe],L,g.children,N,A,F);"value"in $&&o(M,"value",null,$.value),(D=$.onVnodeBeforeMount)&&ln(D,N,g)}ne(M,g,g.scopeId,q,N)}Te&&gr(g,null,N,"beforeMount");const Ie=(!A||A&&!A.pendingBranch)&&re&&!re.persisted;Ie&&re.beforeEnter(M),r(M,y,_),((D=$&&$.onVnodeMounted)||Ie||Te)&&Tt(()=>{D&&ln(D,N,g),Ie&&re.enter(M),Te&&gr(g,null,N,"mounted")},A)},ne=(g,y,_,N,A)=>{if(_&&d(g,_),N)for(let L=0;L<N.length;L++)d(g,N[L]);if(A){let L=A.subTree;if(y===L){const q=A.vnode;ne(g,q,q.scopeId,q.slotScopeIds,A.parent)}}},se=(g,y,_,N,A,L,q,P,M=0)=>{for(let D=M;D<g.length;D++){const Y=g[D]=P?Kn(g[D]):gn(g[D]);v(null,Y,y,_,N,A,L,q,P)}},be=(g,y,_,N,A,L,q)=>{const P=y.el=g.el;let{patchFlag:M,dynamicChildren:D,dirs:Y}=y;M|=g.patchFlag&16;const $=g.props||Ce,X=y.props||Ce;let re;_&&mr(_,!1),(re=X.onVnodeBeforeUpdate)&&ln(re,_,y,g),Y&&gr(y,g,_,"beforeUpdate"),_&&mr(_,!0);const pe=A&&y.type!=="foreignObject";if(D?Pe(g.dynamicChildren,D,P,_,N,pe,L):q||Dt(g,y,P,null,_,N,pe,L,!1),M>0){if(M&16)j(P,y,$,X,_,N,A);else if(M&2&&$.class!==X.class&&o(P,"class",null,X.class,A),M&4&&o(P,"style",$.style,X.style,A),M&8){const Te=y.dynamicProps;for(let Ie=0;Ie<Te.length;Ie++){const Oe=Te[Ie],Yt=$[Oe],ni=X[Oe];(ni!==Yt||Oe==="value")&&o(P,Oe,Yt,ni,A,g.children,_,N,F)}}M&1&&g.children!==y.children&&l(P,y.children)}else!q&&D==null&&j(P,y,$,X,_,N,A);((re=X.onVnodeUpdated)||Y)&&Tt(()=>{re&&ln(re,_,y,g),Y&&gr(y,g,_,"updated")},N)},Pe=(g,y,_,N,A,L,q)=>{for(let P=0;P<y.length;P++){const M=g[P],D=y[P],Y=M.el&&(M.type===Pt||!Er(M,D)||M.shapeFlag&70)?f(M.el):_;v(M,D,Y,null,N,A,L,q,!0)}},j=(g,y,_,N,A,L,q)=>{if(_!==N){for(const P in N){if(Ps(P))continue;const M=N[P],D=_[P];M!==D&&P!=="value"&&o(g,P,D,M,q,y.children,A,L,F)}if(_!==Ce)for(const P in _)!Ps(P)&&!(P in N)&&o(g,P,_[P],null,q,y.children,A,L,F);"value"in N&&o(g,"value",_.value,N.value)}},De=(g,y,_,N,A,L,q,P,M)=>{const D=y.el=g?g.el:a(""),Y=y.anchor=g?g.anchor:a("");let{patchFlag:$,dynamicChildren:X,slotScopeIds:re}=y;re&&(P=P?P.concat(re):re),g==null?(r(D,_,N),r(Y,_,N),se(y.children,_,Y,A,L,q,P,M)):$>0&&$&64&&X&&g.dynamicChildren?(Pe(g.dynamicChildren,X,_,A,L,q,P),(y.key!=null||A&&y===A.subTree)&&lg(g,y,!0)):Dt(g,y,_,Y,A,L,q,P,M)},it=(g,y,_,N,A,L,q,P,M)=>{y.slotScopeIds=P,g==null?y.shapeFlag&512?A.ctx.activate(y,_,N,q,M):En(y,_,N,A,L,q,M):Me(g,y,M)},En=(g,y,_,N,A,L,q)=>{const P=g.component=q0(g,N,A);if(ja(g)&&(P.ctx.renderer=xe),j0(P),P.asyncDep){if(A&&A.registerDep(P,Ae),!g.el){const M=P.subTree=le(Gt);E(null,M,y,_)}return}Ae(P,g,y,_,A,L,q)},Me=(g,y,_)=>{const N=y.component=g.component;if(Xw(g,y,_))if(N.asyncDep&&!N.asyncResolved){_e(N,y,_);return}else N.next=y,Hw(N.update),N.update();else y.el=g.el,N.vnode=y},Ae=(g,y,_,N,A,L,q)=>{const P=()=>{if(g.isMounted){let{next:Y,bu:$,u:X,parent:re,vnode:pe}=g,Te=Y,Ie;mr(g,!1),Y?(Y.el=pe.el,_e(g,Y,q)):Y=pe,$&&Ls($),(Ie=Y.props&&Y.props.onVnodeBeforeUpdate)&&ln(Ie,re,Y,pe),mr(g,!0);const Oe=Cu(g),Yt=g.subTree;g.subTree=Oe,v(Yt,Oe,f(Yt.el),K(Yt),g,A,L),Y.el=Oe.el,Te===null&&Jw(g,Oe.el),X&&Tt(X,A),(Ie=Y.props&&Y.props.onVnodeUpdated)&&Tt(()=>ln(Ie,re,Y,pe),A)}else{let Y;const{el:$,props:X}=y,{bm:re,m:pe,parent:Te}=g,Ie=go(y);if(mr(g,!1),re&&Ls(re),!Ie&&(Y=X&&X.onVnodeBeforeMount)&&ln(Y,Te,y),mr(g,!0),$&&oe){const Oe=()=>{g.subTree=Cu(g),oe($,g.subTree,g,A,null)};Ie?y.type.__asyncLoader().then(()=>!g.isUnmounted&&Oe()):Oe()}else{const Oe=g.subTree=Cu(g);v(null,Oe,_,N,g,A,L),y.el=Oe.el}if(pe&&Tt(pe,A),!Ie&&(Y=X&&X.onVnodeMounted)){const Oe=y;Tt(()=>ln(Y,Te,Oe),A)}(y.shapeFlag&256||Te&&go(Te.vnode)&&Te.vnode.shapeFlag&256)&&g.a&&Tt(g.a,A),g.isMounted=!0,y=_=N=null}},M=g.effect=new nl(P,()=>Up(D),g.scope),D=g.update=()=>M.run();D.id=g.uid,mr(g,!0),D()},_e=(g,y,_)=>{y.component=g;const N=g.vnode.props;g.vnode=y,g.next=null,S0(g,y.props,N,_),x0(g,y.children,_),$i(),Ua(void 0,g.update),zi()},Dt=(g,y,_,N,A,L,q,P,M=!1)=>{const D=g&&g.children,Y=g?g.shapeFlag:0,$=y.children,{patchFlag:X,shapeFlag:re}=y;if(X>0){if(X&128){Tn(D,$,_,N,A,L,q,P,M);return}else if(X&256){ti(D,$,_,N,A,L,q,P,M);return}}re&8?(Y&16&&F(D,A,L),$!==D&&l(_,$)):Y&16?re&16?Tn(D,$,_,N,A,L,q,P,M):F(D,A,L,!0):(Y&8&&l(_,""),re&16&&se($,_,N,A,L,q,P,M))},ti=(g,y,_,N,A,L,q,P,M)=>{g=g||mi,y=y||mi;const D=g.length,Y=y.length,$=Math.min(D,Y);let X;for(X=0;X<$;X++){const re=y[X]=M?Kn(y[X]):gn(y[X]);v(g[X],re,_,null,A,L,q,P,M)}D>Y?F(g,A,L,!0,!1,$):se(y,_,N,A,L,q,P,M,$)},Tn=(g,y,_,N,A,L,q,P,M)=>{let D=0;const Y=y.length;let $=g.length-1,X=Y-1;for(;D<=$&&D<=X;){const re=g[D],pe=y[D]=M?Kn(y[D]):gn(y[D]);if(Er(re,pe))v(re,pe,_,null,A,L,q,P,M);else break;D++}for(;D<=$&&D<=X;){const re=g[$],pe=y[X]=M?Kn(y[X]):gn(y[X]);if(Er(re,pe))v(re,pe,_,null,A,L,q,P,M);else break;$--,X--}if(D>$){if(D<=X){const re=X+1,pe=re<Y?y[re].el:N;for(;D<=X;)v(null,y[D]=M?Kn(y[D]):gn(y[D]),_,pe,A,L,q,P,M),D++}}else if(D>X)for(;D<=$;)$t(g[D],A,L,!0),D++;else{const re=D,pe=D,Te=new Map;for(D=pe;D<=X;D++){const Ot=y[D]=M?Kn(y[D]):gn(y[D]);Ot.key!=null&&Te.set(Ot.key,D)}let Ie,Oe=0;const Yt=X-pe+1;let ni=!1,Ff=0;const to=new Array(Yt);for(D=0;D<Yt;D++)to[D]=0;for(D=re;D<=$;D++){const Ot=g[D];if(Oe>=Yt){$t(Ot,A,L,!0);continue}let cn;if(Ot.key!=null)cn=Te.get(Ot.key);else for(Ie=pe;Ie<=X;Ie++)if(to[Ie-pe]===0&&Er(Ot,y[Ie])){cn=Ie;break}cn===void 0?$t(Ot,A,L,!0):(to[cn-pe]=D+1,cn>=Ff?Ff=cn:ni=!0,v(Ot,y[cn],_,null,A,L,q,P,M),Oe++)}const Vf=ni?k0(to):mi;for(Ie=Vf.length-1,D=Yt-1;D>=0;D--){const Ot=pe+D,cn=y[Ot],Uf=Ot+1<Y?y[Ot+1].el:N;to[D]===0?v(null,cn,_,Uf,A,L,q,P,M):ni&&(Ie<0||D!==Vf[Ie]?un(cn,_,Uf,2):Ie--)}}},un=(g,y,_,N,A=null)=>{const{el:L,type:q,transition:P,children:M,shapeFlag:D}=g;if(D&6){un(g.component.subTree,y,_,N);return}if(D&128){g.suspense.move(y,_,N);return}if(D&64){q.move(g,y,_,xe);return}if(q===Pt){r(L,y,_);for(let $=0;$<M.length;$++)un(M[$],y,_,N);r(g.anchor,y,_);return}if(q===xu){R(g,y,_);return}if(N!==2&&D&1&&P)if(N===0)P.beforeEnter(L),r(L,y,_),Tt(()=>P.enter(L),A);else{const{leave:$,delayLeave:X,afterLeave:re}=P,pe=()=>r(L,y,_),Te=()=>{$(L,()=>{pe(),re&&re()})};X?X(L,pe,Te):Te()}else r(L,y,_)},$t=(g,y,_,N=!1,A=!1)=>{const{type:L,props:q,ref:P,children:M,dynamicChildren:D,shapeFlag:Y,patchFlag:$,dirs:X}=g;if(P!=null&&hc(P,null,_,g,!0),Y&256){y.ctx.deactivate(g);return}const re=Y&1&&X,pe=!go(g);let Te;if(pe&&(Te=q&&q.onVnodeBeforeUnmount)&&ln(Te,y,g),Y&6)z(g.component,_,N);else{if(Y&128){g.suspense.unmount(_,N);return}re&&gr(g,null,y,"beforeUnmount"),Y&64?g.type.remove(g,y,_,A,xe,N):D&&(L!==Pt||$>0&&$&64)?F(D,y,_,!1,!0):(L===Pt&&$&384||!A&&Y&16)&&F(M,y,_),N&&eo(g)}(pe&&(Te=q&&q.onVnodeUnmounted)||re)&&Tt(()=>{Te&&ln(Te,y,g),re&&gr(g,null,y,"unmounted")},_)},eo=g=>{const{type:y,el:_,anchor:N,transition:A}=g;if(y===Pt){S(_,N);return}if(y===xu){U(g);return}const L=()=>{i(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:q,delayLeave:P}=A,M=()=>q(_,L);P?P(g.el,L,M):M()}else L()},S=(g,y)=>{let _;for(;g!==y;)_=h(g),i(g),g=_;i(y)},z=(g,y,_)=>{const{bum:N,scope:A,update:L,subTree:q,um:P}=g;N&&Ls(N),A.stop(),L&&(L.active=!1,$t(q,g,y,_)),P&&Tt(P,y),Tt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},F=(g,y,_,N=!1,A=!1,L=0)=>{for(let q=L;q<g.length;q++)$t(g[q],y,_,N,A)},K=g=>g.shapeFlag&6?K(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),Ee=(g,y,_)=>{g==null?y._vnode&&$t(y._vnode,null,null,!0):v(y._vnode||null,g,y,null,null,null,_),jp(),y._vnode=g},xe={p:v,um:$t,m:un,r:eo,mt:En,mc:se,pc:Dt,pbc:Pe,n:K,o:e};let ae,oe;return t&&([ae,oe]=t(xe)),{render:Ee,hydrate:ae,createApp:D0(Ee,ae)}}function mr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function lg(e,t,n=!1){const r=e.children,i=t.children;if(ee(r)&&ee(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Kn(i[o]),a.el=s.el),n||lg(s,a))}}function k0(e){const t=e.slice(),n=[0];let r,i,o,s,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const P0=e=>e.__isTeleport,Pt=Symbol(void 0),hl=Symbol(void 0),Gt=Symbol(void 0),xu=Symbol(void 0),yo=[];let Zt=null;function ge(e=!1){yo.push(Zt=e?null:[])}function L0(){yo.pop(),Zt=yo[yo.length-1]||null}let Oo=1;function oh(e){Oo+=e}function fg(e){return e.dynamicChildren=Oo>0?Zt||mi:null,L0(),Oo>0&&Zt&&Zt.push(e),e}function bt(e,t,n,r,i,o){return fg(G(e,t,n,r,i,o,!0))}function Qe(e,t,n,r,i){return fg(le(e,t,n,r,i,!0))}function ta(e){return e?e.__v_isVNode===!0:!1}function Er(e,t){return e.type===t.type&&e.key===t.key}const za="__vInternal",hg=({key:e})=>e!=null?e:null,Fs=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ye(e)||lt(e)||ie(e)?{i:ft,r:e,k:t,f:!!n}:e:null;function G(e,t=null,n=null,r=0,i=null,o=e===Pt?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hg(t),ref:t&&Fs(t),scopeId:Hp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(dl(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=Ye(n)?8:16),Oo>0&&!s&&Zt&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Zt.push(u),u}const le=M0;function M0(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===m0)&&(e=Gt),ta(e)){const a=ar(e,t,!0);return n&&dl(a,n),Oo>0&&!o&&Zt&&(a.shapeFlag&6?Zt[Zt.indexOf(e)]=a:Zt.push(a)),a.patchFlag|=-2,a}if(W0(e)&&(e=e.__vccOpts),t){t=F0(t);let{class:a,style:u}=t;a&&!Ye(a)&&(t.class=Kt(a)),Ue(u)&&(Rp(u)&&!ee(u)&&(u=nt({},u)),t.style=Xc(u))}const s=Ye(e)?1:Zw(e)?128:P0(e)?64:Ue(e)?4:ie(e)?2:0;return G(e,t,n,r,i,s,o,!0)}function F0(e){return e?Rp(e)||za in e?nt({},e):e:null}function ar(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=t?dg(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&hg(a),ref:t&&t.ref?n&&i?ee(i)?i.concat(Fs(t)):[i,Fs(t)]:Fs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ar(e.ssContent),ssFallback:e.ssFallback&&ar(e.ssFallback),el:e.el,anchor:e.anchor}}function Zo(e=" ",t=0){return le(hl,null,e,t)}function kt(e="",t=!1){return t?(ge(),Qe(Gt,null,e)):le(Gt,null,e)}function gn(e){return e==null||typeof e=="boolean"?le(Gt):ee(e)?le(Pt,null,e.slice()):typeof e=="object"?Kn(e):le(hl,null,String(e))}function Kn(e){return e.el===null||e.memo?e:ar(e)}function dl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ee(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),dl(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(za in t)?t._ctx=ft:i===3&&ft&&(ft.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ie(t)?(t={default:t,_ctx:ft},n=32):(t=String(t),r&64?(n=16,t=[Zo(t)]):n=8);e.children=t,e.shapeFlag|=n}function dg(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Kt([t.class,r.class]));else if(i==="style")t.style=Xc([t.style,r.style]);else if(Pa(i)){const o=t[i],s=r[i];s&&o!==s&&!(ee(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function ln(e,t,n,r=null){Wt(e,t,7,[n,r])}const V0=cg();let U0=0;function q0(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||V0,o={uid:U0++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new lw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:og(r,i),emitsOptions:zp(r,i),emit:null,emitted:null,propsDefaults:Ce,inheritAttrs:r.inheritAttrs,ctx:Ce,data:Ce,props:Ce,attrs:Ce,slots:Ce,refs:Ce,setupState:Ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Qw.bind(null,o),e.ce&&e.ce(o),o}let Ge=null;const B0=()=>Ge||ft,Ei=e=>{Ge=e,e.scope.on()},Rr=()=>{Ge&&Ge.scope.off(),Ge=null};function pg(e){return e.vnode.shapeFlag&4}let Ro=!1;function j0(e,t=!1){Ro=t;const{props:n,children:r}=e.vnode,i=pg(e);I0(e,n,i,t),A0(e,r);const o=i?$0(e,t):void 0;return Ro=!1,o}function $0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=kp(new Proxy(e.ctx,v0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?H0(e):null;Ei(e),$i();const o=tr(r,e,0,[e.props,i]);if(zi(),Rr(),vp(o)){if(o.then(Rr,Rr),t)return o.then(s=>{sh(e,s,t)}).catch(s=>{Va(s,e,0)});e.asyncDep=o}else sh(e,o,t)}else gg(e,t)}function sh(e,t,n){ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=Fp(t)),gg(e,n)}let ah;function gg(e,t,n){const r=e.type;if(!e.render){if(!t&&ah&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=nt(nt({isCustomElement:o,delimiters:a},s),u);r.render=ah(i,c)}}e.render=r.render||en}Ei(e),$i(),w0(e),zi(),Rr()}function z0(e){return new Proxy(e.attrs,{get(t,n){return Bt(e,"get","$attrs"),t[n]}})}function H0(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=z0(e))},slots:e.slots,emit:e.emit,expose:t}}function Ha(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Fp(kp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Zs)return Zs[n](e)}}))}function K0(e,t=!0){return ie(e)?e.displayName||e.name:e.name||t&&e.__name}function W0(e){return ie(e)&&"__vccOpts"in e}const ct=(e,t)=>jw(e,t,Ro);function pl(e,t,n){const r=arguments.length;return r===2?Ue(t)&&!ee(t)?ta(t)?le(e,null,[t]):le(e,t):le(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ta(n)&&(n=[n]),le(e,t,n))}const Q0="3.2.37",G0="http://www.w3.org/2000/svg",Tr=typeof document<"u"?document:null,uh=Tr&&Tr.createElement("template"),Y0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Tr.createElementNS(G0,e):Tr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Tr.createTextNode(e),createComment:e=>Tr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{uh.innerHTML=r?`<svg>${e}</svg>`:e;const a=uh.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function X0(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function J0(e,t,n){const r=e.style,i=Ye(n);if(n&&!i){for(const o in n)dc(r,o,n[o]);if(t&&!Ye(t))for(const o in t)n[o]==null&&dc(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const ch=/\s*!important$/;function dc(e,t,n){if(ee(n))n.forEach(r=>dc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Z0(e,t);ch.test(n)?e.setProperty(zr(r),n.replace(ch,""),"important"):e[r]=n}}const lh=["Webkit","Moz","ms"],Nu={};function Z0(e,t){const n=Nu[t];if(n)return n;let r=wn(t);if(r!=="filter"&&r in e)return Nu[t]=r;r=Ma(r);for(let i=0;i<lh.length;i++){const o=lh[i]+r;if(o in e)return Nu[t]=o}return t}const fh="http://www.w3.org/1999/xlink";function eb(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fh,t.slice(6,t.length)):e.setAttributeNS(fh,t,n);else{const o=Jv(t);n==null||o&&!gp(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function tb(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=gp(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}const[mg,nb]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let pc=0;const rb=Promise.resolve(),ib=()=>{pc=0},ob=()=>pc||(rb.then(ib),pc=mg());function Ir(e,t,n,r){e.addEventListener(t,n,r)}function sb(e,t,n,r){e.removeEventListener(t,n,r)}function ab(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[a,u]=ub(t);if(r){const c=o[t]=cb(r,i);Ir(e,a,c,u)}else s&&(sb(e,a,s,u),o[t]=void 0)}}const hh=/(?:Once|Passive|Capture)$/;function ub(e){let t;if(hh.test(e)){t={};let n;for(;n=e.match(hh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[zr(e.slice(2)),t]}function cb(e,t){const n=r=>{const i=r.timeStamp||mg();(nb||i>=n.attached-1)&&Wt(lb(r,n.value),t,5,[r])};return n.value=e,n.attached=ob(),n}function lb(e,t){if(ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const dh=/^on[a-z]/,fb=(e,t,n,r,i=!1,o,s,a,u)=>{t==="class"?X0(e,r,i):t==="style"?J0(e,n,r):Pa(t)?Jc(t)||ab(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hb(e,t,r,i))?tb(e,t,r,o,s,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),eb(e,t,r,i))};function hb(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&dh.test(t)&&ie(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||dh.test(t)&&Ye(n)?!1:t in e}const Vn="transition",no="animation",Ka=(e,{slots:t})=>pl(Wp,db(e),t);Ka.displayName="Transition";const yg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ka.props=nt({},Wp.props,yg);const yr=(e,t=[])=>{ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},ph=e=>e?ee(e)?e.some(t=>t.length>1):e.length>1:!1;function db(e){const t={};for(const j in e)j in yg||(t[j]=e[j]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=s,appearToClass:l=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=pb(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:T,onLeave:R,onLeaveCancelled:U,onBeforeAppear:Q=w,onAppear:ce=E,onAppearCancelled:ne=T}=t,se=(j,De,it)=>{vr(j,De?l:a),vr(j,De?c:s),it&&it()},be=(j,De)=>{j._isLeaving=!1,vr(j,f),vr(j,d),vr(j,h),De&&De()},Pe=j=>(De,it)=>{const En=j?ce:E,Me=()=>se(De,j,it);yr(En,[De,Me]),gh(()=>{vr(De,j?u:o),Un(De,j?l:a),ph(En)||mh(De,r,m,Me)})};return nt(t,{onBeforeEnter(j){yr(w,[j]),Un(j,o),Un(j,s)},onBeforeAppear(j){yr(Q,[j]),Un(j,u),Un(j,c)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(j,De){j._isLeaving=!0;const it=()=>be(j,De);Un(j,f),yb(),Un(j,h),gh(()=>{!j._isLeaving||(vr(j,f),Un(j,d),ph(R)||mh(j,r,v,it))}),yr(R,[j,it])},onEnterCancelled(j){se(j,!1),yr(T,[j])},onAppearCancelled(j){se(j,!0),yr(ne,[j])},onLeaveCancelled(j){be(j),yr(U,[j])}})}function pb(e){if(e==null)return null;if(Ue(e))return[Du(e.enter),Du(e.leave)];{const t=Du(e);return[t,t]}}function Du(e){return Gs(e)}function Un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function vr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function gh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gb=0;function mh(e,t,n,r){const i=e._endId=++gb,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=mb(e,t);if(!s)return r();const c=s+"end";let l=0;const f=()=>{e.removeEventListener(c,h),o()},h=d=>{d.target===e&&++l>=u&&f()};setTimeout(()=>{l<u&&f()},a+1),e.addEventListener(c,h)}function mb(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(Vn+"Delay"),o=r(Vn+"Duration"),s=yh(i,o),a=r(no+"Delay"),u=r(no+"Duration"),c=yh(a,u);let l=null,f=0,h=0;t===Vn?s>0&&(l=Vn,f=s,h=o.length):t===no?c>0&&(l=no,f=c,h=u.length):(f=Math.max(s,c),l=f>0?s>c?Vn:no:null,h=l?l===Vn?o.length:u.length:0);const d=l===Vn&&/\b(transform|all)(,|$)/.test(n[Vn+"Property"]);return{type:l,timeout:f,propCount:h,hasTransform:d}}function yh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>vh(n)+vh(e[r])))}function vh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function yb(){return document.body.offsetHeight}const na=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ee(t)?n=>Ls(t,n):t};function vb(e){e.target.composing=!0}function wh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vs={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=na(i);const o=r||i.props&&i.props.type==="number";Ir(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=Gs(a)),e._assign(a)}),n&&Ir(e,"change",()=>{e.value=e.value.trim()}),t||(Ir(e,"compositionstart",vb),Ir(e,"compositionend",wh),Ir(e,"change",wh))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=na(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Gs(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},wb={created(e,{value:t},n){e.checked=Ws(t,n.props.value),e._assign=na(n),Ir(e,"change",()=>{e._assign(bb(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=na(r),t!==n&&(e.checked=Ws(t,r.props.value))}};function bb(e){return"_value"in e?e._value:e.value}const _b={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},gl=(e,t)=>n=>{if(!("key"in n))return;const r=zr(n.key);if(t.some(i=>i===r||_b[i]===r))return e(n)},Eb={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ro(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ro(e,!0),r.enter(e)):r.leave(e,()=>{ro(e,!1)}):ro(e,t))},beforeUnmount(e,{value:t}){ro(e,t)}};function ro(e,t){e.style.display=t?e._vod:"none"}const Tb=nt({patchProp:fb},Y0);let bh;function vg(){return bh||(bh=O0(Tb))}const wg=(...e)=>{vg().render(...e)},Ib=(...e)=>{const t=vg().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Sb(r);if(!i)return;const o=t._component;!ie(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Sb(e){return Ye(e)?document.querySelector(e):e}function Cb(){return bg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Ab=typeof Proxy=="function",xb="devtools-plugin:setup",Nb="plugin:settings:set";let ri,gc;function Db(){var e;return ri!==void 0||(typeof window<"u"&&window.performance?(ri=!0,gc=window.performance):typeof global<"u"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(ri=!0,gc=global.perf_hooks.performance):ri=!1),ri}function Ob(){return Db()?gc.now():Date.now()}class Rb{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const a=t.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Ob()}},n&&n.on(Nb,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...u)=>{this.onQueue.push({method:a,args:u})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...u)=>(this.targetQueue.push({method:a,args:u,resolve:()=>{}}),this.fallbacks[a](...u)):(...u)=>new Promise(c=>{this.targetQueue.push({method:a,args:u,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function kb(e,t){const n=e,r=bg(),i=Cb(),o=Ab&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(xb,e,t);else{const s=o?new Rb(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const li=typeof window<"u";function Pb(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function Ou(e,t){const n={};for(const r in t){const i=t[r];n[r]=on(i)?i.map(e):e(i)}return n}const vo=()=>{},on=Array.isArray,Lb=/\/$/,Mb=e=>e.replace(Lb,"");function Ru(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let u=t.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=t.slice(0,u),o=t.slice(u+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=qb(r!=null?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Fb(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _h(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Vb(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ti(t.matched[r],n.matched[i])&&_g(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ti(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _g(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Ub(e[n],t[n]))return!1;return!0}function Ub(e,t){return on(e)?Eh(e,t):on(t)?Eh(t,e):e===t}function Eh(e,t){return on(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function qb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ko;(function(e){e.pop="pop",e.push="push"})(ko||(ko={}));var wo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wo||(wo={}));function Bb(e){if(!e)if(li){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Mb(e)}const jb=/^[^#]+#/;function $b(e,t){return e.replace(jb,"#")+t}function zb(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Wa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Hb(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=zb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Th(e,t){return(history.state?history.state.position-t:-1)+e}const mc=new Map;function Kb(e,t){mc.set(e,t)}function Wb(e){const t=mc.get(e);return mc.delete(e),t}let Qb=()=>location.protocol+"//"+location.host;function Eg(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,u=i.slice(a);return u[0]!=="/"&&(u="/"+u),_h(u,"")}return _h(n,e)+r+i}function Gb(e,t,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const d=Eg(e,location),p=n.value,m=t.value;let v=0;if(h){if(n.value=d,t.value=h,s&&s===p){s=null;return}v=m?h.position-m.position:0}else r(d);i.forEach(w=>{w(n.value,p,{delta:v,type:ko.pop,direction:v?v>0?wo.forward:wo.back:wo.unknown})})};function u(){s=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(d),d}function l(){const{history:h}=window;!h.state||h.replaceState(Se({},h.state,{scroll:Wa()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:u,listen:c,destroy:f}}function Ih(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Wa():null}}function Yb(e){const{history:t,location:n}=window,r={value:Eg(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,c,l){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:Qb()+e+u;try{t[l?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[l?"replace":"assign"](h)}}function s(u,c){const l=Se({},t.state,Ih(i.value.back,u,i.value.forward,!0),c,{position:i.value.position});o(u,l,!0),r.value=u}function a(u,c){const l=Se({},i.value,t.state,{forward:u,scroll:Wa()});o(l.current,l,!0);const f=Se({},Ih(r.value,u,null),{position:l.position+1},c);o(u,f,!1),r.value=u}return{location:r,state:i,push:a,replace:s}}function Xb(e){e=Bb(e);const t=Yb(e),n=Gb(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Se({location:"",base:e,go:r,createHref:$b.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Jb(e){return typeof e=="string"||e&&typeof e=="object"}function Tg(e){return typeof e=="string"||typeof e=="symbol"}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ig=Symbol("");var Sh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Sh||(Sh={}));function Ii(e,t){return Se(new Error,{type:e,[Ig]:!0},t)}function In(e,t){return e instanceof Error&&Ig in e&&(t==null||!!(e.type&t))}const Ch="[^/]+?",Zb={sensitive:!1,strict:!1,start:!0,end:!0},e_=/[.+*?^${}()[\]/\\]/g;function t_(e,t){const n=Se({},Zb,t),r=[];let i=n.start?"^":"";const o=[];for(const c of e){const l=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(e_,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:m,optional:v,regexp:w}=h;o.push({name:p,repeatable:m,optional:v});const E=w||Ch;if(E!==Ch){d+=10;try{new RegExp(`(${E})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+R.message)}}let T=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(T=v&&c.length<2?`(?:/${T})`:"/"+T),v&&(T+="?"),i+=T,d+=20,v&&(d+=-8),m&&(d+=-20),E===".*"&&(d+=-50)}l.push(d)}r.push(l)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(c){const l=c.match(s),f={};if(!l)return null;for(let h=1;h<l.length;h++){const d=l[h]||"",p=o[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function u(c){let l="",f=!1;for(const h of e){(!f||!l.endsWith("/"))&&(l+="/"),f=!1;for(const d of h)if(d.type===0)l+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:v}=d,w=p in c?c[p]:"";if(on(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=on(w)?w.join("/"):w;if(!E)if(v)h.length<2&&(l.endsWith("/")?l=l.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);l+=E}}return l||"/"}return{re:s,score:r,keys:o,parse:a,stringify:u}}function n_(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function r_(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=n_(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Ah(r))return 1;if(Ah(i))return-1}return i.length-r.length}function Ah(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const i_={type:0,value:""},o_=/[a-zA-Z0-9_]/;function s_(e){if(!e)return[[]];if(e==="/")return[[i_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,u,c="",l="";function f(){!c||(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&f(),s()):u===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:u==="("?n=2:o_.test(u)?h():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+u:n=3:l+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,l="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function a_(e,t,n){const r=t_(s_(e.path),n),i=Se(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function u_(e,t){const n=[],r=new Map;t=Nh({strict:!1,end:!0,sensitive:!1},t);function i(l){return r.get(l)}function o(l,f,h){const d=!h,p=l_(l);p.aliasOf=h&&h.record;const m=Nh(t,l),v=[p];if("alias"in l){const T=typeof l.alias=="string"?[l.alias]:l.alias;for(const R of T)v.push(Se({},p,{components:h?h.record.components:p.components,path:R,aliasOf:h?h.record:p}))}let w,E;for(const T of v){const{path:R}=T;if(f&&R[0]!=="/"){const U=f.record.path,Q=U[U.length-1]==="/"?"":"/";T.path=f.record.path+(R&&Q+R)}if(w=a_(T,f,m),h?h.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),d&&l.name&&!xh(w)&&s(l.name)),p.children){const U=p.children;for(let Q=0;Q<U.length;Q++)o(U[Q],w,h&&h.children[Q])}h=h||w,u(w)}return E?()=>{s(E)}:vo}function s(l){if(Tg(l)){const f=r.get(l);f&&(r.delete(l),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(l);f>-1&&(n.splice(f,1),l.record.name&&r.delete(l.record.name),l.children.forEach(s),l.alias.forEach(s))}}function a(){return n}function u(l){let f=0;for(;f<n.length&&r_(l,n[f])>=0&&(l.record.path!==n[f].record.path||!Sg(l,n[f]));)f++;n.splice(f,0,l),l.record.name&&!xh(l)&&r.set(l.record.name,l)}function c(l,f){let h,d={},p,m;if("name"in l&&l.name){if(h=r.get(l.name),!h)throw Ii(1,{location:l});m=h.record.name,d=Se(c_(f.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),l.params),p=h.stringify(d)}else if("path"in l)p=l.path,h=n.find(E=>E.re.test(p)),h&&(d=h.parse(p),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(E=>E.re.test(f.path)),!h)throw Ii(1,{location:l,currentLocation:f});m=h.record.name,d=Se({},f.params,l.params),p=h.stringify(d)}const v=[];let w=h;for(;w;)v.unshift(w.record),w=w.parent;return{name:m,path:p,params:d,matched:v,meta:h_(v)}}return e.forEach(l=>o(l)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function c_(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function l_(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:f_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function f_(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function xh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function h_(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function Nh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Sg(e,t){return t.children.some(n=>n===e||Sg(e,n))}const Cg=/#/g,d_=/&/g,p_=/\//g,g_=/=/g,m_=/\?/g,Ag=/\+/g,y_=/%5B/g,v_=/%5D/g,xg=/%5E/g,w_=/%60/g,Ng=/%7B/g,b_=/%7C/g,Dg=/%7D/g,__=/%20/g;function ml(e){return encodeURI(""+e).replace(b_,"|").replace(y_,"[").replace(v_,"]")}function E_(e){return ml(e).replace(Ng,"{").replace(Dg,"}").replace(xg,"^")}function yc(e){return ml(e).replace(Ag,"%2B").replace(__,"+").replace(Cg,"%23").replace(d_,"%26").replace(w_,"`").replace(Ng,"{").replace(Dg,"}").replace(xg,"^")}function T_(e){return yc(e).replace(g_,"%3D")}function I_(e){return ml(e).replace(Cg,"%23").replace(m_,"%3F")}function S_(e){return e==null?"":I_(e).replace(p_,"%2F")}function ra(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function C_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Ag," "),s=o.indexOf("="),a=ra(s<0?o:o.slice(0,s)),u=s<0?null:ra(o.slice(s+1));if(a in t){let c=t[a];on(c)||(c=t[a]=[c]),c.push(u)}else t[a]=u}return t}function Dh(e){let t="";for(let n in e){const r=e[n];if(n=T_(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(on(r)?r.map(o=>o&&yc(o)):[r&&yc(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function A_(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=on(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const x_=Symbol(""),Oh=Symbol(""),yl=Symbol(""),Og=Symbol(""),vc=Symbol("");function io(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Wn(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const u=f=>{f===!1?a(Ii(4,{from:n,to:t})):f instanceof Error?a(f):Jb(f)?a(Ii(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=e.call(r&&r.instances[i],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch(f=>a(f))})}function ku(e,t,n,r){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(N_(a)){const c=(a.__vccOpts||a)[t];c&&i.push(Wn(c,n,r,o,s))}else{let u=a();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const l=Pb(c)?c.default:c;o.components[s]=l;const h=(l.__vccOpts||l)[t];return h&&Wn(h,n,r,o,s)()}))}}return i}function N_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Rh(e){const t=nr(yl),n=nr(Og),r=ct(()=>t.resolve(yn(e.to))),i=ct(()=>{const{matched:u}=r.value,{length:c}=u,l=u[c-1],f=n.matched;if(!l||!f.length)return-1;const h=f.findIndex(Ti.bind(null,l));if(h>-1)return h;const d=kh(u[c-2]);return c>1&&kh(l)===d&&f[f.length-1].path!==d?f.findIndex(Ti.bind(null,u[c-2])):h}),o=ct(()=>i.value>-1&&R_(n.params,r.value.params)),s=ct(()=>i.value>-1&&i.value===n.matched.length-1&&_g(n.params,r.value.params));function a(u={}){return O_(u)?t[yn(e.replace)?"replace":"push"](yn(e.to)).catch(vo):Promise.resolve()}return{route:r,href:ct(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const D_=Ba({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Rh,setup(e,{slots:t}){const n=Hr(Rh(e)),{options:r}=nr(yl),i=ct(()=>({[Ph(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Ph(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:pl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),ia=D_;function O_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function R_(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!on(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function kh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ph=(e,t,n)=>e!=null?e:t!=null?t:n,k_=Ba({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=nr(vc),i=ct(()=>e.route||r.value),o=nr(Oh,0),s=ct(()=>{let c=yn(o);const{matched:l}=i.value;let f;for(;(f=l[c])&&!f.components;)c++;return c}),a=ct(()=>i.value.matched[s.value]);Ms(Oh,ct(()=>s.value+1)),Ms(x_,a),Ms(vc,i);const u=Ht();return wi(()=>[u.value,a.value,e.name],([c,l,f],[h,d,p])=>{l&&(l.instances[f]=c,d&&d!==l&&c&&c===h&&(l.leaveGuards.size||(l.leaveGuards=d.leaveGuards),l.updateGuards.size||(l.updateGuards=d.updateGuards))),c&&l&&(!d||!Ti(l,d)||!h)&&(l.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,l=e.name,f=a.value,h=f&&f.components[l];if(!h)return Lh(n.default,{Component:h,route:c});const d=f.props[l],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,v=pl(h,Se({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[l]=null)},ref:u}));return Lh(n.default,{Component:v,route:c})||v}}});function Lh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Rg=k_;function P_(e){const t=u_(e.routes,e),n=e.parseQuery||C_,r=e.stringifyQuery||Dh,i=e.history,o=io(),s=io(),a=io(),u=Vw(qn);let c=qn;li&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ou.bind(null,S=>""+S),f=Ou.bind(null,S_),h=Ou.bind(null,ra);function d(S,z){let F,K;return Tg(S)?(F=t.getRecordMatcher(S),K=z):K=S,t.addRoute(K,F)}function p(S){const z=t.getRecordMatcher(S);z&&t.removeRoute(z)}function m(){return t.getRoutes().map(S=>S.record)}function v(S){return!!t.getRecordMatcher(S)}function w(S,z){if(z=Se({},z||u.value),typeof S=="string"){const oe=Ru(n,S,z.path),g=t.resolve({path:oe.path},z),y=i.createHref(oe.fullPath);return Se(oe,g,{params:h(g.params),hash:ra(oe.hash),redirectedFrom:void 0,href:y})}let F;if("path"in S)F=Se({},S,{path:Ru(n,S.path,z.path).path});else{const oe=Se({},S.params);for(const g in oe)oe[g]==null&&delete oe[g];F=Se({},S,{params:f(S.params)}),z.params=f(z.params)}const K=t.resolve(F,z),Ee=S.hash||"";K.params=l(h(K.params));const xe=Fb(r,Se({},S,{hash:E_(Ee),path:K.path})),ae=i.createHref(xe);return Se({fullPath:xe,hash:Ee,query:r===Dh?A_(S.query):S.query||{}},K,{redirectedFrom:void 0,href:ae})}function E(S){return typeof S=="string"?Ru(n,S,u.value.path):Se({},S)}function T(S,z){if(c!==S)return Ii(8,{from:z,to:S})}function R(S){return ce(S)}function U(S){return R(Se(E(S),{replace:!0}))}function Q(S){const z=S.matched[S.matched.length-1];if(z&&z.redirect){const{redirect:F}=z;let K=typeof F=="function"?F(S):F;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=E(K):{path:K},K.params={}),Se({query:S.query,hash:S.hash,params:"path"in K?{}:S.params},K)}}function ce(S,z){const F=c=w(S),K=u.value,Ee=S.state,xe=S.force,ae=S.replace===!0,oe=Q(F);if(oe)return ce(Se(E(oe),{state:Ee,force:xe,replace:ae}),z||F);const g=F;g.redirectedFrom=z;let y;return!xe&&Vb(r,K,F)&&(y=Ii(16,{to:g,from:K}),ti(K,K,!0,!1)),(y?Promise.resolve(y):se(g,K)).catch(_=>In(_)?In(_,2)?_:Dt(_):Ae(_,g,K)).then(_=>{if(_){if(In(_,2))return ce(Se({replace:ae},E(_.to),{state:Ee,force:xe}),z||g)}else _=Pe(g,K,!0,ae,Ee);return be(g,K,_),_})}function ne(S,z){const F=T(S,z);return F?Promise.reject(F):Promise.resolve()}function se(S,z){let F;const[K,Ee,xe]=L_(S,z);F=ku(K.reverse(),"beforeRouteLeave",S,z);for(const oe of K)oe.leaveGuards.forEach(g=>{F.push(Wn(g,S,z))});const ae=ne.bind(null,S,z);return F.push(ae),ii(F).then(()=>{F=[];for(const oe of o.list())F.push(Wn(oe,S,z));return F.push(ae),ii(F)}).then(()=>{F=ku(Ee,"beforeRouteUpdate",S,z);for(const oe of Ee)oe.updateGuards.forEach(g=>{F.push(Wn(g,S,z))});return F.push(ae),ii(F)}).then(()=>{F=[];for(const oe of S.matched)if(oe.beforeEnter&&!z.matched.includes(oe))if(on(oe.beforeEnter))for(const g of oe.beforeEnter)F.push(Wn(g,S,z));else F.push(Wn(oe.beforeEnter,S,z));return F.push(ae),ii(F)}).then(()=>(S.matched.forEach(oe=>oe.enterCallbacks={}),F=ku(xe,"beforeRouteEnter",S,z),F.push(ae),ii(F))).then(()=>{F=[];for(const oe of s.list())F.push(Wn(oe,S,z));return F.push(ae),ii(F)}).catch(oe=>In(oe,8)?oe:Promise.reject(oe))}function be(S,z,F){for(const K of a.list())K(S,z,F)}function Pe(S,z,F,K,Ee){const xe=T(S,z);if(xe)return xe;const ae=z===qn,oe=li?history.state:{};F&&(K||ae?i.replace(S.fullPath,Se({scroll:ae&&oe&&oe.scroll},Ee)):i.push(S.fullPath,Ee)),u.value=S,ti(S,z,F,ae),Dt()}let j;function De(){j||(j=i.listen((S,z,F)=>{if(!eo.listening)return;const K=w(S),Ee=Q(K);if(Ee){ce(Se(Ee,{replace:!0}),K).catch(vo);return}c=K;const xe=u.value;li&&Kb(Th(xe.fullPath,F.delta),Wa()),se(K,xe).catch(ae=>In(ae,12)?ae:In(ae,2)?(ce(ae.to,K).then(oe=>{In(oe,20)&&!F.delta&&F.type===ko.pop&&i.go(-1,!1)}).catch(vo),Promise.reject()):(F.delta&&i.go(-F.delta,!1),Ae(ae,K,xe))).then(ae=>{ae=ae||Pe(K,xe,!1),ae&&(F.delta&&!In(ae,8)?i.go(-F.delta,!1):F.type===ko.pop&&In(ae,20)&&i.go(-1,!1)),be(K,xe,ae)}).catch(vo)}))}let it=io(),En=io(),Me;function Ae(S,z,F){Dt(S);const K=En.list();return K.length?K.forEach(Ee=>Ee(S,z,F)):console.error(S),Promise.reject(S)}function _e(){return Me&&u.value!==qn?Promise.resolve():new Promise((S,z)=>{it.add([S,z])})}function Dt(S){return Me||(Me=!S,De(),it.list().forEach(([z,F])=>S?F(S):z()),it.reset()),S}function ti(S,z,F,K){const{scrollBehavior:Ee}=e;if(!li||!Ee)return Promise.resolve();const xe=!F&&Wb(Th(S.fullPath,0))||(K||!F)&&history.state&&history.state.scroll||null;return cl().then(()=>Ee(S,z,xe)).then(ae=>ae&&Hb(ae)).catch(ae=>Ae(ae,S,z))}const Tn=S=>i.go(S);let un;const $t=new Set,eo={currentRoute:u,listening:!0,addRoute:d,removeRoute:p,hasRoute:v,getRoutes:m,resolve:w,options:e,push:R,replace:U,go:Tn,back:()=>Tn(-1),forward:()=>Tn(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:En.add,isReady:_e,install(S){const z=this;S.component("RouterLink",ia),S.component("RouterView",Rg),S.config.globalProperties.$router=z,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>yn(u)}),li&&!un&&u.value===qn&&(un=!0,R(i.location).catch(Ee=>{}));const F={};for(const Ee in qn)F[Ee]=ct(()=>u.value[Ee]);S.provide(yl,z),S.provide(Og,Hr(F)),S.provide(vc,u);const K=S.unmount;$t.add(S),S.unmount=function(){$t.delete(S),$t.size<1&&(c=qn,j&&j(),j=null,u.value=qn,un=!1,Me=!1),K()}}};return eo}function ii(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function L_(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(c=>Ti(c,a))?r.push(a):n.push(a));const u=e.matched[s];u&&(t.matched.find(c=>Ti(c,u))||i.push(u))}return[n,r,i]}const M_={class:"w-full bg-rhino-50"},F_={class:"bg-rhino-700 text-white py-2 px-4 flex justify-between items-center"},V_={class:""},U_=G("img",{class:"pop object-fill w-8 h-8 rounded-full",src:"https://play-lh.googleusercontent.com/Mj_MnS1Rfw57dG529XDloAAEFlKBgZNVYXQepGCkdiEz77seAkbR0uUAlK69WNAvylc",alt:""},null,-1),q_=Zo(" Boba Quiz "),B_={class:"min-h-[65vh] mt-4"},j_={class:"bg-rhino-700 text-white w-full py-2 px-4 flex flex-col items-center justify-center text-sm"},kg={__name:"BaseLayout",setup(e){return(t,n)=>(ge(),bt("div",M_,[G("header",F_,[G("div",V_,[le(yn(ia),{to:"/",class:"flex items-center gap-x-2 text-xl font-bold"},{default:Qt(()=>[U_,q_]),_:1})]),xn(t.$slots,"header")]),G("main",B_,[xn(t.$slots,"main")]),G("footer",j_,[xn(t.$slots,"footer")])]))}},$_=G("a",{href:""},null,-1),z_=G("p",null,[Zo("Copyright \xA9 "),G("a",{href:"https://vk.ru/mslimka",class:"underline"},"\u041C\u0430\u043A\u0441\u0438\u043C \u0428\u0442\u0438\u043B\u044C")],-1),H_={mounted(){document.querySelectorAll(".pop").forEach(t=>{t.style.animation="pop 0.6s ease-out"})},components:{BaseLayout:kg}},K_=Object.assign(H_,{__name:"App",setup(e){return(t,n)=>(ge(),Qe(kg,null,{header:Qt(()=>[$_]),main:Qt(()=>[le(yn(Rg))]),footer:Qt(()=>[z_]),_:1}))}}),W_="modulepreload",Q_=function(e){return"/boba-quiz/"+e},Mh={},G_=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=Q_(i),i in Mh)return;Mh[i]=!0;const o=i.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":W_,o||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),o)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},Y_={class:"flex flex-col w-full md:w-1/3 mx-auto mt-8 gap-2 bg-white rounded-md justify-items-stretch px-8 py-4"},X_=G("h1",{class:"text-2xl font-bold text-center mb-4"},"\u0412\u0430\u0441 \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0432\u0443\u0435\u0442 BOBA QUIZ",-1),J_=G("button",{class:"btn-primary animate-scale-up-center w-full"},"\u041F\u0440\u043E\u0439\u0442\u0438 QUIZ ",-1),Z_=G("button",{class:"btn-primary animate-scale-up-center w-full"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C QUIZ ",-1),eE={name:"HomeView"},tE=Object.assign(eE,{setup(e){return(t,n)=>(ge(),bt("div",Y_,[X_,le(yn(ia),{to:{name:"chooseQuiz"}},{default:Qt(()=>[J_]),_:1}),le(yn(ia),{to:{name:"create"}},{default:Qt(()=>[Z_]),_:1})]))}});var nE=Object.defineProperty,rE=Object.defineProperties,iE=Object.getOwnPropertyDescriptors,Fh=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,sE=Object.prototype.propertyIsEnumerable,Vh=(e,t,n)=>t in e?nE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pn=(e,t)=>{for(var n in t||(t={}))oE.call(t,n)&&Vh(e,n,t[n]);if(Fh)for(var n of Fh(t))sE.call(t,n)&&Vh(e,n,t[n]);return e},vl=(e,t)=>rE(e,iE(t));const co={type:"default",timeout:5e3,showCloseButton:!0,position:"top-right",transition:"bounce",hideProgressBar:!1,swipeClose:!0};var kr,Bn;(Bn=kr||(kr={}))[Bn.TITLE_ONLY=0]="TITLE_ONLY",Bn[Bn.TITLE_DESCRIPTION=1]="TITLE_DESCRIPTION",Bn[Bn.COMPONENT=2]="COMPONENT",Bn[Bn.VNODE=3]="VNODE";const aE={"top-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"},"top-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"top-center":{bounce:"mosha__bounceInDown",zoom:"mosha__zoomIn",slide:"mosha__slideInDown"},"bottom-center":{bounce:"mosha__bounceInUp",zoom:"mosha__zoomIn",slide:"mosha__slideInUp"},"bottom-right":{bounce:"mosha__bounceInRight",zoom:"mosha__zoomIn",slide:"mosha__slideInRight"},"bottom-left":{bounce:"mosha__bounceInLeft",zoom:"mosha__zoomIn",slide:"mosha__slideInLeft"}},Uh=(e,t=300)=>{let n;return(...r)=>{n&&(clearTimeout(n),n=void 0),n=setTimeout(()=>e(...r),t)}},uE=(e,t,n)=>{const r=Ht(),i=Ht(void 0),o=Ht(),s=c=>c instanceof MouseEvent,a=c=>{n!==!1&&r.value&&(s(c)?i.value=r.value.clientX-c.clientX:i.value=r.value.touches[0].clientX-c.touches[0].clientX,o.value=vl(pn({},o.value),{transition:"none"}),e.endsWith("left")?o.value.left=-i.value+"px !important":e.endsWith("right")?o.value.right=`${i.value}px !important`:i.value>0?o.value.left=-i.value+"px !important":o.value.right=`${i.value}px !important`,Math.abs(i.value)>200&&t())},u=c=>{n!==!1&&(r.value&&(r.value=void 0),i.value&&(i.value=void 0),removeEventListener(c,a))};return Do(()=>{n!==!1&&(u("mousemove"),u("touchmove"))}),{swipedDiff:i,swipeStart:r,swipeStyle:o,swipeHandler:a,startSwipeHandler:c=>{if(n===!1)return;r.value=c;const l=s(c)?"mousemove":"touchmove",f=s(c)?"mouseup":"touchend";addEventListener(l,a),addEventListener(f,()=>(h=>{const d={transition:"left .3s ease-out",left:0},p={transition:"right .3s ease-out",right:0},m={transition:"all .3s ease-out",left:0,right:0};e.endsWith("left")?o.value=pn(pn({},o.value),d):e.endsWith("right")?o.value=pn(pn({},o.value),p):o.value=pn(pn({},o.value),m),r.value=void 0,i.value=void 0,removeEventListener(h,a)})(l))},cleanUpMove:u}};var Pg=Ba({props:{type:{type:String,default:"default"}}});const cE={class:"mosha__icon"},lE={key:0,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},fE=le("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),hE={key:1,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},dE=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),pE={key:2,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},gE=le("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),mE=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"},null,-1),yE={key:3,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#616161"},vE=le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),wE=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1),bE={key:4,xmlns:"http://www.w3.org/2000/svg",height:"32px",viewBox:"0 0 24 24",width:"32px",fill:"#ffffff"},_E=le("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),EE=le("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},null,-1);Pg.render=function(e,t,n,r,i,o){return ge(),Qe("span",cE,[e.type==="warning"?(ge(),Qe("svg",lE,[fE])):e.type==="danger"?(ge(),Qe("svg",hE,[dE])):e.type==="success"?(ge(),Qe("svg",pE,[gE,mE])):e.type==="default"?(ge(),Qe("svg",yE,[vE,wE])):(ge(),Qe("svg",bE,[_E,EE]))])};var Us=Ba({name:"MToast",components:{MIcon:Pg},props:{visible:Boolean,text:{type:String,default:""},description:{type:String,default:""},toastBackgroundColor:{type:String,default:""},type:{type:String,default:"default"},onClose:{type:Function,default:()=>null},onCloseHandler:{type:Function,required:!0},offset:{type:Number,required:!0},id:{type:Number,required:!0},timeout:{type:Number,default:5e3},position:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},swipeClose:{type:Boolean,default:!0},hideProgressBar:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},transition:{type:String,default:"bounce"}},setup(e,t){const n=Ht(),{width:r}=(()=>{const E=Ht(-1),T=Ht(-1),R=U=>{U!==null&&U.currentTarget!==null&&(E.value=U.currentTarget.innerWidth,T.value=U.currentTarget.innerHeight)};return mo(()=>{window.innerWidth>0&&(E.value=window.innerWidth,T.value=window.innerHeight),window.addEventListener("resize",Uh(R))}),Do(()=>{window.removeEventListener("resize",Uh(R))}),{width:E,height:T}})(),{swipedDiff:i,startSwipeHandler:o,swipeStyle:s,cleanUpMove:a}=uE(e.position,e.onCloseHandler,e.swipeClose),{transitionType:u}=(c=e.position,l=e.transition,f=i,{transitionType:ct(()=>f.value>200?"mosha__fadeOutLeft":f.value<-200?"mosha__fadeOutRight":aE[c][l])});var c,l,f;const{start:h,stop:d,progress:p}=((E,T)=>{const R=Ht(),U=Ht(0),Q=Ht(T),ce=Ht(),ne=Ht(100),se=()=>{clearInterval(ce.value),clearTimeout(R.value)};return mo(()=>{}),Do(()=>{se()}),{start:()=>{U.value=Date.now(),clearTimeout(R.value),ce.value=setInterval(()=>{ne.value--},T/100-5),R.value=setTimeout(E,Q.value)},stop:()=>{clearInterval(ce.value),clearTimeout(R.value),Q.value-=Date.now()-U.value},clear:se,progress:ne}})(()=>{e.onCloseHandler()},e.timeout),m=ct(()=>t.slots.default),v=ct(()=>/<\/?[a-z][\s\S]*>/i.test(e.description)),w=()=>{e.timeout>0&&h()};return t0(()=>{const{customStyle:E}=((T,R,U)=>{const Q=ct(()=>{switch(T){case"top-left":return{left:"0",top:`${R}px`};case"bottom-left":return{left:"0",bottom:`${R}px`};case"bottom-right":return{right:"0",bottom:`${R}px`};case"top-center":return{top:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};case"bottom-center":return{bottom:`${R}px`,left:"0",right:"0",marginRight:"auto",marginLeft:"auto"};default:return{right:"0",top:`${R}px`}}});return U.length>0&&(Q.value.backgroundColor=U),{customStyle:Q}})(e.position,e.offset,e.toastBackgroundColor);n.value=E.value}),mo(()=>{w()}),{style:n,transitionType:u,startTimer:w,progress:p,onTouchStart:E=>{o(E)},onMouseLeave:()=>{a("mousemove"),w()},onMouseDown:E=>{o(E)},swipeStyle:s,isSlotPassed:m,isDescriptionHtml:v,onMouseEnter:()=>{e.timeout>0&&r.value>425&&d()}}}});const TE={class:"mosha__toast__content-wrapper"},IE={class:"mosha__toast__content"},SE={class:"mosha__toast__content__text"},CE={key:1,class:"mosha__toast__content__description"},AE={key:0,class:"mosha__toast__slot-wrapper"};Us.render=function(e,t,n,r,i,o){const s=Js("MIcon");return ge(),Qe(Ka,{name:e.transitionType,type:"animation"},{default:Qt(()=>[e.visible?(ge(),Qe("div",{key:0,class:["mosha__toast",e.toastBackgroundColor?null:e.type],style:[e.style,e.swipeStyle],onMouseenter:t[2]||(t[2]=(...a)=>e.onMouseEnter&&e.onMouseEnter(...a)),onMouseleave:t[3]||(t[3]=(...a)=>e.onMouseLeave&&e.onMouseLeave(...a)),onTouchstartPassive:t[4]||(t[4]=(...a)=>e.onTouchStart&&e.onTouchStart(...a)),onMousedown:t[5]||(t[5]=(...a)=>e.onMouseDown&&e.onMouseDown(...a))},[le("div",TE,[e.showIcon?(ge(),Qe(s,{key:0,type:e.type},null,8,["type"])):kt("",!0),le("div",IE,[le("div",SE,or(e.text),1),e.description.length>0&&e.isDescriptionHtml?(ge(),Qe("div",{key:0,class:"mosha__toast__content__description",innerHTML:e.description},null,8,["innerHTML"])):kt("",!0),e.description.length>0&&!e.isDescriptionHtml?(ge(),Qe("div",CE,or(e.description),1)):kt("",!0)])]),e.isSlotPassed?(ge(),Qe("div",AE,[xn(e.$slots,"default")])):kt("",!0),e.showCloseButton?(ge(),Qe("div",{key:1,class:"mosha__toast__close-icon",onClick:t[1]||(t[1]=(...a)=>e.onCloseHandler&&e.onCloseHandler(...a))})):kt("",!0),e.hideProgressBar?kt("",!0):(ge(),Qe("div",{key:2,class:"mosha__toast__progress",style:{width:`${e.progress}%`}},null,4))],38)):kt("",!0)]),_:3},8,["name"])};const oa={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[],"top-center":[],"bottom-center":[]};let xE=0;const Lg=(e,t)=>{const n=xE++,r=t?NE(t):co;if(e.__v_isVNode)return Pu(n,kr.VNODE,r,e),{close:()=>bi(n,r.position)};if(e.hasOwnProperty("render"))return Pu(n,kr.COMPONENT,r,e),{close:()=>bi(n,r.position)};const i=DE(e);return Pu(n,kr.TITLE_DESCRIPTION,r,i),{close:()=>bi(n,r.position)}},Pu=(e,t,n,r)=>{setTimeout(()=>{const i=OE(n,oa,12),o=document.createElement("div");let s;document.body.appendChild(o),s=t===kr.VNODE?le(Us,Lu(n,e,i,bi),()=>[r]):t===kr.TITLE_DESCRIPTION?le(Us,Lu(n,e,i,bi,r)):le(Us,Lu(n,e,i,bi),()=>[le(r)]),wg(s,o),oa[n.position].push({toastVNode:s,container:o}),s.component&&(s.component.props.visible=!0)},1)},Lu=(e,t,n,r,i)=>vl(pn(pn({},e),i),{id:t,offset:n,visible:!1,onCloseHandler:()=>{r(t,e.position?e.position:"top-right")}}),NE=e=>{const t=vl(pn({},e),{type:e.type||co.type,timeout:e.timeout||co.timeout,showCloseButton:e.showCloseButton,position:e.position||co.position,showIcon:e.showIcon,swipeClose:e.swipeClose,transition:e.transition||co.transition});return t.hideProgressBar=t.timeout!==void 0&&t.timeout<=0,e.hideProgressBar!==void 0&&(t.hideProgressBar=e.hideProgressBar),t},DE=e=>({text:typeof e=="string"?e:e.title,description:typeof e=="string"?void 0:e.description}),OE=(e,t,n)=>{let r=n;if(!e.position)throw new Error("no position");return t[e.position].forEach(({toastVNode:i})=>{r+=i.el.offsetHeight+n||0}),r},bi=(e,t)=>{const n=oa[t],r=n.findIndex(({toastVNode:a})=>a.props&&e===a.props.id);if(r===-1)return;const{container:i,toastVNode:o}=n[r];if(!o.el)return;const s=o.el.offsetHeight;oa[t].splice(r,1),((a,u,c,l)=>{for(let f=a;f<u.length;f++){const{toastVNode:h}=u[f];if(!h.el)return;const d=c.split("-")[0]||"top",p=parseInt(h.el.style[d],10)-l-12;if(!h.component)return;h.component.props.offset=p}})(r,n,t,s),o.component&&(o.component.props.visible=!1,o.component.props.onClose&&o.component.props.onClose(),setTimeout(()=>{wg(null,i),document.body.removeChild(i)},1e3))};const RE="/boba-quiz/questionTypeRadio.png";const wl=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},kE={data(){return{selectedCategory:"",newAnswer:"",newAnswerFocused:!0,current_question:{position:0,correct_question_id:""},quiz:[{question:"What do you want to do?",answers:["Do not know","I know, but i wouldn't say ypu tah little small motherfucker ahahahah","Correct"],correct_answer:""}]}},setup(){return{toastError:t=>{Lg({title:"\u041E\u0448\u0438\u0431\u043A\u0430",description:t},{position:"top-right",type:"danger",transition:"bounce",showIcon:"true",timeout:3e3})}}},methods:{changeCorrectQuestionId(e){console.log("change",e),this.current_question.correct_question_id=e},resizeTextArea(e,t){const n=e.target;n.style.height=n.scrollHeight+"px",console.log(t),t==this.current_question.correct_question_id&&(this.quiz[this.current_question.position].correct_answer=e.target.value)},async createQuiz(){let e=!1;for(let t of this.quiz)(t.correct_answer==""||t.question==="")&&(e=!0);console.log(this.quiz),e==!1&&this.$store.dispatch("createQuiz",{quizId:this.$route.params.quizId,quizData:this.quiz})},async createNewQuestion(){if(this.quiz[this.current_question.position].question!=="")if(this.quiz[this.current_question.position].correct_answer!=="")this.current_question.position===this.quiz.length-1?(console.log(1),this.quiz.push({question:"",answers:[],correct_answer:"",right_answer:0}),await cl(),this.current_question.position++):this.current_question.position++;else return this.toastError("\u0412\u044B\u0431\u0438\u0440\u0435\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 \u043D\u0430 \u0432\u043E\u043F\u0440\u043E\u0441!");else return this.toastError("\u0412\u043E\u043F\u0440\u043E\u0441 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C!")},deleteQuestion(e){console.log(e),this.quiz[this.current_question.position].answers.splice(e,1)}},watch:{newAnswerFocused(e,t){if(console.log(e),e===!1&&this.newAnswer!=="")this.quiz[this.current_question.position].answers.push(this.newAnswer.trim()),this.newAnswer="";else if(this.newAnswer===""&&e===!1)return this.toastError("\u041E\u0442\u0432\u0435\u0442 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C!")}}},PE={class:"quiz flex items-center justify-center"},LE={class:"flex flex-col justify-center items-start w-full md:w-big relative mb-5 rounded-lg bg-white px-6 py-3 shadow-lg"},ME={class:"text-xl font-medium"},FE={class:"relative font-bold font-mono text-2xl ml-1"},VE=Zo(" \u0412\u043E\u043F\u0440\u043E\u0441 "),UE={class:"flex flex-col w-full h-fit"},qE=G("img",{src:RE,class:"w-24 h-24 ring-4 ring-rhino-500 p-2 rounded-md"},null,-1),BE=G("hr",{class:"mb-8 h-1 w-full rounded-full bg-slate-200"},null,-1),jE={class:"card flex items-center flex-col mt-0"},$E=G("span",{class:"p-tag"},"\u0412\u043E\u043F\u0440\u043E\u0441",-1),zE=G("span",{class:"p-tag"},"\u041E\u0442\u0432\u0435\u0442\u044B",-1),HE={class:"flex flex-col items-center gap-y-2 w-full mt-4"},KE=["value","id","onChange"],WE=["onUpdate:modelValue","onInput","onFocus"],QE=["onClick"],GE=G("button",{class:"h-max flex item-center justify-center"},[G("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1),YE=[GE],XE={class:"w-full md:w-3/4 flex justify-center items-center mt-2 mb-4"},JE={class:"flex justify-center w-full"},ZE={class:"btn-group mt-4 justify-items-stretch"},e1=["disabled"];function t1(e,t,n,r,i,o){const s=Js("Fieldset"),a=Js("Divider");return ge(),bt("div",PE,[G("div",LE,[G("h2",ME,[G("span",FE,or(this.current_question.position),1),VE]),G("div",UE,[le(s,{legend:"\u0422\u0438\u043F \u0432\u043E\u043F\u0440\u043E\u0441\u0430",class:"w-full my-4",toggleable:!0},{default:Qt(()=>[qE]),_:1}),BE,G("div",jE,[le(a,{align:"center"},{default:Qt(()=>[$E]),_:1}),Zn(G("input",{type:"text",class:"input my-4 md:w-3/4",placeholder:"\u0412\u043E\u043F\u0440\u043E\u0441 ?)","onUpdate:modelValue":t[0]||(t[0]=u=>i.quiz[i.current_question.position].question=u)},null,512),[[Vs,i.quiz[i.current_question.position].question]]),le(a,{align:"center"},{default:Qt(()=>[zE]),_:1}),G("ul",HE,[(ge(!0),bt(Pt,null,y0(i.quiz[i.current_question.position].answers,(u,c)=>(ge(),bt("li",{class:"w-full md:w-3/4 flex py-2 px-4 gap-2 justify-between items-center bg-rhino-50/50 rounded-md",key:c},[Zn(G("input",{type:"radio",value:u,"onUpdate:modelValue":t[1]||(t[1]=l=>i.quiz[i.current_question.position].correct_answer=l),id:c,name:"correct_answer",class:"radio",onChange:l=>o.changeCorrectQuestionId(c)},null,40,KE),[[wb,i.quiz[i.current_question.position].correct_answer]]),Zn(G("textarea",{type:"text","onUpdate:modelValue":l=>i.quiz[i.current_question.position].answers[c]=l,class:"w-full px-4 py-2 resize-y leading-6 bg-transparent rounded-none outline-none border-none focus:ring-0",rows:"1",onInput:l=>o.resizeTextArea(l,c),onFocus:l=>o.resizeTextArea(l,c)},null,40,WE),[[Vs,i.quiz[i.current_question.position].answers[c]]]),G("div",{onClick:l=>o.deleteQuestion(c)},YE,8,QE)]))),128)),G("li",XE,[Zn(G("input",{type:"text",onFocus:t[2]||(t[2]=u=>i.newAnswerFocused=!0),onBlur:t[3]||(t[3]=u=>i.newAnswerFocused=!1),"onUpdate:modelValue":t[4]||(t[4]=u=>i.newAnswer=u),onKeyup:t[5]||(t[5]=gl(u=>u.target.blur(),["enter"])),class:"input w-full",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043E\u0442\u0432\u0435\u0442"},null,544),[[Vs,i.newAnswer]])])]),G("span",JE,[G("div",ZE,[G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[6]||(t[6]=u=>i.current_question.position--),disabled:i.current_question.position==0},"\u041D\u0430\u0437\u0430\u0434",8,e1),G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[7]||(t[7]=(...u)=>o.createQuiz&&o.createQuiz(...u))},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C Quiz"),G("button",{class:"btn-in-group animate-scale-up-center",onClick:t[8]||(t[8]=(...u)=>o.createNewQuestion&&o.createNewQuestion(...u))},"\u0414\u0430\u043B\u0435\u0435")])])])]),Zo(" "+or(i.quiz[i.current_question.position].correct_answer),1)])])}const n1=wl(kE,[["render",t1]]),r1={components:{CreateQuiz:n1}};function i1(e,t,n,r,i,o){const s=Js("CreateQuiz");return ge(),Qe(s)}const o1=wl(r1,[["render",i1]]),s1={name:"ChooseQuizView",data(){return{quizId:""}},updated(){this.$route.query.error==="1"&&(this.toastError("\u041A\u0432\u0438\u0437\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C ID \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"),this.$router.push({name:"chooseQuiz"}))},methods:{chooseQuiz(){this.quizId!=""?this.$router.push({name:"completeQuiz",params:{quizId:this.quizId}}):this.toastError("\u041A\u0432\u0438\u0437\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C ID \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!")}},watch:{quizId(){}},setup(){return{toastError:t=>{Lg({title:"\u041E\u0448\u0438\u0431\u043A\u0430",description:t},{position:"top-right",type:"danger",transition:"bounce",showIcon:"true",timeout:3e3})}}}},a1={class:"flex flex-col md:w-big w-full mx-auto px-8 py-4 mt-8 items-center bg-white rounded-md transition animate-jello-horizontal"},u1=G("h2",{class:"text-center font-bold text-2xl tracking-wide mb-4"},"\u041D\u0430\u0447\u0438\u043D\u0430\u0435\u043C \u{1F60E}",-1),c1={class:"divide-2 group flex divide-rhino-400 rounded-md bg-rhino-50 md:w-2/3"},l1=G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f1=[l1];function h1(e,t,n,r,i,o){return ge(),bt("div",a1,[u1,G("div",c1,[Zn(G("input",{type:"text",class:"input rounded-r-none","onUpdate:modelValue":t[0]||(t[0]=s=>i.quizId=s),onKeyup:t[1]||(t[1]=gl((...s)=>o.chooseQuiz&&o.chooseQuiz(...s),["enter"])),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ID Boba Quiz"},null,544),[[Vs,i.quizId]]),G("button",{type:"submit",class:"cursor-pointer rounded-lg rounded-l-none p-2 text-rhino-500 transition duration-200 ease-in-out hover:bg-rhino-500 hover:text-rhino-50",onClick:t[2]||(t[2]=(...s)=>o.chooseQuiz&&o.chooseQuiz(...s))},f1)])])}const d1=wl(s1,[["render",h1]]);var wc=function(e,t){return wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wc(e,t)};function J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Po=function(){return Po=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Po.apply(this,arguments)};function C(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function I(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Mu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ss(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function Ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mg=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},p1=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,d=c&63;u||(d=64,s||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mg(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):p1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,f=l?n[e.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw Error();var h=o<<2|a>>4;if(r.push(h),c!==64){var d=a<<4&240|c>>2;if(r.push(d),f!==64){var p=c<<6&192|f;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},m1=function(e){var t=Mg(e);return g1.encodeByteArray(t,!0)},qh=function(e){return m1(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e){return Lo(void 0,e)}function Lo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!v1(r)||(e[r]=Lo(e[r],t[r]));return e}function v1(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w1=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Po({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[qh(JSON.stringify(n)),qh(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function Fg(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E1(){return typeof self=="object"&&self.self===self}function T1(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function I1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){return Fr().indexOf("Electron/")>=0}function C1(){var e=Fr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A1(){return Fr().indexOf("MSAppHost/")>=0}function x1(){return!Fg()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N1="FirebaseError",D1=function(e){J(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=N1,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,bl.prototype.create),o}return t}(Error),bl=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],a=s?O1(s,i):"Error",u=this.serviceName+": "+a+" ("+o+").",c=new D1(o,u,i);return c},e}();function O1(e,t){return e.replace(R1,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var R1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k1(e,t){var n=new P1(e,t);return n.subscribe.bind(n)}var P1=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Fu),o.error===void 0&&(o.error=Fu),o.complete===void 0&&(o.complete=Fu);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function L1(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Fu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}var Qa=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M1=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new w1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(V1(t))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}try{for(var i=Mu(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Ss(o.value,2),a=s[0],u=s[1],c=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_r),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ve(Ve([],Ss(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Ss(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_r),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_r),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Mu(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Ss(c.value,2),f=l[0],h=l[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(a)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(!!o)try{for(var s=Mu(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:F1(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_r),this.component?this.component.multipleInstances?t:_r:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function F1(e){return e===_r?void 0:e}function V1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U1=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new M1(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Xt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr,_l=[],me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));var Vg={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},q1=me.INFO,B1=(wr={},wr[me.DEBUG]="log",wr[me.VERBOSE]="log",wr[me.INFO]="info",wr[me.WARN]="warn",wr[me.ERROR]="error",wr),j1=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=B1[t];if(o)console[o].apply(console,Xt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ug=function(){function e(t){this.name=t,this._logLevel=q1,this._logHandler=j1,this._userLogHandler=null,_l.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in me))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Vg[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Xt([this,me.DEBUG],t)),this._logHandler.apply(this,Xt([this,me.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Xt([this,me.VERBOSE],t)),this._logHandler.apply(this,Xt([this,me.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Xt([this,me.INFO],t)),this._logHandler.apply(this,Xt([this,me.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Xt([this,me.WARN],t)),this._logHandler.apply(this,Xt([this,me.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Xt([this,me.ERROR],t)),this._logHandler.apply(this,Xt([this,me.ERROR],t))},e}();function $1(e){_l.forEach(function(t){t.setLogLevel(e)})}function z1(e,t){for(var n=function(s){var a=null;t&&t.level&&(a=Vg[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(u,c){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];var h=l.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");c>=(a!=null?a:u.logLevel)&&e({level:me[c].toLowerCase(),message:h,args:l,type:u.name})}},r=0,i=_l;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,H1=(jn={},jn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",jn["bad-app-name"]="Illegal App name: '{$appName}",jn["duplicate-app"]="Firebase App named '{$appName}' already exists",jn["app-deleted"]="Firebase App named '{$appName}' already deleted",jn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",jn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",jn),fi=new bl("app","Firebase",H1),qg="@firebase/app",K1="0.6.30",W1="@firebase/analytics",Q1="@firebase/app-check",G1="@firebase/auth",Y1="@firebase/database",X1="@firebase/functions",J1="@firebase/installations",Z1="@firebase/messaging",eT="@firebase/performance",tT="@firebase/remote-config",nT="@firebase/storage",rT="@firebase/firestore",iT="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,sa="[DEFAULT]",oT=(ot={},ot[qg]="fire-core",ot[W1]="fire-analytics",ot[Q1]="fire-app-check",ot[G1]="fire-auth",ot[Y1]="fire-rtdb",ot[X1]="fire-fn",ot[J1]="fire-iid",ot[Z1]="fire-fcm",ot[eT]="fire-perf",ot[tT]="fire-rc",ot[nT]="fire-gcs",ot[rT]="fire-fst",ot["fire-js"]="fire-js",ot[iT]="fire-js-all",ot);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=new Ug("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=y1(t),this.container=new U1(n.name),this._addComponent(new Qa("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=sa),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=sa),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Si.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fi.create("app-deleted",{appName:this.name_})},e}();qs.prototype.name&&qs.prototype.options||qs.prototype.delete||console.log("dc");var sT="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:c,setLogLevel:$1,onLog:l,apps:null,SDK_VERSION:sT,INTERNAL:{registerComponent:u,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:a});function i(h){delete t[h]}function o(h){if(h=h||sa,!Bh(t,h))throw fi.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var p=d;d={name:p}}var m=d;m.name===void 0&&(m.name=sa);var v=m.name;if(typeof v!="string"||!v)throw fi.create("bad-app-name",{appName:String(v)});if(Bh(t,v))throw fi.create("duplicate-app",{appName:v});var w=new e(h,m,r);return t[v]=w,w}function a(){return Object.keys(t).map(function(h){return t[h]})}function u(h){var d=h.name;if(n.has(d))return Si.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var p=function(E){if(E===void 0&&(E=o()),typeof E[d]!="function")throw fi.create("invalid-app-argument",{appName:d});return E[d]()};h.serviceProps!==void 0&&Lo(p,h.serviceProps),r[d]=p,e.prototype[d]=function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];var R=this._getService.bind(this,d);return R.apply(this,h.multipleInstances?E:[])}}for(var m=0,v=Object.keys(t);m<v.length;m++){var w=v[m];t[w]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function c(h,d,p){var m,v=(m=oT[h])!==null&&m!==void 0?m:h;p&&(v+="-"+p);var w=v.match(/\s|\//),E=d.match(/\s|\//);if(w||E){var T=['Unable to register library "'+v+'" with version "'+d+'":'];w&&T.push('library name "'+v+'" contains illegal characters (whitespace or "/")'),w&&E&&T.push("and"),E&&T.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),Si.warn(T.join(" "));return}u(new Qa(v+"-version",function(){return{library:v,version:d}},"VERSION"))}function l(h,d){if(h!==null&&typeof h!="function")throw fi.create("invalid-log-argument");z1(h,d)}function f(h,d){if(d==="serverAuth")return null;var p=d;return p}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var e=aT(qs);e.INTERNAL=Po(Po({},e.INTERNAL),{createFirebaseNamespace:Bg,extendNamespace:t,createSubscribe:k1,ErrorFactory:bl,deepExtend:Lo});function t(n){Lo(e,n)}return e}var El=Bg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(cT(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function cT(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e,t){e.INTERNAL.registerComponent(new Qa("platform-logger",function(n){return new uT(n)},"PRIVATE")),e.registerVersion(qg,K1,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(E1()&&self.firebase!==void 0){Si.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var jh=self.firebase.SDK_VERSION;jh&&jh.indexOf("LITE")>=0&&Si.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var fT=El.initializeApp;El.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fg()&&Si.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),fT.apply(void 0,e)};var es=El;lT(es);var hT="firebase",jg="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.registerVersion(hT,jg,"app");es.SDK_VERSION=jg;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bc=function(e,t){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bc(e,t)};function dT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function $g(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Tl=Tl||{},te=pT||self;function aa(){}function _c(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ts(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function gT(e){return Object.prototype.hasOwnProperty.call(e,Vu)&&e[Vu]||(e[Vu]=++mT)}var Vu="closure_uid_"+(1e9*Math.random()>>>0),mT=0;function yT(e,t,n){return e.call.apply(e.bind,arguments)}function vT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function et(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?et=yT:et=vT,et.apply(null,arguments)}function Cs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function lr(){this.s=this.s,this.o=this.o}var wT=0;lr.prototype.s=!1;lr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),wT!=0)&&gT(this)};lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hg=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function bT(e){e:{for(var t=fI,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function $h(e){return Array.prototype.concat.apply([],arguments)}function Il(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ua(e){return/^[\s\xa0]*$/.test(e)}var zh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function vt(e,t){return e.indexOf(t)!=-1}function Uu(e,t){return e<t?-1:e>t?1:0}var wt;e:{var Hh=te.navigator;if(Hh){var Kh=Hh.userAgent;if(Kh){wt=Kh;break e}}wt=""}function Sl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Kg(e){var t={};for(var n in e)t[n]=e[n];return t}var Wh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wg(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Wh.length;o++)n=Wh[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cl(e){return Cl[" "](e),e}Cl[" "]=aa;function _T(e){var t=IT;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var ET=vt(wt,"Opera"),Ci=vt(wt,"Trident")||vt(wt,"MSIE"),Qg=vt(wt,"Edge"),Ec=Qg||Ci,Gg=vt(wt,"Gecko")&&!(vt(wt.toLowerCase(),"webkit")&&!vt(wt,"Edge"))&&!(vt(wt,"Trident")||vt(wt,"MSIE"))&&!vt(wt,"Edge"),TT=vt(wt.toLowerCase(),"webkit")&&!vt(wt,"Edge");function Yg(){var e=te.document;return e?e.documentMode:void 0}var ca;e:{var qu="",Bu=function(){var e=wt;if(Gg)return/rv:([^\);]+)(\)|;)/.exec(e);if(Qg)return/Edge\/([\d\.]+)/.exec(e);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(TT)return/WebKit\/(\S+)/.exec(e);if(ET)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Bu&&(qu=Bu?Bu[1]:""),Ci){var ju=Yg();if(ju!=null&&ju>parseFloat(qu)){ca=String(ju);break e}}ca=qu}var IT={};function ST(){return _T(function(){for(var e=0,t=zh(String(ca)).split("."),n=zh("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=Uu(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||Uu(o[2].length==0,s[2].length==0)||Uu(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Tc;if(te.document&&Ci){var Qh=Yg();Tc=Qh||parseInt(ca,10)||void 0}else Tc=void 0;var CT=Tc,AT=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{te.addEventListener("test",aa,t),te.removeEventListener("test",aa,t)}catch{}return e}();function dt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};function Mo(e,t){if(dt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gg){e:{try{Cl(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mo.Z.h.call(this)}}rt(Mo,dt);var xT={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ns="closure_listenable_"+(1e6*Math.random()|0),NT=0;function DT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++NT,this.ca=this.fa=!1}function Ga(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ya(e){this.src=e,this.g={},this.h=0}Ya.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Sc(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new DT(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function Ic(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=zg(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ga(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Sc(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Al="closure_lm_"+(1e6*Math.random()|0),$u={};function Xg(e,t,n,r,i){if(r&&r.once)return Zg(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xg(e,t[o],n,r,i);return null}return n=Dl(n),e&&e[ns]?e.N(t,n,ts(r)?!!r.capture:!!r,i):Jg(e,t,n,!1,r,i)}function Jg(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=ts(i)?!!i.capture:!!i,a=Nl(e);if(a||(e[Al]=a=new Ya(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=OT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AT||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tm(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OT(){function e(n){return t.call(e.src,e.listener,n)}var t=RT;return e}function Zg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zg(e,t[o],n,r,i);return null}return n=Dl(n),e&&e[ns]?e.O(t,n,ts(r)?!!r.capture:!!r,i):Jg(e,t,n,!0,r,i)}function em(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)em(e,t[o],n,r,i);else r=ts(r)?!!r.capture:!!r,n=Dl(n),e&&e[ns]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Sc(o,n,r,i),-1<n&&(Ga(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Nl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sc(t,n,r,i)),(n=-1<e?t[e]:null)&&xl(n))}function xl(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ns])Ic(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nl(t))?(Ic(n,e),n.h==0&&(n.src=null,t[Al]=null)):Ga(e)}}}function tm(e){return e in $u?$u[e]:$u[e]="on"+e}function RT(e,t){if(e.ca)e=!0;else{t=new Mo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xl(e),e=n.call(r,t)}return e}function Nl(e){return e=e[Al],e instanceof Ya?e:null}var zu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dl(e){return typeof e=="function"?e:(e[zu]||(e[zu]=function(t){return e.handleEvent(t)}),e[zu])}function Xe(){lr.call(this),this.i=new Ya(this),this.P=this,this.I=null}rt(Xe,lr);Xe.prototype[ns]=!0;Xe.prototype.removeEventListener=function(e,t,n,r){em(this,e,t,n,r)};function tt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new dt(t,e);else if(t instanceof dt)t.target=t.target||e;else{var i=t;t=new dt(r,e),Wg(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=As(s,r,!0,t)&&i}if(s=t.g=e,i=As(s,r,!0,t)&&i,i=As(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=As(s,r,!1,t)&&i}Xe.prototype.M=function(){if(Xe.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ga(n[r]);delete e.g[t],e.h--}}this.I=null};Xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function As(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Ic(e.i,s),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ol=te.JSON.stringify;function kT(){var e=rm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var PT=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=nm.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),nm=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new LT},function(e){return e.reset()}),LT=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function MT(e){te.setTimeout(function(){throw e},0)}function Rl(e,t){Cc||FT(),Ac||(Cc(),Ac=!0),rm.add(e,t)}var Cc;function FT(){var e=te.Promise.resolve(void 0);Cc=function(){e.then(VT)}}var Ac=!1,rm=new PT;function VT(){for(var e;e=kT();){try{e.h.call(e.g)}catch(n){MT(n)}var t=nm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ac=!1}function Xa(e,t){Xe.call(this),this.h=e||1,this.g=t||te,this.j=et(this.kb,this),this.l=Date.now()}rt(Xa,Xe);B=Xa.prototype;B.da=!1;B.S=null;B.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tt(this,"tick"),this.da&&(kl(this),this.start()))}};B.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}B.M=function(){Xa.Z.M.call(this),kl(this),delete this.g};function Pl(e,t,n){if(typeof e=="function")n&&(e=et(e,n));else if(e&&typeof e.handleEvent=="function")e=et(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:te.setTimeout(e,t||0)}function im(e){e.g=Pl(function(){e.g=null,e.i&&(e.i=!1,im(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var UT=function(e){dT(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:im(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(lr);function Fo(e){lr.call(this),this.h=e,this.g={}}rt(Fo,lr);var Gh=[];function om(e,t,n,r){Array.isArray(n)||(n&&(Gh[0]=n.toString()),n=Gh);for(var i=0;i<n.length;i++){var o=Xg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function sm(e){Sl(e.g,function(t,n){this.g.hasOwnProperty(n)&&xl(t)},e),e.g={}}Fo.prototype.M=function(){Fo.Z.M.call(this),sm(this)};Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ja(){this.g=!0}Ja.prototype.Aa=function(){this.g=!1};function qT(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&f[1]=="type"?s+(l+"="+c+"&"):s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function BT(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function pi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$T(e,n)+(r?" "+r:"")})}function jT(e,t){e.info(function(){return"TIMEOUT: "+t})}Ja.prototype.info=function(){};function $T(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Ol(n)}catch{return t}}var Kr={},Yh=null;function Za(){return Yh=Yh||new Xe}Kr.Ma="serverreachability";function am(e){dt.call(this,Kr.Ma,e)}rt(am,dt);function Vo(e){var t=Za();tt(t,new am(t))}Kr.STAT_EVENT="statevent";function um(e,t){dt.call(this,Kr.STAT_EVENT,e),this.stat=t}rt(um,dt);function _t(e){var t=Za();tt(t,new um(t,e))}Kr.Na="timingevent";function cm(e,t){dt.call(this,Kr.Na,e),this.size=t}rt(cm,dt);function rs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){e()},t)}var eu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ll(){}Ll.prototype.h=null;function Xh(e){return e.h||(e.h=e.i())}function fm(){}var is={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ml(){dt.call(this,"d")}rt(Ml,dt);function Fl(){dt.call(this,"c")}rt(Fl,dt);var xc;function tu(){}rt(tu,Ll);tu.prototype.g=function(){return new XMLHttpRequest};tu.prototype.i=function(){return{}};xc=new tu;function os(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Fo(this),this.P=zT,e=Ec?125:void 0,this.W=new Xa(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hm}function hm(){this.i=null,this.g="",this.h=!1}var zT=45e3,Nc={},la={};B=os.prototype;B.setTimeout=function(e){this.P=e};function Dc(e,t,n){e.K=1,e.v=ru(kn(t)),e.s=n,e.U=!0,dm(e,null)}function dm(e,t){e.F=Date.now(),ss(e),e.A=kn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hm,e.g=qm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new UT(et(e.Ia,e,e.g),e.O)),om(e.V,e.g,"readystatechange",e.gb),t=e.H?Kg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Vo(),qT(e.j,e.u,e.A,e.m,e.X,e.s)}B.gb=function(e){e=e.target;var t=this.L;t&&Cn(e)==3?t.l():this.Ia(e)};B.Ia=function(e){try{if(e==this.g)e:{var t=Cn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Ec||this.g&&(this.h.h||this.g.ga()||td(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Vo(3):Vo(2)),nu(this);var i=this.g.ba();this.N=i;t:if(pm(this)){var o=td(this.g);e="";var s=o.length,a=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),bo(this);var u="";break t}this.h.i=new te.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=i==200,BT(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ua(c)){var f=c;break t}}f=null}if(i=f)pi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oc(this,i);else{this.i=!1,this.o=3,_t(12),Ar(this),bo(this);break e}}this.U?(gm(this,t,u),Ec&&this.i&&t==3&&(om(this.V,this.W,"tick",this.fb),this.W.start())):(pi(this.j,this.m,u,null),Oc(this,u)),t==4&&Ar(this),this.i&&!this.I&&(t==4?Mm(this.l,this):(this.i=!1,ss(this)))}else i==400&&0<u.indexOf("Unknown SID")?(this.o=3,_t(12)):(this.o=0,_t(13)),Ar(this),bo(this)}}}catch{}finally{}};function pm(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function gm(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=HT(e,n),i==la){t==4&&(e.o=4,_t(14),r=!1),pi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Nc){e.o=4,_t(15),pi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else pi(e.j,e.m,i,null),Oc(e,i);pm(e)&&i!=la&&i!=Nc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,_t(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kl(t),t.L=!0,_t(11))):(pi(e.j,e.m,n,"[Invalid Chunked Response]"),Ar(e),bo(e))}B.fb=function(){if(this.g){var e=Cn(this.g),t=this.g.ga();this.C<t.length&&(nu(this),gm(this,e,t),this.i&&e!=4&&ss(this))}};function HT(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?la:(n=Number(t.substring(n,r)),isNaN(n)?Nc:(r+=1,r+n>t.length?la:(t=t.substr(r,n),e.C=r+n,t)))}B.cancel=function(){this.I=!0,Ar(this)};function ss(e){e.Y=Date.now()+e.P,mm(e,e.P)}function mm(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=rs(et(e.eb,e),t)}function nu(e){e.B&&(te.clearTimeout(e.B),e.B=null)}B.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(jT(this.j,this.A),this.K!=2&&(Vo(),_t(17)),Ar(this),this.o=2,bo(this)):mm(this,this.Y-e)};function bo(e){e.l.G==0||e.I||Mm(e.l,e)}function Ar(e){nu(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,kl(e.W),sm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Oc(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Rc(n.i,e))){if(n.I=e.N,!e.J&&Rc(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)pa(n),su(n);else break e;Hl(n),_t(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=rs(et(n.ab,n),6e3));if(1>=Tm(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else xr(n,11)}else if((e.J||n.g==e)&&pa(n),!ua(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];a!=null&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];u!=null&&typeof u=="number"&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(vt(l,"spdy")||vt(l,"quic")||vt(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ql(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ke(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=Um(r,r.H?r.la:null,r.W),d.J){Im(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(nu(p),ss(p)),r.g=d}else Pm(r);0<n.l.length&&au(n)}else o[0]!="stop"&&o[0]!="close"||xr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?xr(n,7):zl(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Vo(4)}catch{}}function KT(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(_c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Vl(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(_c(e)||typeof e=="string")Hg(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(_c(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=KT(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Hi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Hi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}B=Hi.prototype;B.R=function(){Ul(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};B.T=function(){return Ul(this),this.g.concat()};function Ul(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Vr(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}B.get=function(e,t){return Vr(this.h,e)?this.h[e]:t};B.set=function(e,t){Vr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};B.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ym=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function WT(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ur(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ur){this.g=t!==void 0?t:e.g,fa(this,e.j),this.s=e.s,ha(this,e.i),da(this,e.m),this.l=e.l,t=e.h;var n=new Uo;n.i=t.i,t.g&&(n.g=new Hi(t.g),n.h=t.h),Jh(this,n),this.o=e.o}else e&&(n=String(e).match(ym))?(this.g=!!t,fa(this,n[1]||"",!0),this.s=_o(n[2]||""),ha(this,n[3]||"",!0),da(this,n[4]),this.l=_o(n[5]||"",!0),Jh(this,n[6]||"",!0),this.o=_o(n[7]||"")):(this.g=!!t,this.h=new Uo(null,this.g))}Ur.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lo(t,Zh,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(lo(t,Zh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(lo(n,n.charAt(0)=="/"?JT:XT,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lo(n,eI)),e.join("")};function kn(e){return new Ur(e)}function fa(e,t,n){e.j=n?_o(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ha(e,t,n){e.i=n?_o(t,!0):t}function da(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jh(e,t,n){t instanceof Uo?(e.h=t,tI(e.h,e.g)):(n||(t=lo(t,ZT)),e.h=new Uo(t,e.g))}function ke(e,t,n){e.h.set(t,n)}function ru(e){return ke(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function QT(e){return e instanceof Ur?kn(e):new Ur(e,void 0)}function GT(e,t,n,r){var i=new Ur(null,void 0);return e&&fa(i,e),t&&ha(i,t),n&&da(i,n),r&&(i.l=r),i}function _o(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,YT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function YT(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Zh=/[#\/\?@]/g,XT=/[#\?:]/g,JT=/[#\?]/g,ZT=/[#\?@]/g,eI=/#/g;function Uo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fr(e){e.g||(e.g=new Hi,e.h=0,e.i&&WT(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=Uo.prototype;B.add=function(e,t){fr(this),this.i=null,e=Ki(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function vm(e,t){fr(e),t=Ki(e,t),Vr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Vr(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ul(e)))}function wm(e,t){return fr(e),t=Ki(e,t),Vr(e.g.h,t)}B.forEach=function(e,t){fr(this),this.g.forEach(function(n,r){Hg(n,function(i){e.call(t,i,r,this)},this)},this)};B.T=function(){fr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};B.R=function(e){fr(this);var t=[];if(typeof e=="string")wm(this,e)&&(t=$h(t,this.g.get(Ki(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$h(t,e[n])}return t};B.set=function(e,t){return fr(this),this.i=null,e=Ki(this,e),wm(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function bm(e,t,n){vm(e,t),0<n.length&&(e.i=null,e.g.set(Ki(e,t),Il(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function Ki(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tI(e,t){t&&!e.j&&(fr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vm(this,r),bm(this,i,n))},e)),e.j=t}var nI=function(){function e(t,n){this.h=t,this.g=n}return e}();function _m(e){this.l=e||rI,te.PerformanceNavigationTiming?(e=te.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(te.g&&te.g.Ea&&te.g.Ea()&&te.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rI=10;function Em(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Tm(e){return e.h?1:e.g?e.g.size:0}function Rc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ql(e,t){e.g?e.g.add(t):e.h=t}function Im(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}_m.prototype.cancel=function(){var e,t;if(this.i=Sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=$g(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function Sm(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=$g(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Il(e.i)}function Bl(){}Bl.prototype.stringify=function(e){return te.JSON.stringify(e,void 0)};Bl.prototype.parse=function(e){return te.JSON.parse(e,void 0)};function iI(){this.g=new Bl}function oI(e,t,n){var r=n||"";try{Vl(e,function(i,o){var s=i;ts(i)&&(s=Ol(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sI(e,t){var n=new Ja;if(te.Image){var r=new Image;r.onload=Cs(xs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cs(xs,n,r,"TestLoadImage: error",!1,t),r.onabort=Cs(xs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cs(xs,n,r,"TestLoadImage: timeout",!1,t),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function xs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function as(e){this.l=e.$b||null,this.j=e.ib||!1}rt(as,Ll);as.prototype.g=function(){return new iu(this.l,this.j)};as.prototype.i=function(e){return function(){return e}}({});function iu(e,t){Xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(iu,Xe);var jl=0;B=iu.prototype;B.open=function(e,t){if(this.readyState!=jl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qo(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||te).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=jl};B.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Cm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}B.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?us(this):qo(this),this.readyState==3&&Cm(this)}};B.Ua=function(e){this.g&&(this.response=this.responseText=e,us(this))};B.Ta=function(e){this.g&&(this.response=e,us(this))};B.ha=function(){this.g&&us(this)};function us(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qo(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var aI=te.JSON.parse;function ze(e){Xe.call(this),this.headers=new Hi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Am,this.K=this.L=!1}rt(ze,Xe);var Am="",uI=/^https?$/i,cI=["POST","PUT"];B=ze.prototype;B.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xc.g(),this.C=this.u?Xh(this.u):Xh(xc),this.g.onreadystatechange=et(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){ed(this,o);return}e=n||"";var i=new Hi(this.headers);r&&Vl(r,function(o,s){i.set(s,o)}),r=bT(i.T()),n=te.FormData&&e instanceof te.FormData,!(0<=zg(cI,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dm(this),0<this.B&&((this.K=lI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.pa,this)):this.A=Pl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){ed(this,o)}};function lI(e){return Ci&&ST()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function fI(e){return e.toLowerCase()=="content-type"}B.pa=function(){typeof Tl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function ed(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xm(e),ou(e)}function xm(e){e.D||(e.D=!0,tt(e,"complete"),tt(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tt(this,"complete"),tt(this,"abort"),ou(this))};B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ou(this,!0)),ze.Z.M.call(this)};B.Fa=function(){this.s||(this.F||this.v||this.l?Nm(this):this.cb())};B.cb=function(){Nm(this)};function Nm(e){if(e.h&&typeof Tl<"u"&&(!e.C[1]||Cn(e)!=4||e.ba()!=2)){if(e.v&&Cn(e)==4)Pl(e.Fa,0,e);else if(tt(e,"readystatechange"),Cn(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(ym)[1]||null;if(!o&&te.self&&te.self.location){var s=te.self.location.protocol;o=s.substr(0,s.length-1)}i=!uI.test(o?o.toLowerCase():"")}r=i}if(r)tt(e,"complete"),tt(e,"success");else{e.m=6;try{var a=2<Cn(e)?e.g.statusText:""}catch{a=""}e.j=a+" ["+e.ba()+"]",xm(e)}}finally{ou(e)}}}}function ou(e,t){if(e.g){Dm(e);var n=e.g,r=e.C[0]?aa:null;e.g=null,e.C=null,t||tt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Dm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(te.clearTimeout(e.A),e.A=null)}function Cn(e){return e.g?e.g.readyState:0}B.ba=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}};B.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),aI(t)}};function td(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Am:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}B.Da=function(){return this.m};B.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function hI(e){var t="";return Sl(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function $l(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hI(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ke(e,t,n))}function oo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Om(e){this.za=0,this.l=[],this.h=new Ja,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oo("baseRetryDelayMs",5e3,e),this.$a=oo("retryDelaySeedMs",1e4,e),this.Ya=oo("forwardChannelMaxRetries",2,e),this.ra=oo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _m(e&&e.concurrentRequestLimit),this.Ca=new iI,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}B=Om.prototype;B.ma=8;B.G=1;function zl(e){if(Rm(e),e.G==3){var t=e.V++,n=kn(e.F);ke(n,"SID",e.J),ke(n,"RID",t),ke(n,"TYPE","terminate"),cs(e,n),t=new os(e,e.h,t,void 0),t.K=2,t.v=ru(kn(n)),n=!1,te.navigator&&te.navigator.sendBeacon&&(n=te.navigator.sendBeacon(t.v.toString(),"")),!n&&te.Image&&(new Image().src=t.v,n=!0),n||(t.g=qm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ss(t)}Vm(e)}B.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function su(e){e.g&&(Kl(e),e.g.cancel(),e.g=null)}function Rm(e){su(e),e.u&&(te.clearTimeout(e.u),e.u=null),pa(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&te.clearTimeout(e.m),e.m=null)}function Hu(e,t){e.l.push(new nI(e.Za++,t)),e.G==3&&au(e)}function au(e){Em(e.i)||e.m||(e.m=!0,Rl(e.Ha,e),e.C=0)}function dI(e,t){return Tm(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=rs(et(e.Ha,e,t),Fm(e,e.C)),e.C++,!0)}B.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new os(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Kg(n),Wg(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=km(this,t,r),i=kn(this.F),ke(i,"RID",e),ke(i,"CVER",22),this.D&&ke(i,"X-HTTP-Session-Id",this.D),cs(this,i),this.o&&n&&$l(i,this.o,n),ql(this.i,t),this.Ra&&ke(i,"TYPE","init"),this.ja?(ke(i,"$req",r),ke(i,"SID","null"),t.$=!0,Dc(t,i,null)):Dc(t,i,r),this.G=2}}else this.G==3&&(e?nd(this,e):this.l.length==0||Em(this.i)||nd(this))};function nd(e,t){var n;t?n=t.m:n=e.V++;var r=kn(e.F);ke(r,"SID",e.J),ke(r,"RID",n),ke(r,"AID",e.U),cs(e,r),e.o&&e.s&&$l(r,e.o,e.s),n=new os(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=km(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ql(e.i,n),Dc(n,r,t)}function cs(e,t){e.j&&Vl({},function(n,r){ke(t,r,n)})}function km(e,t,n){n=Math.min(e.l.length,n);var r=e.j?et(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{oI(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Pm(e){e.g||e.u||(e.Y=1,Rl(e.Ga,e),e.A=0)}function Hl(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=rs(et(e.Ga,e),Fm(e,e.A)),e.A++,!0)}B.Ga=function(){if(this.u=null,Lm(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rs(et(this.bb,this),e)}};B.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_t(10),su(this),Lm(this))};function Kl(e){e.B!=null&&(te.clearTimeout(e.B),e.B=null)}function Lm(e){e.g=new os(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=kn(e.oa);ke(t,"RID","rpc"),ke(t,"SID",e.J),ke(t,"CI",e.N?"0":"1"),ke(t,"AID",e.U),cs(e,t),ke(t,"TYPE","xmlhttp"),e.o&&e.s&&$l(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ru(kn(t)),n.s=null,n.U=!0,dm(n,e)}B.ab=function(){this.v!=null&&(this.v=null,su(this),Hl(this),_t(19))};function pa(e){e.v!=null&&(te.clearTimeout(e.v),e.v=null)}function Mm(e,t){var n=null;if(e.g==t){pa(e),Kl(e),e.g=null;var r=2}else if(Rc(e.i,t))n=t.D,Im(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Za(),tt(r,new cm(r,n)),au(e)}else Pm(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&dI(e,t)||r==2&&Hl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xr(e,5);break;case 4:xr(e,10);break;case 3:xr(e,6);break;default:xr(e,2)}}}function Fm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=et(e.jb,e);n||(n=new Ur("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||fa(n,"https"),ru(n)),sI(n.toString(),r)}else _t(2);e.G=0,e.j&&e.j.va(t),Vm(e),Rm(e)}B.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_t(2)):(this.h.info("Failed to ping google.com"),_t(1))};function Vm(e){e.G=0,e.I=-1,e.j&&((Sm(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Il(e.l),e.l.length=0),e.j.ua())}function Um(e,t,n){var r=QT(n);if(r.i!="")t&&ha(r,t+"."+r.i),da(r,r.m);else{var i=te.location;r=GT(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Sl(e.aa,function(o,s){ke(r,s,o)}),t=e.D,n=e.sa,t&&n&&ke(r,t,n),ke(r,"VER",e.ma),cs(e,r),r}function qm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ze(new as({ib:!0})):new ze(e.qa),t.L=e.H,t}function Bm(){}B=Bm.prototype;B.xa=function(){};B.wa=function(){};B.va=function(){};B.ua=function(){};B.Oa=function(){};function ga(){if(Ci&&!(10<=Number(CT)))throw Error("Environmental error: no available transport.")}ga.prototype.g=function(e,t){return new jt(e,t)};function jt(e,t){Xe.call(this),this.g=new Om(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ua(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ua(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Wi(this)}rt(jt,Xe);jt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Rl(et(e.hb,e,t))),_t(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Um(e,null,e.W),au(e)};jt.prototype.close=function(){zl(this.g)};jt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Hu(this.g,t)}else this.v?(t={},t.__data__=Ol(e),Hu(this.g,t)):Hu(this.g,e)};jt.prototype.M=function(){this.g.j=null,delete this.j,zl(this.g),delete this.g,jt.Z.M.call(this)};function jm(e){Ml.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rt(jm,Ml);function $m(){Fl.call(this),this.status=1}rt($m,Fl);function Wi(e){this.g=e}rt(Wi,Bm);Wi.prototype.xa=function(){tt(this.g,"a")};Wi.prototype.wa=function(e){tt(this.g,new jm(e))};Wi.prototype.va=function(e){tt(this.g,new $m)};Wi.prototype.ua=function(){tt(this.g,"b")};ga.prototype.createWebChannel=ga.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;eu.NO_ERROR=0;eu.TIMEOUT=8;eu.HTTP_ERROR=6;lm.COMPLETE="complete";fm.EventType=is;is.OPEN="a";is.CLOSE="b";is.ERROR="c";is.MESSAGE="d";Xe.prototype.listen=Xe.prototype.N;ze.prototype.listenOnce=ze.prototype.O;ze.prototype.getLastError=ze.prototype.La;ze.prototype.getLastErrorCode=ze.prototype.Da;ze.prototype.getStatus=ze.prototype.ba;ze.prototype.getResponseJson=ze.prototype.Qa;ze.prototype.getResponseText=ze.prototype.ga;ze.prototype.send=ze.prototype.ea;var pI=function(){return new ga},gI=function(){return Za()},Ku=eu,mI=lm,yI=Kr,rd={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vI=as,Ns=fm,wI=ze;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Vt.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return J(t,e),t}(Error),tn=new Ug("@firebase/firestore");function kc(){return tn.logLevel}function k(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(tn.logLevel<=me.DEBUG){var r=t.map(Wl);tn.debug.apply(tn,Ve(["Firestore (8.10.1): "+e],r))}}function je(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(tn.logLevel<=me.ERROR){var r=t.map(Wl);tn.error.apply(tn,Ve(["Firestore (8.10.1): "+e],r))}}function ma(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(tn.logLevel<=me.WARN){var r=t.map(Wl);tn.warn.apply(tn,Ve(["Firestore (8.10.1): "+e],r))}}function Wl(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw je(t),new Error(t)}function Z(e,t){e||H()}function V(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zm=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=bI(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function fe(e,t){return e<t?-1:e>t?1:0}function Ai(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Hm(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new x(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?fe(this.nanoseconds,t.nanoseconds):fe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new St(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Km(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wm=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&H(),r===void 0?r=t.length-n:r>t.length-n&&H(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ye=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var a=s[o];if(a.indexOf("//")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(u){return u.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(Wm),_I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return _I.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},a=!1;o<n.length;){var u=n[o];if(u==="\\"){if(o+1===n.length)throw new x(b.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var c=n[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=c,o+=2}else u==="`"?(a=!a,o++):u!=="."||a?(i+=u,o++):(s(),o++)}if(s(),a)throw new x(b.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(Wm),xi=function(){function e(t){this.fields=t,t.sort(sn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ai(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Ct=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return fe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Ct.EMPTY_BYTE_STRING=new Ct("");var EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(e){if(Z(!!e),typeof e=="string"){var t=0,n=EI.exec(e);if(Z(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Be(e.seconds),nanos:Be(e.nanos)}}function Be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ni(e){return typeof e=="string"?Ct.fromBase64String(e):Ct.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qm(e){var t=e.mapValue.fields.__previous_value__;return Ql(t)?Qm(t):t}function Bo(e){var t=ur(e.mapValue.fields.__local_write_time__.timestampValue);return new St(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){return e==null}function ya(e){return e===0&&1/e==-1/0}function Gm(e){return typeof e=="number"&&Number.isInteger(e)&&!ya(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ye.fromString(t))},e.fromName=function(t){return new e(ye.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ye.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ye.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ye(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ql(e)?4:10:H()}function bn(e,t){var n=qr(e);if(n!==qr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bo(e).isEqual(Bo(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=ur(r.timestampValue),s=ur(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ni(r.bytesValue).isEqual(Ni(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Be(r.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Be(r.integerValue)===Be(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Be(r.doubleValue),s=Be(i.doubleValue);return o===s?ya(o)===ya(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Ai(e.arrayValue.values||[],t.arrayValue.values||[],bn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(id(o)!==id(s))return!1;for(var a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!bn(o[a],s[a])))return!1;return!0}(e,t);default:return H()}}function jo(e,t){return(e.values||[]).find(function(n){return bn(n,t)})!==void 0}function Di(e,t){var n=qr(e),r=qr(t);if(n!==r)return fe(n,r);switch(n){case 0:return 0;case 1:return fe(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=Be(i.integerValue||i.doubleValue),a=Be(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return od(e.timestampValue,t.timestampValue);case 4:return od(Bo(e),Bo(t));case 5:return fe(e.stringValue,t.stringValue);case 6:return function(i,o){var s=Ni(i),a=Ni(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var c=fe(s[u],a[u]);if(c!==0)return c}return fe(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=fe(Be(i.latitude),Be(o.latitude));return s!==0?s:fe(Be(i.longitude),Be(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],a=o.values||[],u=0;u<s.length&&u<a.length;++u){var c=Di(s[u],a[u]);if(c)return c}return fe(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(var l=0;l<a.length&&l<c.length;++l){var f=fe(a[l],c[l]);if(f!==0)return f;var h=Di(s[a[l]],u[c[l]]);if(h!==0)return h}return fe(a.length,c.length)}(e.mapValue,t.mapValue);default:throw H()}}function od(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return fe(e,t);var n=ur(e),r=ur(t),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function Gl(e){return Pc(e)}function Pc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ur(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ni(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,a=r.values||[];s<a.length;s++)o?o=!1:i+=",",i+=Pc(a[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,a=Object.keys(r.fields||{}).sort();s<a.length;s++){var u=a[s];o?o=!1:i+=",",i+=u+":"+Pc(r.fields[u])}return i+"}"}(e.mapValue):H();var t,n}function va(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Lc(e){return!!e&&"integerValue"in e}function Yl(e){return!!e&&"arrayValue"in e}function sd(e){return!!e&&"nullValue"in e}function ad(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bs(e){return!!e&&"mapValue"in e}function Eo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wr(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=Eo(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Eo(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Bs(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(n)},e.prototype.setAll=function(t){var n=this,r=sn.emptyPath(),i={},o=[];t.forEach(function(a,u){if(!r.isImmediateParentOf(u)){var c=n.getFieldsMap(r);n.applyChanges(c,i,o),i={},o=[],r=u.popLast()}a?i[u.lastSegment()]=Eo(a):o.push(u.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());Bs(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return bn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Bs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Wr(n,function(a,u){return t[a]=u});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(Eo(this.value))},e}();function Ym(e){var t=[];return Wr(e.fields,function(n,r){var i=new sn([n]);if(Bs(r)){var o=Ym(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,a=o;s<a.length;s++){var u=a[s];t.push(i.child(u))}}else t.push(i)}),new xi(t)}var pt=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,ue.min(),Ft.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ft.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ft.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),TI=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new TI(e,t,n,r,i,o,s)}function ls(e){var t=V(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Gl(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Qr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ba(t.startAt)),t.endAt&&(n+="|ub:",n+=ba(t.endAt)),t.h=n}return t.h}function uu(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!OI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!bn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ld(e.startAt,t.startAt)&&ld(e.endAt,t.endAt)}function wa(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ut=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return J(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new II(n,r,i):r==="array-contains"?new AI(n,i):r==="in"?new xI(n,i):r==="not-in"?new NI(n,i):r==="array-contains-any"?new DI(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new SI(n,i):new CI(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Di(r,this.value)):r!==null&&qr(this.value)===qr(r)&&this.m(Di(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return H()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),II=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=W.fromName(i.referenceValue),o}return J(t,e),t.prototype.matches=function(n){var r=W.comparator(n.key,this.key);return this.m(r)},t}(Ut),SI=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Xm("in",r),i}return J(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ut),CI=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Xm("not-in",r),i}return J(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ut);function Xm(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return W.fromName(r.referenceValue)})}var AI=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Yl(r)&&jo(r.arrayValue,this.value)},t}(Ut),xI=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&jo(this.value.arrayValue,r)},t}(Ut),NI=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return J(t,e),t.prototype.matches=function(n){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!jo(this.value.arrayValue,r)},t}(Ut),DI=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return J(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!Yl(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return jo(r.value.arrayValue,o)})},t}(Ut),$o=function(e,t){this.position=e,this.before=t};function ba(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Gl(t)}).join(",")}var _i=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function OI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function cd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(s.referenceValue),n.key):Di(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function ld(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(e,t,n,r,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Jm(e,t,n,r,i,o,s,a){return new Ln(e,t,n,r,i,o,s,a)}function fs(e){return new Ln(e)}function js(e){return!Qr(e.limit)&&e.limitType==="F"}function _a(e){return!Qr(e.limit)&&e.limitType==="L"}function Xl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jl(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Zl(e){return e.collectionGroup!==null}function Oi(e){var t=V(e);if(t.p===null){t.p=[];var n=Jl(t),r=Xl(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new _i(n)),t.p.push(new _i(sn.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new _i(sn.keyField(),u))}}}return t.p}function _n(e){var t=V(e);if(!t.T)if(t.limitType==="F")t.T=ud(t.path,t.collectionGroup,Oi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Oi(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new _i(o.field,s))}var a=t.endAt?new $o(t.endAt.position,!t.endAt.before):null,u=t.startAt?new $o(t.startAt.position,!t.startAt.before):null;t.T=ud(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.T}function Zm(e,t,n){return new Ln(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hs(e,t){return uu(_n(e),_n(t))&&e.limitType===t.limitType}function ey(e){return ls(_n(e))+"|lt:"+e.limitType}function Mc(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Gl(i.value);var i}).join(", ")+"]"),Qr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ba(t.startAt)),t.endAt&&(n+=", endAt: "+ba(t.endAt)),"Target("+n+")"}(_n(e))+"; limitType="+e.limitType+")"}function ds(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):W.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!cd(n.startAt,Oi(n),r))&&(!n.endAt||!cd(n.endAt,Oi(n),r))}(e,t)}function ty(e){return function(t,n){for(var r=!1,i=0,o=Oi(e);i<o.length;i++){var s=o[i],a=RI(s,t,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function RI(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(i,o,s){var a=o.data.field(i),u=s.data.field(i);return a!==null&&u!==null?Di(a,u):H()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(t)?"-0":t}}function ry(e){return{integerValue:""+e}}function iy(e,t){return Gm(t)?ry(t):ny(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(){this._=void 0};function kI(e,t,n){return e instanceof Ri?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Br?sy(e,t):e instanceof jr?ay(e,t):function(r,i){var o=oy(r,i),s=fd(o)+fd(r.A);return Lc(o)&&Lc(r.A)?ry(s):ny(r.R,s)}(e,t)}function PI(e,t,n){return e instanceof Br?sy(e,t):e instanceof jr?ay(e,t):n}function oy(e,t){return e instanceof ki?Lc(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Ri=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t}(cu),Br=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(cu);function sy(e,t){for(var n=uy(t),r=function(s){n.some(function(a){return bn(a,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jr=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(cu);function ay(e,t){for(var n=uy(t),r=function(s){n=n.filter(function(a){return!bn(a,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ki=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return J(t,e),t}(cu);function fd(e){return Be(e.integerValue||e.doubleValue)}function uy(e){return Yl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps=function(e,t){this.field=e,this.transform=t},LI=function(e,t){this.version=e,this.transformResults=t},ht=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function $s(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var lu=function(){};function MI(e,t,n){e instanceof gs?function(r,i,o){var s=r.value.clone(),a=pd(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof hr?function(r,i,o){if($s(r.precondition,i)){var s=pd(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(cy(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Fc(e,t,n){e instanceof gs?function(r,i,o){if($s(r.precondition,i)){var s=r.value.clone(),a=gd(r.fieldTransforms,o,i);s.setAll(a),i.convertToFoundDocument(dd(i),s).setHasLocalMutations()}}(e,t,n):e instanceof hr?function(r,i,o){if($s(r.precondition,i)){var s=gd(r.fieldTransforms,o,i),a=i.data;a.setAll(cy(r)),a.setAll(s),i.convertToFoundDocument(dd(i),a).setHasLocalMutations()}}(e,t,n):function(r,i){$s(r.precondition,i)&&i.convertToNoDocument(ue.min())}(e,t)}function FI(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=oy(o.transform,s||null);a!=null&&(n==null&&(n=Ft.empty()),n.set(o.field,a))}return n||null}function hd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ai(n,r,function(i,o){return function(s,a){return s.field.isEqual(a.field)&&function(u,c){return u instanceof Br&&c instanceof Br||u instanceof jr&&c instanceof jr?Ai(u.elements,c.elements,bn):u instanceof ki&&c instanceof ki?bn(u.A,c.A):u instanceof Ri&&c instanceof Ri}(s.transform,a.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function dd(e){return e.isFoundDocument()?e.version:ue.min()}var gs=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return J(t,e),t}(lu),hr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return J(t,e),t}(lu);function cy(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function pd(e,t,n){var r=new Map;Z(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,PI(s,a,n[i]))}return r}function gd(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,kI(a,u,t))}return r}var qe,he,ms=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return J(t,e),t}(lu),ef=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return J(t,e),t}(lu),VI=function(e){this.count=e};function ly(e){switch(e){case b.OK:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return H()}}function fy(e){if(e===void 0)return je("GRPC error has no .code"),b.UNKNOWN;switch(e){case qe.OK:return b.OK;case qe.CANCELLED:return b.CANCELLED;case qe.UNKNOWN:return b.UNKNOWN;case qe.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case qe.INTERNAL:return b.INTERNAL;case qe.UNAVAILABLE:return b.UNAVAILABLE;case qe.UNAUTHENTICATED:return b.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case qe.NOT_FOUND:return b.NOT_FOUND;case qe.ALREADY_EXISTS:return b.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return b.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case qe.ABORTED:return b.ABORTED;case qe.OUT_OF_RANGE:return b.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return b.UNIMPLEMENTED;case qe.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt=function(){function e(t,n){this.comparator=t,this.root=n||Gn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ds(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ds(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ds(this.root,t,this.comparator,!0)},e}(),Ds=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Gn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=i!=null?i:e.EMPTY,this.right=o!=null?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();var t=this.left.check();if(t!==this.right.check())throw H();return t+(this.isRed()?0:1)},e}();Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1,Gn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw H()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw H()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Gn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke=function(){function e(t){this.comparator=t,this.data=new gt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new md(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new md(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),md=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),UI=new gt(W.comparator);function nn(){return UI}var qI=new gt(W.comparator);function Vc(){return qI}var BI=new gt(W.comparator);function jI(){return BI}var $I=new Ke(W.comparator);function Ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=$I,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var zI=new Ke(fe);function fu(){return zI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,nf.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ue.min(),r,fu(),nn(),Ne())},e}(),nf=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ct.EMPTY_BYTE_STRING,n,Ne(),Ne(),Ne())},e}(),zs=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},hy=function(e,t){this.targetId=e,this.V=t},dy=function(e,t,n,r){n===void 0&&(n=Ct.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},yd=function(){function e(){this.S=0,this.D=wd(),this.C=Ct.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Ne(),n=Ne(),r=Ne();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new nf(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=wd()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),HI=function(){function e(t){this.W=t,this.G=new Map,this.H=nn(),this.J=vd(),this.Y=new Ke(fe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:H()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(wa(o))if(r===0){var s=new W(o.path);this.tt(n,s,pt.newNoDocument(s,ue.min()))}else Z(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,a){var u=n.ot(a);if(u){if(s.current&&wa(u.target)){var c=new W(u.target.path);n.H.get(c)!==null||n.at(a,c)||n.tt(a,c,pt.newNoDocument(c,t))}s.$&&(r.set(a,s.M()),s.L())}});var i=Ne();this.J.forEach(function(s,a){var u=!0;a.forEachWhile(function(c){var l=n.ot(c);return!l||l.purpose===2||(u=!1,!1)}),u&&(i=i.add(s))});var o=new tf(t,r,this.Y,this.H,i);return this.H=nn(),this.J=vd(),this.Y=new Ke(fe),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new yd,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ke(fe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||k("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new yd),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function vd(){return new gt(W.comparator)}function wd(){return new gt(W.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KI={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI=function(e,t){this.databaseId=e,this.I=t};function zo(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function py(e,t){return e.I?t.toBase64():t.toUint8Array()}function GI(e,t){return zo(e,t.toTimestamp())}function Et(e){return Z(!!e),ue.fromTimestamp(function(t){var n=ur(t);return new St(n.seconds,n.nanos)}(e))}function rf(e,t){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function gy(e){var t=ye.fromString(e);return Z(Ey(t)),t}function Ho(e,t){return rf(e.databaseId,t.path)}function Nn(e,t){var n=gy(t);if(n.get(1)!==e.databaseId.projectId)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new x(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(yy(n))}function Uc(e,t){return rf(e.databaseId,t)}function my(e){var t=gy(e);return t.length===4?ye.emptyPath():yy(t)}function Ko(e){return new ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yy(e){return Z(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function bd(e,t,n){return{name:Ho(e,t),fields:n.value.mapValue.fields}}function YI(e,t,n){var r=Nn(e,t.name),i=Et(t.updateTime),o=new Ft({mapValue:{fields:t.fields}}),s=pt.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ea(e,t){var n;if(t instanceof gs)n={update:bd(e,t.key,t.value)};else if(t instanceof ms)n={delete:Ho(e,t.key)};else if(t instanceof hr)n={update:bd(e,t.key,t.data),updateMask:tS(t.fieldMask)};else{if(!(t instanceof ef))return H();n={verify:Ho(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Ri)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Br)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof jr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ki)return{fieldPath:o.field.canonicalString(),increment:s.A};throw H()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(e,t.precondition)),n}function _d(e,t){var n=t.currentDocument?function(c){return c.updateTime!==void 0?ht.updateTime(Et(c.updateTime)):c.exists!==void 0?ht.exists(c.exists):ht.none()}(t.currentDocument):ht.none(),r=t.updateTransforms?t.updateTransforms.map(function(c){return function(l,f){var h=null;if("setToServerValue"in f)Z(f.setToServerValue==="REQUEST_TIME"),h=new Ri;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new Br(d)}else if("removeAllFromArray"in f){var p=f.removeAllFromArray.values||[];h=new jr(p)}else"increment"in f?h=new ki(l,f.increment):H();var m=sn.fromServerFormat(f.fieldPath);return new ps(m,h)}(e,c)}):[];if(t.update){t.update.name;var i=Nn(e,t.update.name),o=new Ft({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(c){var l=c.fieldPaths||[];return new xi(l.map(function(f){return sn.fromServerFormat(f)}))}(t.updateMask);return new hr(i,o,s,n,r)}return new gs(i,o,n,r)}if(t.delete){var a=Nn(e,t.delete);return new ms(a,n)}if(t.verify){var u=Nn(e,t.verify);return new ef(u,n)}return H()}function vy(e,t){return{documents:[Uc(e,t.path)]}}function wy(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Uc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Uc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(a){if(a.length!==0){var u=a.map(function(c){return function(l){if(l.op==="=="){if(ad(l.value))return{unaryFilter:{field:oi(l.field),op:"IS_NAN"}};if(sd(l.value))return{unaryFilter:{field:oi(l.field),op:"IS_NULL"}}}else if(l.op==="!="){if(ad(l.value))return{unaryFilter:{field:oi(l.field),op:"IS_NOT_NAN"}};if(sd(l.value))return{unaryFilter:{field:oi(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oi(l.field),op:JI(l.op),value:l.value}}}(c)});return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(a){if(a.length!==0)return a.map(function(u){return function(c){return{field:oi(c.field),direction:XI(c.dir)}}(u)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(a,u){return a.I||Qr(u)?u:{value:u}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Ed(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ed(t.endAt)),n}function by(e){var t=my(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Z(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=_y(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(f){return function(h){return new _i(gi(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var u=null;n.limit&&(u=function(f){var h;return Qr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var c=null;n.startAt&&(c=Td(n.startAt));var l=null;return n.endAt&&(l=Td(n.endAt)),Jm(t,i,a,s,u,"F",c,l)}function _y(e){return e?e.unaryFilter!==void 0?[eS(e)]:e.fieldFilter!==void 0?[ZI(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return _y(t)}).reduce(function(t,n){return t.concat(n)}):H():[]}function Ed(e){return{before:e.before,values:e.position}}function Td(e){var t=!!e.before,n=e.values||[];return new $o(n,t)}function XI(e){return KI[e]}function JI(e){return WI[e]}function oi(e){return{fieldPath:e.canonicalString()}}function gi(e){return sn.fromServerFormat(e.fieldPath)}function ZI(e){return Ut.create(gi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}function eS(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gi(e.unaryFilter.field);return Ut.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gi(e.unaryFilter.field);return Ut.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gi(e.unaryFilter.field);return Ut.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gi(e.unaryFilter.field);return Ut.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return H()}}function tS(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Ey(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Id(t)),t=nS(e.get(n),t);return Id(t)}function nS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Id(e){return e+""}function An(e){var t=e.length;if(Z(t>=2),t===2)return Z(e.charAt(0)===""&&e.charAt(1)===""),ye.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&H(),e.charAt(s+1)){case"":var a=e.substring(o,s),u=void 0;i.length===0?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:H()}o=s+2}return new ye(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rS=function(e,t){this.seconds=e,this.nanoseconds=t},Rt=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rt.store="owner",Rt.key="owner";var rr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};rr.store="mutationQueues",rr.keyPath="userId";var Re=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Re.store="mutations",Re.keyPath="batchId",Re.userMutationsIndex="userMutationsIndex",Re.userMutationsKeyPath=["userId","batchId"];var at=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,rn(n)]},e.key=function(t,n,r){return[t,rn(n),r]},e}();at.store="documentMutations",at.PLACEHOLDER=new at;var iS=function(e,t){this.path=e,this.readTime=t},oS=function(e,t){this.path=e,this.version=t},Fe=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fe.store="remoteDocuments",Fe.readTimeIndex="readTimeIndex",Fe.readTimeIndexPath="readTime",Fe.collectionReadTimeIndex="collectionReadTimeIndex",Fe.collectionReadTimeIndexPath=["parentPath","readTime"];var mn=function(e){this.byteSize=e};mn.store="remoteDocumentGlobal",mn.key="remoteDocumentGlobalKey";var It=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};It.store="targets",It.keyPath="targetId",It.queryTargetsIndexName="queryTargetsIndex",It.queryTargetsKeyPath=["canonicalId","targetId"];var Ze=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ze.store="targetDocuments",Ze.keyPath=["targetId","path"],Ze.documentTargetsIndex="documentTargetsIndex",Ze.documentTargetsKeyPath=["path","targetId"];var Lt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lt.key="targetGlobalKey",Lt.store="targetGlobal";var Pr=function(e,t){this.collectionId=e,this.parent=t};Pr.store="collectionParents",Pr.keyPath=["collectionId","parent"];var Dn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Dn.store="clientMetadata",Dn.keyPath="clientId";var Pi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Pi.store="bundles",Pi.keyPath="bundleId";var Li=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Li.store="namedQueries",Li.keyPath="name";var sS=Ve(Ve([],Ve(Ve([],Ve(Ve([],Ve(Ve([],[rr.store,Re.store,at.store,Fe.store,It.store,Rt.store,Lt.store,Ze.store]),[Dn.store])),[mn.store])),[Pr.store])),[Pi.store,Li.store]),Ty="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iy=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),At=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},O=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(a){++i,a.next(function(){++o,s&&o===i&&n()},function(u){return r(u)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(a){return a?e.resolve(a):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),Sy=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new At,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new To(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=of(i.target.error);r.ft.reject(new To(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new To(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(k("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new uS(n)},e}(),Mi=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Fr())===12.2&&je("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return k("SimpleDb","Removing database:",t),Sr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Fr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(k("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var a=indexedDB.open(r.name,r.version);a.onsuccess=function(u){var c=u.target.result;o(c)},a.onblocked=function(){s(new To(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(u){var c=u.target.error;c.name==="VersionError"?s(new x(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new To(t,c))},a.onupgradeneeded=function(u){k("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',u.oldVersion);var c=u.target.result;r.wt.Rt(c,a.transaction,u.oldVersion,r.version).next(function(){k("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return C(this,void 0,void 0,function(){var o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:o=n==="readonly",s=0,a=function(){var f,h,d,p,m;return I(this,function(v){switch(v.label){case 0:++s,v.label=1;case 1:return v.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=v.sent(),f=Sy.open(u.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(w){return f.abort(w),O.reject(w)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(v.sent(),h),d)];case 4:return p=v.sent(),m=p.name!=="FirebaseError"&&s<3,k("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),u.close(),m?[3,5]:[2,{value:Promise.reject(p)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if(typeof(c=l.sent())=="object")return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),aS=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Sr(this.Pt.delete())},e}(),To=function(e){function t(n,r){var i=this;return(i=e.call(this,b.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return J(t,e),t}(x);function Gr(e){return e.name==="IndexedDbTransactionError"}var uS=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(k("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Sr(r)},e.prototype.add=function(t){return k("SimpleDb","ADD",this.store.name,t,t),Sr(this.store.add(t))},e.prototype.get=function(t){var n=this;return Sr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),k("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return k("SimpleDb","DELETE",this.store.name,t),Sr(this.store.delete(t))},e.prototype.count=function(){return k("SimpleDb","COUNT",this.store.name),Sr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){k("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,a){return a.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new O(function(r,i){n.onerror=function(o){var s=of(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(a){a?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new O(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var a=s.target.result;if(a){var u=new aS(a),c=n(a.primaryKey,a.value,u);if(c instanceof O){var l=c.catch(function(f){return u.done(),O.reject(f)});r.push(l)}u.isDone?i():u.Dt===null?a.continue():a.continue(u.Dt)}else i()}}).next(function(){return O.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Sr(e){return new O(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=of(r.target.error);n(i)}})}var Sd=!1;function of(e){var t=Mi._t(Fr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sd||(Sd=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return J(t,e),t}(Iy);function xt(e,t){var n=V(e);return Mi.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sf=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&MI(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&Fc(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&Fc(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ne())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ai(this.mutations,t.mutations,function(n,r){return hd(n,r)})&&Ai(this.baseMutations,t.baseMutations,function(n,r){return hd(n,r)})},e}(),cS=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){Z(t.mutations.length===r.length);for(var i=jI(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),hu=function(){function e(t,n,r,i,o,s,a){o===void 0&&(o=ue.min()),s===void 0&&(s=ue.min()),a===void 0&&(a=Ct.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Cy=function(e){this.Lt=e};function qc(e,t){if(t.document)return YI(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Vi(t.noDocument.readTime),i=pt.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Vi(t.unknownDocument.version),pt.newUnknownDocument(o,r)}return H()}function Ad(e,t,n){var r=af(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Ho(f,h.key),fields:h.data.value.mapValue.fields,updateTime:zo(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new Fe(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=Fi(t.version);return s=t.hasCommittedMutations,new Fe(null,new iS(a,u),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Fi(t.version);return new Fe(new oS(c,l),null,null,!0,r,i)}return H()}function af(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ay(e){var t=new St(e[0],e[1]);return ue.fromTimestamp(t)}function Fi(e){var t=e.toTimestamp();return new rS(t.seconds,t.nanoseconds)}function Vi(e){var t=new St(e.seconds,e.nanoseconds);return ue.fromTimestamp(t)}function hi(e,t){for(var n=(t.baseMutations||[]).map(function(u){return _d(e.Lt,u)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(u){return _d(e.Lt,u)}),a=St.fromMillis(t.localWriteTimeMs);return new sf(t.batchId,a,n,s)}function fo(e){var t,n,r=Vi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Vi(e.lastLimboFreeSnapshotVersion):ue.min();return e.query.documents!==void 0?(Z((n=e.query).documents.length===1),t=_n(fs(my(n.documents[0])))):t=function(o){return _n(by(o))}(e.query),new hu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ct.fromBase64String(e.resumeToken))}function xy(e,t){var n,r=Fi(t.snapshotVersion),i=Fi(t.lastLimboFreeSnapshotVersion);n=wa(t.target)?vy(e.Lt,t.target):wy(e.Lt,t.target);var o=t.resumeToken.toBase64();return new It(t.targetId,ls(t.target),r,o,t.sequenceNumber,i,n)}function Ny(e){var t=by({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lS=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return xd(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Vi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return xd(t).put({bundleId:(r=n).id,createTime:Fi(Et(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Nd(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Ny(i.bundledQuery),readTime:Vi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return Nd(t).put(function(r){return{name:r.name,readTime:Fi(Et(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function xd(e){return xt(e,Pi.store)}function Nd(e){return xt(e,Li.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fS=function(){function e(){this.Bt=new uf}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),O.resolve()},e.prototype.getCollectionParents=function(t,n){return O.resolve(this.Bt.getEntries(n))},e}(),uf=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ke(ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ke(ye.comparator)).toArray()},e}(),hS=function(){function e(){this.qt=new uf}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:rn(o)};return Dd(t).put(s)}return O.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Hm(n),""],!1,!0);return Dd(t).Nt(i).next(function(o){for(var s=0,a=o;s<a.length;s++){var u=a[s];if(u.collectionId!==n)break;r.push(An(u.parent))}return r})},e}();function Dd(e){return xt(e,Pr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t,n){var r=e.store(Re.store),i=e.store(at.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(p,m,v){return a++,v.delete()});o.push(u.next(function(){Z(a===1)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=at.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return O.waitFor(o).next(function(){return c})}function Ta(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw H();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var dS=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return Z(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).$t({index:Re.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=di(t),a=$n(t);return a.add({}).next(function(u){Z(typeof u=="number");for(var c=new sf(u,n,r,i),l=function(w,E,T){var R=T.baseMutations.map(function(Q){return Ea(w.Lt,Q)}),U=T.mutations.map(function(Q){return Ea(w.Lt,Q)});return new Re(E,T.batchId,T.localWriteTime.toMillis(),R,U)}(o.R,o.userId,c),f=[],h=new Ke(function(w,E){return fe(w.canonicalString(),E.canonicalString())}),d=0,p=i;d<p.length;d++){var m=p[d],v=at.key(o.userId,m.key.path,u);h=h.add(m.key.path.popLast()),f.push(a.put(l)),f.push(s.put(v,at.PLACEHOLDER))}return h.forEach(function(w){f.push(o.Ut.addToCollectionParentIndex(t,w))}),t.addOnCommittedListener(function(){o.Kt[u]=c.keys()}),O.waitFor(f).next(function(){return c})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return $n(t).get(n).next(function(i){return i?(Z(i.userId===r.userId),hi(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?O.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return $n(t).$t({index:Re.userMutationsIndex,range:o},function(a,u,c){u.userId===r.userId&&(Z(u.batchId>=i),s=hi(r.R,u)),c.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return $n(t).$t({index:Re.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).Nt(Re.userMutationsIndex,r).next(function(i){return i.map(function(o){return hi(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=at.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return di(t).$t({range:o},function(a,u,c){var l=a[0],f=a[1],h=a[2],d=An(f);if(l===r.userId&&n.path.isEqual(d))return $n(t).get(h).next(function(p){if(!p)throw H();Z(p.userId===r.userId),s.push(hi(r.R,p))});c.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(fe),o=[];return n.forEach(function(s){var a=at.prefixForPath(r.userId,s.path),u=IDBKeyRange.lowerBound(a),c=di(t).$t({range:u},function(l,f,h){var d=l[0],p=l[1],m=l[2],v=An(p);d===r.userId&&s.path.isEqual(v)?i=i.add(m):h.done()});o.push(c)}),O.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=at.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(s),u=new Ke(fe);return di(t).$t({range:a},function(c,l,f){var h=c[0],d=c[1],p=c[2],m=An(d);h===r.userId&&i.isPrefixOf(m)?m.length===o&&(u=u.add(p)):f.done()}).next(function(){return r.Wt(t,u)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push($n(t).get(s).next(function(a){if(a===null)throw H();Z(a.userId===r.userId),i.push(hi(r.R,a))}))}),O.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Dy(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),O.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return O.resolve();var i=IDBKeyRange.lowerBound(at.prefixForUser(n.userId)),o=[];return di(t).$t({range:i},function(s,a,u){if(s[0]===n.userId){var c=An(s[1]);o.push(c)}else u.done()}).next(function(){Z(o.length===0)})})},e.prototype.containsKey=function(t,n){return Oy(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Ry(t).get(this.userId).next(function(r){return r||new rr(n.userId,-1,"")})},e}();function Oy(e,t,n){var r=at.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return di(e).$t({range:o,Ft:!0},function(a,u,c){var l=a[0],f=a[1];a[2],l===t&&f===i&&(s=!0),c.done()}).next(function(){return s})}function $n(e){return xt(e,Re.store)}function di(e){return xt(e,at.store)}function Ry(e){return xt(e,rr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),pS=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Ia(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ue.fromTimestamp(new St(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return si(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return Z(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return si(t).$t(function(a,u){var c=fo(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(o++,s.push(i.removeTargetData(t,c)))}).next(function(){return O.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return si(t).$t(function(r,i){var o=fo(i);n(o)})},e.prototype.Xt=function(t){return Rd(t).get(Lt.key).next(function(n){return Z(n!==null),n})},e.prototype.Zt=function(t,n){return Rd(t).put(Lt.key,n)},e.prototype.te=function(t,n){return si(t).put(xy(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=ls(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return si(t).$t({range:i,index:It.queryTargetsIndexName},function(s,a,u){var c=fo(a);uu(n,c.target)&&(o=c,u.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Yn(t);return n.forEach(function(a){var u=rn(a.path);o.push(s.put(new Ze(r,u))),o.push(i.referenceDelegate.addReference(t,r,a))}),O.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Yn(t);return O.forEach(n,function(s){var a=rn(s.path);return O.waitFor([o.delete([r,a]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Yn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Yn(t),o=Ne();return i.$t({range:r,Ft:!0},function(s,a,u){var c=An(s[1]),l=new W(c);o=o.add(l)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=rn(n.path),i=IDBKeyRange.bound([r],[Hm(r)],!1,!0),o=0;return Yn(t).$t({index:Ze.documentTargetsIndex,Ft:!0,range:i},function(s,a,u){var c=s[0];s[1],c!==0&&(o++,u.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return si(t).get(n).next(function(r){return r?fo(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e){return xt(e,It.store)}function Rd(e){return xt(e,Lt.store)}function Yn(e){return xt(e,Ze.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e){return C(this,void 0,void 0,function(){return I(this,function(t){if(e.code!==b.FAILED_PRECONDITION||e.message!==Ty)throw e;return k("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=fe(n,i);return s===0?fe(r,o):s}var gS=function(){function e(t){this.ne=t,this.buffer=new Ke(kd),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();kd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),mS=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;k("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Gr(i=o.sent())?(k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Yr(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),yS=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return O.resolve(Vt.o);var i=new gS(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(k("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Od)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(k("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Od):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,a,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>l.params.maximumSequenceNumbersToCollect?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+h),i=l.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),l.nthSequenceNumber(t,i)}).next(function(h){return r=h,a=Date.now(),l.removeTargets(t,r,n)}).next(function(h){return o=h,u=Date.now(),l.removeOrphanedDocuments(t,r)}).next(function(h){return c=Date.now(),kc()<=me.DEBUG&&k("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(a-s)+`ms
	Removed `+o+" targets in "+(u-a)+`ms
	Removed `+h+" documents in "+(c-u)+`ms
Total Duration: `+(c-f)+"ms"),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),vS=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new yS(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Os(t,r)},e.prototype.removeReference=function(t,n,r){return Os(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Os(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return Ry(r).Ot(function(s){return Oy(r,s,i).next(function(a){return a&&(o=!0),O.resolve(!a)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(a,u){if(u<=n){var c=r._e(t,a).next(function(l){if(!l)return s++,i.getEntry(t,a).next(function(){return i.removeEntry(a),Yn(t).delete([0,rn(a.path)])})});o.push(c)}}).next(function(){return O.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Os(t,n)},e.prototype.we=function(t,n){var r,i=Yn(t),o=Vt.o;return i.$t({index:Ze.documentTargetsIndex},function(s,a){var u=s[0];s[1];var c=a.path,l=a.sequenceNumber;u===0?(o!==Vt.o&&n(new W(An(r)),o),o=l,r=c):o=Vt.o}).next(function(){o!==Vt.o&&n(new W(An(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Os(e,t){return Yn(e).put(function(n,r){return new Ze(0,rn(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];if(this.equalsFn(a,t))return u}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Wr(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],a=s[0],u=s[1];t(a,u)}})},e.prototype.isEmpty=function(){return Km(this.inner)},e}(),ky=function(){function e(){this.changes=new Qi(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:pt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?O.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),wS=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Qn(t).put(Rs(n),r)},e.prototype.removeEntry=function(t,n){var r=Qn(t),i=Rs(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Qn(t).get(Rs(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Qn(t).get(Rs(n)).next(function(i){return{document:r.ye(n,i),size:Ta(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=nn();return this.pe(t,n,function(o,s){var a=r.ye(o,s);i=i.insert(o,a)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=nn(),o=new gt(W.comparator);return this.pe(t,n,function(s,a){var u=r.ye(s,a);i=i.insert(s,u),o=o.insert(s,Ta(a))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return O.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return Qn(t).$t({range:i},function(a,u,c){for(var l=W.fromSegments(a);s&&W.comparator(s,l)<0;)r(s,null),s=o.getNext();s&&s.isEqual(l)&&(r(s,u),s=o.hasNext()?o.getNext():null),s?c.Ct(s.path.toArray()):c.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=nn(),s=n.path.length+1,a={};if(r.isEqual(ue.min())){var u=n.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var c=n.path.toArray(),l=af(r);a.range=IDBKeyRange.lowerBound([c,l],!0),a.index=Fe.collectionReadTimeIndex}return Qn(t).$t(a,function(f,h,d){if(f.length===s){var p=qc(i.R,h);n.path.isPrefixOf(p.key.path)?ds(n,p)&&(o=o.insert(p.key,p)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new bS(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Pd(t).get(mn.key).next(function(n){return Z(!!n),n})},e.prototype.me=function(t,n){return Pd(t).put(mn.key,n)},e.prototype.ye=function(t,n){if(n){var r=qc(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ue.min()))return r}return pt.newInvalidDocument(t)},e}(),bS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Qi(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ke(function(a,u){return fe(a.canonicalString(),u.canonicalString())});return this.changes.forEach(function(a,u){var c=r.Ae.get(a);if(u.document.isValidDocument()){var l=Ad(r.Ie.R,u.document,r.getReadTime(a));s=s.add(a.path.popLast());var f=Ta(l);o+=f-c,i.push(r.Ie.addEntry(n,a,l))}else if(o-=c,r.trackRemovals){var h=Ad(r.Ie.R,pt.newNoDocument(a,ue.min()),r.getReadTime(a));i.push(r.Ie.addEntry(n,a,h))}else i.push(r.Ie.removeEntry(n,a))}),s.forEach(function(a){i.push(r.Ie.Ut.addToCollectionParentIndex(n,a))}),i.push(this.Ie.updateMetadata(n,o)),O.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(a,u){i.Ae.set(a,u)}),s})},t}(ky);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(e){return xt(e,mn.store)}function Qn(e){return xt(e,Fe.store)}function Rs(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;Z(r<i&&r>=0&&i<=11);var s=new Sy("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(Rt.store)}(t),function(u){u.createObjectStore(rr.store,{keyPath:rr.keyPath}),u.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),u.createObjectStore(at.store)}(t),Ld(t),function(u){u.createObjectStore(Fe.store)}(t));var a=O.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(Ze.store),u.deleteObjectStore(It.store),u.deleteObjectStore(Lt.store)}(t),Ld(t)),a=a.next(function(){return function(u){var c=u.store(Lt.store),l=new Lt(0,0,ue.min().toTimestamp(),0);return c.put(Lt.key,l)}(s)})),r<4&&i>=4&&(r!==0&&(a=a.next(function(){return function(u,c){return c.store(Re.store).Nt().next(function(l){u.deleteObjectStore(Re.store),u.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var f=c.store(Re.store),h=l.map(function(d){return f.put(d)});return O.waitFor(h)})}(t,s)})),a=a.next(function(){(function(u){u.createObjectStore(Dn.store,{keyPath:Dn.keyPath})})(t)})),r<5&&i>=5&&(a=a.next(function(){return o.Re(s)})),r<6&&i>=6&&(a=a.next(function(){return function(u){u.createObjectStore(mn.store)}(t),o.be(s)})),r<7&&i>=7&&(a=a.next(function(){return o.ve(s)})),r<8&&i>=8&&(a=a.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(a=a.next(function(){(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(t),function(u){var c=u.objectStore(Fe.store);c.createIndex(Fe.readTimeIndex,Fe.readTimeIndexPath,{unique:!1}),c.createIndex(Fe.collectionReadTimeIndex,Fe.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(a=a.next(function(){return o.Ve(s)})),r<11&&i>=11&&(a=a.next(function(){(function(u){u.createObjectStore(Pi.store,{keyPath:Pi.keyPath})})(t),function(u){u.createObjectStore(Li.store,{keyPath:Li.keyPath})}(t)})),a},e.prototype.be=function(t){var n=0;return t.store(Fe.store).$t(function(r,i){n+=Ta(i)}).next(function(){var r=new mn(n);return t.store(mn.store).put(mn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(rr.store),i=t.store(Re.store);return r.Nt().next(function(o){return O.forEach(o,function(s){var a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(Re.userMutationsIndex,a).next(function(u){return O.forEach(u,function(c){Z(c.userId===s.userId);var l=hi(n.R,c);return Dy(t,s.userId,l).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ze.store),r=t.store(Fe.store);return t.store(Lt.store).get(Lt.key).next(function(i){var o=[];return r.$t(function(s,a){var u=new ye(s),c=function(l){return[0,rn(l)]}(u);o.push(n.get(c).next(function(l){return l?O.resolve():function(f){return n.put(new Ze(0,rn(f),i.highestListenSequenceNumber))}(u)}))}).next(function(){return O.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Pr.store,{keyPath:Pr.keyPath});var r=n.store(Pr.store),i=new uf,o=function(s){if(i.add(s)){var a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:rn(u)})}};return n.store(Fe.store).$t({Ft:!0},function(s,a){var u=new ye(s);return o(u.popLast())}).next(function(){return n.store(at.store).$t({Ft:!0},function(s,a){s[0];var u=s[1];s[2];var c=An(u);return o(c.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(It.store);return r.$t(function(i,o){var s=fo(o),a=xy(n.R,s);return r.put(a)})},e}();function Ld(e){e.createObjectStore(Ze.store,{keyPath:Ze.keyPath}).createIndex(Ze.documentTargetsIndex,Ze.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(It.store,{keyPath:It.keyPath}).createIndex(It.queryTargetsIndexName,It.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Lt.store)}var Wu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ES=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new x(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vS(this,i),this.Le=n+"main",this.R=new Cy(u),this.Be=new Mi(this.Le,11,new _S(this.R)),this.qe=new pS(this.referenceDelegate,this.R),this.Ut=new hS,this.Ue=function(f,h){return new wS(f,h)}(this.R,this.Ut),this.Ke=new lS,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,l===!1&&je("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,Wu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Vt(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return C(n,void 0,void 0,function(){return I(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return C(n,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return C(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ks(n).put(new Dn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Gr(n))return k("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return so(t).get(Rt.key).next(function(r){return O.resolve(n.tn(r))})},e.prototype.en=function(t){return ks(t).delete(this.clientId)},e.prototype.nn=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o=this;return I(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(a){var u=xt(a,Dn.store);return u.Nt().next(function(c){var l=o.rn(c,18e5),f=c.filter(function(h){return l.indexOf(h)===-1});return O.forEach(f,function(h){return u.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?O.resolve(!0):so(t).get(Rt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new x(b.FAILED_PRECONDITION,Wu);return!1}}return!(!n.networkEnabled||!n.inForeground)||ks(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,a=!n.inForeground&&o.inForeground,u=n.networkEnabled===o.networkEnabled;if(s||a&&u)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&k("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return C(this,void 0,void 0,function(){var t=this;return I(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Rt.store,Dn.store],function(r){var i=new Cd(r,Vt.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ks(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return dS.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;k("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,sS,function(a){return o=new Cd(a,i.Ne?i.Ne.next():Vt.o),n==="readwrite-primary"?i.Je(o).next(function(u){return!!u||i.Ye(o)}).next(function(u){if(!u)throw je("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new x(b.FAILED_PRECONDITION,Ty);return r(o)}).next(function(u){return i.Ze(o).next(function(){return u})}):i.dn(o).next(function(){return r(o)})}).then(function(a){return o.raiseOnCommittedEvent(),a})},e.prototype.dn=function(t){var n=this;return so(t).get(Rt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new x(b.FAILED_PRECONDITION,Wu)})},e.prototype.Ze=function(t){var n=new Rt(this.clientId,this.allowTabSynchronization,Date.now());return so(t).put(Rt.key,n)},e.yt=function(){return Mi.yt()},e.prototype.Xe=function(t){var n=this,r=so(t);return r.get(Rt.key).next(function(i){return n.tn(i)?(k("IndexedDbPersistence","Releasing primary lease."),r.delete(Rt.key)):O.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(je("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),x1()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return k("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return je("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){je("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function so(e){return xt(e,Rt.store)}function ks(e){return xt(e,Dn.store)}function cf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Py=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return W.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Zl(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new W(n)).next(function(r){var i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Vc();return this.Ut.getCollectionParents(t,o).next(function(a){return O.forEach(a,function(u){var c=function(l,f){return new Ln(f,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,u.child(o));return i.An(t,c,r).next(function(l){l.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(a){return i=a,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(a){return o=a,s.Rn(t,o,i).next(function(u){i=u;for(var c=0,l=o;c<l.length;c++)for(var f=l[c],h=0,d=f.mutations;h<d.length;h++){var p=d[h],m=p.key,v=i.get(m);v==null&&(v=pt.newInvalidDocument(m),i=i.insert(m,v)),Fc(p,v,f.localWriteTime),v.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(a,u){ds(n,u)||(i=i.remove(a))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Ne(),o=0,s=n;o<s.length;o++)for(var a=0,u=s[o].mutations;a<u.length;a++){var c=u[a];c instanceof hr&&r.get(c.key)===null&&(i=i.add(c.key))}var l=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(l=l.insert(h,d))}),l})},e}(),TS=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Ne(),i=Ne(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ly=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ue.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var a=o.Cn(n,s);return(js(n)||_a(n))&&o.Nn(n.limitType,a,i,r)?o.Dn(t,n):(kc()<=me.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mc(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(u){return a.forEach(function(c){u=u.insert(c.key,c)}),u}))})},e.prototype.Cn=function(t,n){var r=new Ke(ty(t));return n.forEach(function(i,o){ds(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return kc()<=me.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Mc(n)),this.Sn.getDocumentsMatchingQuery(t,n,ue.min())},e}(),IS=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new gt(fe),this.Fn=new Qi(function(o){return ls(o)},uu),this.$n=ue.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Py(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t,n,r){return new IS(e,t,n,r)}function Fy(e,t){return C(this,void 0,void 0,function(){var n,r,i,o;return I(this,function(s){switch(s.label){case 0:return n=V(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(a){var u;return n._n.getAllMutationBatches(a).next(function(c){return u=c,r=n.persistence.getMutationQueue(t),i=new Py(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(a)}).next(function(c){for(var l=[],f=[],h=Ne(),d=0,p=u;d<p.length;d++){var m=p[d];l.push(m.batchId);for(var v=0,w=m.mutations;v<w.length;v++){var E=w[v];h=h.add(E.key)}}for(var T=0,R=c;T<R.length;T++){var U=R[T];f.push(U.batchId);for(var Q=0,ce=U.mutations;Q<ce.length;Q++){var ne=ce[Q];h=h.add(ne.key)}}return i.pn(a,h).next(function(se){return{Ln:se,removedBatchIds:l,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function SS(e,t){var n=V(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){var l=u.batch,f=l.keys(),h=O.resolve();return f.forEach(function(d){h=h.next(function(){return c.getEntry(a,d)}).next(function(p){var m=u.docVersions.get(d);Z(m!==null),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(a,l)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Vy(e){var t=V(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function CS(e,t){var n=V(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(l,f){var h=i.get(f);if(h){a.push(n.qe.removeMatchingKeys(o,l.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,l.addedDocuments,f)}));var d=l.resumeToken;if(d.approximateByteSize()>0){var p=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,p),function(m,v,w){return Z(v.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,l)&&a.push(n.qe.updateTargetData(o,p))}}});var u=nn();if(t.documentUpdates.forEach(function(l,f){t.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(AS(o,s,t.documentUpdates,r,void 0).next(function(l){u=l})),!r.isEqual(ue.min())){var c=n.qe.getLastRemoteSnapshotVersion(o).next(function(l){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});a.push(c)}return O.waitFor(a).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,u)}).next(function(){return u})}).then(function(o){return n.kn=i,o})}function AS(e,t,n,r,i){var o=Ne();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var a=nn();return n.forEach(function(u,c){var l=s.get(u),f=(i==null?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ue.min())?(t.removeEntry(u,f),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c,f),a=a.insert(u,c)):k("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}function xS(e,t){var n=V(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Sa(e,t){var n=V(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,O.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new hu(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Ui(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:r=V(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(u){return r.persistence.referenceDelegate.removeTarget(u,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Gr(s=a.sent()))throw s;return k("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Ca(e,t,n){var r=V(e),i=ue.min(),o=Ne();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(a,u,c){var l=V(a),f=l.Fn.get(c);return f!==void 0?O.resolve(l.kn.get(f)):l.qe.getTargetData(u,c)}(r,s,_n(t)).next(function(a){if(a)return i=a.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,a.targetId).next(function(u){o=u})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:ue.min(),n?o:Ne())}).next(function(a){return{documents:a,Bn:o}})})}function Uy(e,t){var n=V(e),r=V(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function qy(e){var t=V(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=V(r),a=nn(),u=af(o),c=Qn(i),l=IDBKeyRange.lowerBound(u,!0);return c.$t({index:Fe.readTimeIndex,range:l},function(f,h){var d=qc(s.R,h);a=a.insert(d.key,d),u=h.readTime}).next(function(){return{wn:a,readTime:Ay(u)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function NS(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,(t=V(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Qn(i),s=ue.min();return o.$t({index:Fe.readTimeIndex,reverse:!0},function(a,u,c){u.readTime&&(s=Ay(u.readTime)),c.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DS=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return O.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Et(r.createTime)}),O.resolve()},e.prototype.getNamedQuery=function(t,n){return O.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Ny(r.bundledQuery),readTime:Et(r.readTime)}}(n)),O.resolve()},e}(),lf=function(){function e(){this.Wn=new Ke(We.Gn),this.zn=new Ke(We.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new We(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new We(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new W(new ye([])),i=new We(r,t),o=new We(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(a){n.Yn(a),s.push(a.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new W(new ye([])),r=new We(n,t),i=new We(n,t+1),o=Ne();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new We(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),We=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return W.comparator(t.key,n.key)||fe(t.ns,n.ns)},e.Hn=function(t,n){return fe(t.ns,n.ns)||W.comparator(t.key,n.key)},e}(),OS=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ke(We.Gn)}return e.prototype.checkEmpty=function(t){return O.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new sf(o,n,r,i);this._n.push(s);for(var a=0,u=i;a<u.length;a++){var c=u[a];this.rs=this.rs.add(new We(c.key,o)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return O.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return O.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return O.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return O.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return O.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new We(n,0),o=new We(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(a){var u=r.os(a.ns);s.push(u)}),O.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ke(fe);return n.forEach(function(o){var s=new We(o,0),a=new We(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,a],function(u){i=i.add(u.ns)})}),O.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));var s=new We(new W(o),0),a=new Ke(fe);return this.rs.forEachWhile(function(u){var c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ns)),!0)},s),O.resolve(this.us(a))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Z(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return O.forEach(n.mutations,function(o){var s=new We(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new We(n,0),i=this.rs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,O.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),RS=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new gt(W.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,a=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return O.resolve(r?r.document.clone():pt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=nn();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():pt.newInvalidDocument(o))}),O.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=nn(),o=new W(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var a=s.getNext(),u=a.key,c=a.value,l=c.document,f=c.readTime;if(!n.path.isPrefixOf(u.path))break;f.compareTo(r)<=0||ds(n,l)&&(i=i.insert(l.key,l.clone()))}return O.resolve(i)},e.prototype.fs=function(t,n){return O.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new kS(this)},e.prototype.getSize=function(t){return O.resolve(this.size)},e}(),kS=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),O.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(ky),PS=function(){function e(t){this.persistence=t,this.ds=new Qi(function(n){return ls(n)},uu),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ws=0,this._s=new lf,this.targetCount=0,this.ys=Ia.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),O.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return O.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return O.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),O.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),O.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ia(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,O.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),O.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,O.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i.ds.delete(a),s.push(i.removeMatchingKeysForTargetId(t,u.targetId)),o++)}),O.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return O.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return O.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),O.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),O.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),O.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return O.resolve(r)},e.prototype.containsKey=function(t,n){return O.resolve(this._s.containsKey(n))},e}(),LS=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Vt(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new PS(this),this.Ut=new fS,this.Ue=function(i,o){return new RS(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new Cy(n),this.Ke=new DS(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new OS(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;k("MemoryPersistence","Starting transaction:",t);var o=new MS(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return O.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),MS=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return J(t,e),t}(Iy),FS=function(){function e(t){this.persistence=t,this.As=new lf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw H()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),O.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),O.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),O.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.vs,function(i){var o=W.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return O.or([function(){return O.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Je=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(e,t){return"firestore_clients_"+e+"_"+t}function Fd(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qu(e,t){return"firestore_targets_"+e+"_"+t}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Vd=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new x(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(je("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Gu=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new x(i.error.code,i.error.message)),o?new e(t,i.state,r):(je("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ud=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=fu(),s=0;i&&s<r.activeTargetIds.length;++s)i=Gm(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(je("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),VS=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(je("SharedClientState","Failed to parse online state: "+t),null)},e}(),Bc=function(){function e(){this.activeTargetIds=fu()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Yu=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new gt(fe),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Md(this.persistenceKey,this.Ns),this.Ms=function(a){return"firestore_sequence_number_"+a}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Bc),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(a){return"firestore_online_state_"+a}(this.persistenceKey),this.Ks=function(a){return"firestore_bundle_loaded_"+a}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return C(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,h=this;return I(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(Md(this.persistenceKey,i)))&&(s=Ud.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Qu(this.persistenceKey,t));if(r){var i=Gu.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Qu(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return k("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){k("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){k("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(k("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void je("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return C(n,void 0,void 0,function(){var i,o,s,a,u,c;return I(this,function(l){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(a=this.ri(r.key,r.newValue)))return[2,this.oi(a)]}else if(r.key===this.Us){if(r.newValue!==null&&(u=this.js(r.newValue)))return[2,this.Ws(u)]}else if(r.key===this.Ms)(c=function(f){var h=Vt.o;if(f!=null)try{var d=JSON.parse(f);Z(typeof d=="number"),h=d}catch(p){je("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue))!==Vt.o&&this.sequenceNumberHandler(c);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Vd(this.currentUser,t,n,r),o=Fd(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=Fd(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Qu(this.persistenceKey,t),o=new Gu(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Ud.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Vd.Vs(new Je(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Gu.Vs(i,n)},e.prototype.js=function(t){return VS.Vs(t)},e.prototype.ii=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(k("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),a=[],u=[];return s.forEach(function(c){o.has(c)||a.push(c)}),o.forEach(function(c){s.has(c)||u.push(c)}),this.syncEngine.hi(a,u).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=fu();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),By=function(){function e(){this.li=new Bc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Bc,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),US=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),qd=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),qS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},BS=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),jS=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return J(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,a){var u=new wI;u.listenOnce(mI.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Ku.NO_ERROR:var l=u.getResponseJson();k("Connection","XHR received:",JSON.stringify(l)),s(l);break;case Ku.TIMEOUT:k("Connection",'RPC "'+n+'" timed out'),a(new x(b.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:var f=u.getStatus();if(k("Connection",'RPC "'+n+'" failed with status:',f,"response text:",u.getResponseText()),f>0){var h=u.getResponseJson().error;if(h&&h.status&&h.message){var d=function(p){var m=p.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(h.status);a(new x(d,h.message))}else a(new x(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{k("Connection",'RPC "'+n+'" completed.')}});var c=JSON.stringify(o);u.send(r,"POST",c,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=pI(),s=gI(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new vI({})),this.ki(a.initMessageHeaders,r),_1()||I1()||S1()||C1()||A1()||T1()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=i.join("");k("Connection","Creating WebChannel: "+u,a);var c=o.createWebChannel(u,a),l=!1,f=!1,h=new BS({Ei:function(p){f?k("Connection","Not sending because WebChannel is closed:",p):(l||(k("Connection","Opening WebChannel transport."),c.open(),l=!0),k("Connection","WebChannel sending:",p),c.send(p))},Ti:function(){return c.close()}}),d=function(p,m,v){p.listen(m,function(w){try{v(w)}catch(E){setTimeout(function(){throw E},0)}})};return d(c,Ns.EventType.OPEN,function(){f||k("Connection","WebChannel transport opened.")}),d(c,Ns.EventType.CLOSE,function(){f||(f=!0,k("Connection","WebChannel transport closed"),h.Vi())}),d(c,Ns.EventType.ERROR,function(p){f||(f=!0,ma("Connection","WebChannel transport errored:",p),h.Vi(new x(b.UNAVAILABLE,"The operation could not be completed")))}),d(c,Ns.EventType.MESSAGE,function(p){var m;if(!f){var v=p.data[0];Z(!!v);var w=v,E=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(E){k("Connection","WebChannel received error:",E);var T=E.status,R=function(Q){var ce=qe[Q];if(ce!==void 0)return fy(ce)}(T),U=E.message;R===void 0&&(R=b.INTERNAL,U="Unknown error status: "+T+" with message "+E.message),f=!0,h.Vi(new x(R,U)),c.close()}else k("Connection","WebChannel received:",v),h.Si(v)}}),d(s,yI.STAT_EVENT,function(p){p.stat===rd.PROXY?k("Connection","Detected buffering proxy"):p.stat===rd.NOPROXY&&k("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);k("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(a){return k("RestConnection","Received: ",a),a},function(a){throw ma("RestConnection",t+" failed with error: ",a,"url: ",o,"request:",r),a})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=qS[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){return typeof window<"u"?window:null}function Hs(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e){return new QI(e,!0)}var ff=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&k("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),$y=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ff(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return C(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(je(n.toString()),je("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===b.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new x(b.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return C(t,void 0,void 0,function(){return I(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return k("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),$S=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,a}return J(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var a;if("targetChange"in s){s.targetChange;var u=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:H()}(s.targetChange.targetChangeType||"NO_CHANGE"),c=s.targetChange.targetIds||[],l=function(v,w){return v.I?(Z(w===void 0||typeof w=="string"),Ct.fromBase64String(w||"")):(Z(w===void 0||w instanceof Uint8Array),Ct.fromUint8Array(w||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(v){var w=v.code===void 0?b.UNKNOWN:fy(v.code);return new x(w,v.message||"")}(h);a=new dy(u,c,l,f||null)}else if("documentChange"in s){s.documentChange,(u=s.documentChange).document,u.document.name,u.document.updateTime,c=Nn(o,u.document.name),l=Et(u.document.updateTime);var h=new Ft({mapValue:{fields:u.document.fields}}),d=(f=pt.newFoundDocument(c,l,h),u.targetIds||[]),p=u.removedTargetIds||[];a=new zs(d,p,f.key,f)}else if("documentDelete"in s)s.documentDelete,(u=s.documentDelete).document,c=Nn(o,u.document),l=u.readTime?Et(u.readTime):ue.min(),h=pt.newNoDocument(c,l),f=u.removedTargetIds||[],a=new zs([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(u=s.documentRemove).document,c=Nn(o,u.document),l=u.removedTargetIds||[],a=new zs([],l,c,null);else{if(!("filter"in s))return H();s.filter;var m=s.filter;m.targetId,u=m.count||0,c=new VI(u),l=m.targetId,a=new hy(l,c)}return a}(this.R,n),i=function(o){if(!("targetChange"in o))return ue.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Et(s.readTime):ue.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Ko(this.R),r.addTarget=function(o,s){var a,u=s.target;return(a=wa(u)?{documents:vy(o,u)}:{query:wy(o,u)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=py(o,s.resumeToken):s.snapshotVersion.compareTo(ue.min())>0&&(a.readTime=zo(o,s.snapshotVersion.toTimestamp())),a}(this.R,n);var i=function(o,s){var a=function(u,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,s.purpose);return a==null?null:{"goog-listen-tags":a}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Ko(this.R),r.removeTarget=n,this.cr(r)},t}($y),zS=function(e){function t(n,r,i,o,s){var a=this;return(a=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,a.gr=!1,a}return J(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Z(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(Z(s!==void 0),o.map(function(a){return function(u,c){var l=u.updateTime?Et(u.updateTime):Et(c);return l.isEqual(ue.min())&&(l=Et(c)),new LI(l,u.transformResults||[])}(a,s)})):[]}(n.writeResults,n.commitTime),i=Et(n.commitTime);return this.listener.Tr(i,r)}return Z(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Ko(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Ea(r.R,o)})};this.cr(i)},t}($y),HS=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return J(t,e),t.prototype.br=function(){if(this.Rr)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new x(b.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),KS=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(je(n),this.Vr=!1):k("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),WS=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return C(o,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return dr(this)?(k("RemoteStore","Restarting streams for network reachability change."),[4,function(u){return C(this,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return(c=V(u)).Or.add(4),[4,Gi(c)];case 1:return l.sent(),c.Br.set("Unknown"),c.Or.delete(4),[4,ys(c)];case 2:return l.sent(),[2]}})})}(this)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})})}),this.Br=new KS(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:if(!dr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Gi(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function pu(e,t){var n=V(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),pf(n)?df(n):Xi(n).er()&&hf(n,t))}function Wo(e,t){var n=V(e),r=Xi(n);n.$r.delete(t),r.er()&&zy(n,t),n.$r.size===0&&(r.er()?r.ir():dr(n)&&n.Br.set("Unknown"))}function hf(e,t){e.qr.U(t.targetId),Xi(e).mr(t)}function zy(e,t){e.qr.U(t),Xi(e).yr(t)}function df(e){e.qr=new HI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Xi(e).start(),e.Br.Sr()}function pf(e){return dr(e)&&!Xi(e).tr()&&e.$r.size>0}function dr(e){return V(e).Or.size===0}function Hy(e){e.qr=void 0}function QS(e){return C(this,void 0,void 0,function(){return I(this,function(t){return e.$r.forEach(function(n,r){hf(e,n)}),[2]})})}function GS(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){return Hy(e),pf(e)?(e.Br.Nr(t),df(e)):e.Br.set("Unknown"),[2]})})}function YS(e,t,n){return C(this,void 0,void 0,function(){var r,i,o;return I(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof dy&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(a,u){return C(this,void 0,void 0,function(){var c,l,f,h;return I(this,function(d){switch(d.label){case 0:c=u.cause,l=0,f=u.targetIds,d.label=1;case 1:return l<f.length?(h=f[l],a.$r.has(h)?[4,a.remoteSyncer.rejectListen(h,c)]:[3,3]):[3,5];case 2:d.sent(),a.$r.delete(h),a.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return l++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),k("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Aa(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof zs?e.qr.X(t):t instanceof hy?e.qr.rt(t):e.qr.et(t),n.isEqual(ue.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vy(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(a,u){var c=a.qr.ut(u);return c.targetChanges.forEach(function(l,f){if(l.resumeToken.approximateByteSize()>0){var h=a.$r.get(f);h&&a.$r.set(f,h.withResumeToken(l.resumeToken,u))}}),c.targetMismatches.forEach(function(l){var f=a.$r.get(l);if(f){a.$r.set(l,f.withResumeToken(Ct.EMPTY_BYTE_STRING,f.snapshotVersion)),zy(a,l);var h=new hu(f.target,l,1,f.sequenceNumber);hf(a,h)}}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return k("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Aa(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Aa(e,t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:if(!Gr(t))throw t;return e.Or.add(1),[4,Gi(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Vy(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return k("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,ys(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function Ky(e,t){return t().catch(function(n){return Aa(e,n,t)})}function Yi(e){return C(this,void 0,void 0,function(){var t,n,r,i,o;return I(this,function(s){switch(s.label){case 0:t=V(e),n=cr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(a){return dr(a)&&a.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,xS(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(a,u){a.Fr.push(u);var c=cr(a);c.er()&&c.pr&&c.Er(u.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Aa(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Wy(t)&&Qy(t),[2]}})})}function Wy(e){return dr(e)&&!cr(e).tr()&&e.Fr.length>0}function Qy(e){cr(e).start()}function XS(e){return C(this,void 0,void 0,function(){return I(this,function(t){return cr(e).Ar(),[2]})})}function JS(e){return C(this,void 0,void 0,function(){var t,n,r,i;return I(this,function(o){for(t=cr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function ZS(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=cS.from(r,t,n),[4,Ky(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Yi(e)];case 2:return o.sent(),[2]}})})}function eC(e,t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return t&&cr(e).pr?[4,function(r,i){return C(this,void 0,void 0,function(){var o,s;return I(this,function(a){switch(a.label){case 0:return ly(s=i.code)&&s!==b.ABORTED?(o=r.Fr.shift(),cr(r).sr(),[4,Ky(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return a.sent(),[4,Yi(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wy(e)&&Qy(e),[2]}})})}function jc(e,t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(e),t?(n.Or.delete(2),[4,ys(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Gi(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xi(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=V(n);return o.br(),new $S(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:QS.bind(null,e),Ri:GS.bind(null,e),_r:YS.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),pf(e)?df(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Hy(e),r.label=3;case 3:return[2]}})})})),e.Ur}function cr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=V(n);return o.br(),new zS(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:XS.bind(null,e),Ri:eC.bind(null,e),Ir:JS.bind(null,e),Tr:ZS.bind(null,e)}),e.Mr.push(function(n){return C(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Yi(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(k("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var tC=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(b.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ji(e,t){if(je("AsyncQueue",t+": "+e),Gr(e))return new x(b.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||W.comparator(n.key,r.key)}:function(n,r){return W.comparator(n.key,r.key)},this.keyedMap=Vc(),this.sortedSet=new gt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Bd=function(){function e(){this.Qr=new gt(W.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):H():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),xa=function(){function e(t,n,r,i,o,s,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,Gy.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),nC=function(){this.Wr=void 0,this.listeners=[]},rC=function(){this.queries=new Qi(function(e){return ey(e)},hs),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return I(this,function(c){switch(c.label){case 0:if(n=V(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new nC),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Ji(a,"Initialization of query '"+Mc(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&yf(n),[2]}})})}function mf(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(a){return n=V(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function iC(e,t){for(var n=V(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&yf(n)}function oC(e,t,n){var r=V(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function yf(e){e.Gr.forEach(function(t){t.next()})}var vf=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new xa(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(e){this.key=e},Xy=function(e){this.key=e},Jy=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ne(),this.mutatedKeys=Ne(),this.lo=ty(t),this.fo=new Gy(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Bd,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,a=o,u=!1,c=js(this.query)&&o.size===this.query.limit?o.last():null,l=_a(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var p=o.get(h),m=ds(r.query,d)?d:null,v=!!p&&r.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),E=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),E=!0):r.yo(p,m)||(i.track({type:2,doc:m}),E=!0,(c&&r.lo(m,c)>0||l&&r.lo(m,l)<0)&&(u=!0)):!p&&m?(i.track({type:0,doc:m}),E=!0):p&&!m&&(i.track({type:1,doc:p}),E=!0,(c||l)&&(u=!0)),E&&(m?(a=a.add(m),s=w?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),js(this.query)||_a(this.query))for(;a.size>this.query.limit;){var f=js(this.query)?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:a,mo:i,Nn:u,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(l,f){return function(h,d){var p=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return p(h)-p(d)}(l.type,f.type)||i.lo(l.doc,f.doc)}),this.po(r);var a=n?this.Eo():[],u=this.ho.size===0&&this.current?1:0,c=u!==this.ao;return this.ao=u,s.length!==0||c?{snapshot:new xa(this.query,t.fo,o,s,t.mutatedKeys,u===0,c,!1),To:a}:{To:a}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Bd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ne(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Xy(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new Yy(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ne();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return xa.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),sC=function(e,t,n){this.query=e,this.targetId=t,this.view=n},aC=function(e){this.key=e,this.bo=!1},uC=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Qi(function(a){return ey(a)},hs),this.Vo=new Map,this.So=new Set,this.Do=new gt(W.comparator),this.Co=new Map,this.No=new lf,this.xo={},this.ko=new Map,this.Fo=Ia.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function cC(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a;return I(this,function(u){switch(u.label){case 0:return n=Tf(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sa(n.localStore,_n(t))];case 2:return s=u.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,wf(n,t,r,a==="current")];case 3:i=u.sent(),n.isPrimaryClient&&pu(n.remoteStore,s),u.label=4;case 4:return[2,i]}})})}function wf(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:return e.Oo=function(f,h,d){return function(p,m,v,w){return C(this,void 0,void 0,function(){var E,T,R;return I(this,function(U){switch(U.label){case 0:return E=m.view._o(v),E.Nn?[4,Ca(p.localStore,m.query,!1).then(function(Q){var ce=Q.documents;return m.view._o(ce,E)})]:[3,2];case 1:E=U.sent(),U.label=2;case 2:return T=w&&w.targetChanges.get(m.targetId),R=m.view.applyChanges(E,p.isPrimaryClient,T),[2,($c(p,m.targetId,R.To),R.snapshot)]}})})}(e,f,h,d)},[4,Ca(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Jy(t,i.Bn),s=o._o(i.documents),a=nf.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),u=o.applyChanges(s,e.isPrimaryClient,a),$c(e,n,u.To),c=new sC(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function lC(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return n=V(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!hs(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ui(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Wo(n.remoteStore,r.targetId),qi(n,r.targetId)}).catch(Yr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return qi(n,r.targetId),[4,Ui(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function fC(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:r=If(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(u,c){var l,f=V(u),h=St.now(),d=c.reduce(function(p,m){return p.add(m.key)},Ne());return f.persistence.runTransaction("Locally write mutations","readwrite",function(p){return f.Mn.pn(p,d).next(function(m){l=m;for(var v=[],w=0,E=c;w<E.length;w++){var T=E[w],R=FI(T,l.get(T.key));R!=null&&v.push(new hr(T.key,R,Ym(R.value.mapValue),ht.exists(!0)))}return f._n.addMutationBatch(p,h,v,c)})}).then(function(p){return p.applyToLocalDocumentSet(l),{batchId:p.batchId,changes:l}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(u,c,l){var f=u.xo[u.currentUser.toKey()];f||(f=new gt(fe)),f=f.insert(c,l),u.xo[u.currentUser.toKey()]=f}(r,i.batchId,n),[4,pr(r,i.changes)];case 3:return a.sent(),[4,Yi(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Ji(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Zy(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:n=V(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,CS(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var a=n.Co.get(s);a&&(Z(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.bo=!0:o.modifiedDocuments.size>0?Z(a.bo):o.removedDocuments.size>0&&(Z(a.bo),a.bo=!1))}),[4,pr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Yr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function jd(e,t,n){var r=V(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var a=s.view.zr(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){var a=V(o);a.onlineState=s;var u=!1;a.queries.forEach(function(c,l){for(var f=0,h=l.listeners;f<h.length;f++)h[f].zr(s)&&(u=!0)}),u&&yf(a)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hC(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u;return I(this,function(c){switch(c.label){case 0:return(r=V(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new gt(W.comparator)).insert(o,pt.newNoDocument(o,ue.min())),a=Ne().add(o),u=new tf(ue.min(),new Map,new Ke(fe),s,a),[4,Zy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ef(r),[3,4];case 2:return[4,Ui(r.localStore,t,!1).then(function(){return qi(r,t,n)}).catch(Yr)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function dC(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:n=V(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,SS(n.localStore,t)];case 2:return i=o.sent(),_f(n,r,null),bf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,pr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pC(e,t,n){return C(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:r=V(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,a){var u=V(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",function(c){var l;return u._n.lookupMutationBatch(c,a).next(function(f){return Z(f!==null),l=f.keys(),u._n.removeMutationBatch(c,f)}).next(function(){return u._n.performConsistencyCheck(c)}).next(function(){return u.Mn.pn(c,l)})})}(r.localStore,t)];case 2:return i=o.sent(),_f(r,t,n),bf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,pr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Yr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gC(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(a){switch(a.label){case 0:dr((n=V(e)).remoteStore)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(u){var c=V(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(l){return c._n.getHighestUnacknowledgedBatchId(l)})}(n.localStore)];case 2:return(r=a.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Ji(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function bf(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function _f(e,t,n){var r=V(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function qi(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||ev(e,s)})}function ev(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Wo(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ef(e))}function $c(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Yy?(e.No.addReference(o.key,t),mC(e,o)):o instanceof Xy?(k("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ev(e,o.key)):H()}}function mC(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(k("SyncEngine","New document in limbo: "+n),e.So.add(r),Ef(e))}function Ef(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(ye.fromString(t)),r=e.Fo.next();e.Co.set(r,new aC(n)),e.Do=e.Do.insert(n,r),pu(e.remoteStore,new hu(_n(fs(n.path)),r,2,Vt.o))}}function pr(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(a){switch(a.label){case 0:return r=V(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(u,c){s.push(r.Oo(c,t,n).then(function(l){if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l.fromCache?"not-current":"current"),i.push(l);var f=TS.Pn(c.targetId,l);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(u,c){return C(this,void 0,void 0,function(){var l,f,h,d,p,m,v,w,E;return I(this,function(T){switch(T.label){case 0:l=V(u),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,l.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(R){return O.forEach(c,function(U){return O.forEach(U.bn,function(Q){return l.persistence.referenceDelegate.addReference(R,U.targetId,Q)}).next(function(){return O.forEach(U.vn,function(Q){return l.persistence.referenceDelegate.removeReference(R,U.targetId,Q)})})})})];case 2:return T.sent(),[3,4];case 3:if(!Gr(f=T.sent()))throw f;return k("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=c;h<d.length;h++)p=d[h],m=p.targetId,p.fromCache||(v=l.kn.get(m),w=v.snapshotVersion,E=v.withLastLimboFreeSnapshotVersion(w),l.kn=l.kn.insert(m,E));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function yC(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return(n=V(e)).currentUser.isEqual(t)?[3,3]:(k("SyncEngine","User change. New user:",t.toKey()),[4,Fy(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(a){a.forEach(function(u){u.reject(new x(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,pr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function vC(e,t){var n=V(e),r=n.Co.get(t);if(r&&r.bo)return Ne().add(r.key);var i=Ne(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function wC(e,t){return C(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return[4,Ca((n=V(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&$c(n,t.targetId,i.To),i)]}})})}function bC(e){return C(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,qy((t=V(e)).localStore).then(function(r){return pr(t,r)})]})})}function _C(e,t,n,r){return C(this,void 0,void 0,function(){var i,o;return I(this,function(s){switch(s.label){case 0:return[4,function(a,u){var c=V(a),l=V(c._n);return c.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return l.jt(f,u).next(function(h){return h?c.Mn.pn(f,h):O.resolve(null)})})}((i=V(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Yi(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(_f(i,t,r||null),bf(i,t),function(a,u){V(V(a)._n).Gt(u)}(i.localStore,t)):H(),s.label=4;case 4:return[4,pr(i,o)];case 5:return s.sent(),[3,7];case 6:k("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function EC(e,t){return C(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return I(this,function(l){switch(l.label){case 0:return Tf(n=V(e)),If(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,$d(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,jc(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],pu(n.remoteStore,a);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?u.push(h):c=c.then(function(){return qi(n,h),Ui(n.localStore,h,!0)}),Wo(n.remoteStore,h)}),[4,c]);case 4:return l.sent(),[4,$d(n,u)];case 5:return l.sent(),function(f){var h=V(f);h.Co.forEach(function(d,p){Wo(h.remoteStore,p)}),h.No.ts(),h.Co=new Map,h.Do=new gt(W.comparator)}(n),n.$o=!1,[4,jc(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function $d(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,h,d,p,m,v;return I(this,function(w){switch(w.label){case 0:r=V(e),i=[],o=[],s=0,a=t,w.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(l=r.Vo.get(u))&&l.length!==0?[4,Sa(r.localStore,_n(l[0]))]:[3,7]):[3,13];case 2:c=w.sent(),f=0,h=l,w.label=3;case 3:return f<h.length?(d=h[f],p=r.Po.get(d),[4,wC(r,p)]):[3,6];case 4:(m=w.sent()).snapshot&&o.push(m.snapshot),w.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Uy(r.localStore,u)];case 8:return v=w.sent(),[4,Sa(r.localStore,v)];case 9:return c=w.sent(),[4,wf(r,tv(v),u,!1)];case 10:w.sent(),w.label=11;case 11:i.push(c),w.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function tv(e){return Jm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function TC(e){var t=V(e);return V(V(t.localStore).persistence).fn()}function IC(e,t,n,r){return C(this,void 0,void 0,function(){var i,o,s;return I(this,function(a){switch(a.label){case 0:return(i=V(e)).$o?(k("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qy(i.localStore)];case 3:return o=a.sent(),s=tf.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,pr(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ui(i.localStore,t,!0)];case 6:return a.sent(),qi(i,t,r),[3,8];case 7:H(),a.label=8;case 8:return[2]}})})}function SC(e,t,n){return C(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f,h;return I(this,function(d){switch(d.label){case 0:if(!(r=Tf(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(k("SyncEngine","Adding an already active target "+s),[3,5]):[4,Uy(r.localStore,s)]):[3,6];case 2:return a=d.sent(),[4,Sa(r.localStore,a)];case 3:return u=d.sent(),[4,wf(r,tv(a),u.targetId,!1)];case 4:d.sent(),pu(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(p){return I(this,function(m){switch(m.label){case 0:return r.Vo.has(p)?[4,Ui(r.localStore,p,!1).then(function(){Wo(r.remoteStore,p),qi(r,p)}).catch(Yr)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Tf(e){var t=V(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hC.bind(null,t),t.vo._r=iC.bind(null,t.eventManager),t.vo.Mo=oC.bind(null,t.eventManager),t}function If(e){var t=V(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,t),t}var nv=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return C(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.R=du(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return My(this.persistence,new Ly,t.initialUser,this.R)},e.prototype.qo=function(t){return new LS(FS.bs,this.R)},e.prototype.Bo=function(t){return new By},e.prototype.terminate=function(){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),rv=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return J(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,NS(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,If(this.Qo.syncEngine)];case 4:return i.sent(),[4,Yi(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return My(this.persistence,new Ly,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new mS(r,n.asyncQueue)},t.prototype.qo=function(n){var r=cf(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new ES(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,jy(),Hs(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new By},t}(nv),CC=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return J(t,e),t.prototype.initialize=function(n){return C(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Yu?(this.sharedClientState.syncEngine={ui:_C.bind(null,r),ai:IC.bind(null,r),hi:SC.bind(null,r),fn:TC.bind(null,r),ci:bC.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return C(i,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return[4,EC(this.Qo.syncEngine,s)];case 1:return a.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=jy();if(!Yu.yt(r))throw new x(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=cf(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Yu(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(rv),zc=function(){function e(){}return e.prototype.initialize=function(t,n){return C(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return jd(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),[4,jc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new rC},e.prototype.createDatastore=function(t){var n,r=du(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new jS(n));return function(o,s,a){return new HS(o,s,a)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,a=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(u){return jd(a.syncEngine,u,0)},s=qd.yt()?new qd:new US,new WS(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,a,u,c){var l=new uC(r,i,o,s,a,u);return c&&(l.$o=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return C(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=V(t),k("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Gi(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),AC=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return C(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(b.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return C(this,void 0,void 0,function(){var a,u,c,l,f,h;return I(this,function(d){switch(d.label){case 0:return a=V(o),u=Ko(a.R)+"/documents",c={documents:s.map(function(p){return Ho(a.R,p)})},[4,a.$i("BatchGetDocuments",u,c)];case 1:return l=d.sent(),f=new Map,l.forEach(function(p){var m=function(v,w){return"found"in w?function(E,T){Z(!!T.found),T.found.name,T.found.updateTime;var R=Nn(E,T.found.name),U=Et(T.found.updateTime),Q=new Ft({mapValue:{fields:T.found.fields}});return pt.newFoundDocument(R,U,Q)}(v,w):"missing"in w?function(E,T){Z(!!T.missing),Z(!!T.readTime);var R=Nn(E,T.missing),U=Et(T.readTime);return pt.newNoDocument(R,U)}(v,w):H()}(a.R,p);f.set(m.key.toString(),m)}),h=[],[2,(s.forEach(function(p){var m=f.get(p.toString());Z(!!m),h.push(m)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ms(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=W.fromPath(o);n.mutations.push(new ef(s,n.precondition(s)))}),[4,function(i,o){return C(this,void 0,void 0,function(){var s,a,u;return I(this,function(c){switch(c.label){case 0:return s=V(i),a=Ko(s.R)+"/documents",u={writes:o.map(function(l){return Ea(s.R,l)})},[4,s.Ni("Commit",a,u)];case 1:return c.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw H();n=ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new x(b.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?ht.updateTime(n):ht.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ue.min()))throw new x(b.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),xC=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new ff(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return C(t,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){return n=new AC(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(a){i.ic(a)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Qr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!ly(n)}return!1},e}(),NC=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=zm.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return C(i,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return k("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return C(this,void 0,void 0,function(){return I(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new x(b.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return C(t,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=Ji(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e,t){return C(this,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return C(i,void 0,void 0,function(){return I(this,function(a){switch(a.label){case 0:return r.isEqual(s)?[3,2]:[4,Fy(t.localStore,s)];case 1:a.sent(),r=s,a.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ov(e,t){return C(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Sf(e)];case 1:return n=i.sent(),k("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,a){return C(this,void 0,void 0,function(){var u,c;return I(this,function(l){switch(l.label){case 0:return(u=V(s)).asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials"),c=dr(u),u.Or.add(3),[4,Gi(u)];case 1:return l.sent(),c&&u.Br.set("Unknown"),[4,u.remoteSyncer.handleCredentialChange(a)];case 2:return l.sent(),u.Or.delete(3),[4,ys(u)];case 3:return l.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function Sf(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(k("FirestoreClient","Using default OfflineComponentProvider"),[4,iv(e,new nv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function mu(e){return C(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(k("FirestoreClient","Using default OnlineComponentProvider"),[4,ov(e,new zc)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function zd(e){return Sf(e).then(function(t){return t.persistence})}function sv(e){return Sf(e).then(function(t){return t.localStore})}function Hd(e){return mu(e).then(function(t){return t.remoteStore})}function av(e){return mu(e).then(function(t){return t.syncEngine})}function Bi(e){return C(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:return[4,mu(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=cC.bind(null,t.syncEngine),n.onUnlisten=lC.bind(null,t.syncEngine),n)]}})})}function Kd(e,t,n){var r=this;n===void 0&&(n={});var i=new At;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(a,u,c,l,f){var h=new gu({next:function(p){u.enqueueAndForget(function(){return mf(a,d)});var m=p.docs.has(c);!m&&p.fromCache?f.reject(new x(b.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new vf(fs(c.path),h,{includeMetadataChanges:!0,so:!0});return gf(a,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Wd(e,t,n){var r=this;n===void 0&&(n={});var i=new At;return e.asyncQueue.enqueueAndForget(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(a,u,c,l,f){var h=new gu({next:function(p){u.enqueueAndForget(function(){return mf(a,d)}),p.fromCache&&l.source==="server"?f.reject(new x(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:function(p){return f.reject(p)}}),d=new vf(c,h,{includeMetadataChanges:!0,so:!0});return gf(a,d)},[4,Bi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var DC=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Na=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Qd=new Map,uv=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Gd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Je.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),OC=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),RC=function(){function e(t){var n=this;this.currentUser=Je.UNAUTHENTICATED,this.oc=new At,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){k("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(k("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(k("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Z(typeof i.accessToken=="string"),new uv(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return C(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Z(t===null||typeof t=="string"),new Je(t)},e}(),kC=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Je.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),PC=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new kC(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Je.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(e,t,n){if(!n)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Af(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new x(b.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function cv(e,t,n,r){if(t===!0&&r===!0)throw new x(b.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Yd(e){if(!W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Xd(e){if(W.isDocumentKey(e))throw new x(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function yu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":H()}function we(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new x(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yu(e);throw new x(b.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Jd(e,t){if(t<=0)throw new x(b.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zd=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new x(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new x(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Qo=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1,t instanceof Na?(this._databaseId=t,this._credentials=new Gd):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new x(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(r.options.projectId)}(t),this._credentials=new RC(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Gd;switch(n.type){case"gapi":var r=n.client;return Z(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new PC(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new x(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Qd.get(t))&&(k("ComponentProvider","Removing Datastore"),Qd.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Le=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ir(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),qt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ir=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,fs(i))||this)._path=i,o.type="collection",o}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Le(this.firestore,null,new W(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(qt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),Cf("collection","path",t),e instanceof Qo)return Xd(n=ye.fromString.apply(ye,Ve([t],r))),new ir(e,null,n);if(!(e instanceof Le||e instanceof ir))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xd(n=ye.fromString.apply(ye,Ve([e.path],r)).child(ye.fromString(t))),new ir(e.firestore,null,n)}function Ks(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=$e(e),arguments.length===1&&(t=zm.u()),Cf("doc","path",t),e instanceof Qo)return Yd(n=ye.fromString.apply(ye,Ve([t],r))),new Le(e,null,new W(n));if(!(e instanceof Le||e instanceof ir))throw new x(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yd(n=e._path.child(ye.fromString.apply(ye,Ve([t],r)))),new Le(e.firestore,e instanceof ir?e.converter:null,new W(n))}function fv(e,t){return e=$e(e),t=$e(t),(e instanceof Le||e instanceof ir)&&(t instanceof Le||t instanceof ir)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hv(e,t){return e=$e(e),t=$e(t),e instanceof qt&&t instanceof qt&&e.firestore===t.firestore&&hs(e._query,t._query)&&e.converter===t.converter}var LC=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ff(this,"async_queue_retry"),this.Ic=function(){var r=Hs();r&&k("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Hs();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Hs();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new At;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return C(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Gr(t=r.sent()))throw t;return k("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,je("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=tC.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&H()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return C(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,a){return s.targetTimeMs-a.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function ji(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var MC=-1,He=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new LC,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return J(t,e),t.prototype._terminate=function(){return this._firestoreClient||dv(this),this._firestoreClient.terminate()},t}(Qo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){return e._firestoreClient||dv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dv(e){var t,n=e._freezeSettings(),r=function(i,o,s,a){return new DC(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new NC(e._credentials,e._queue,r)}function ep(e,t,n){var r=this,i=new At;return e.asyncQueue.enqueue(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,iv(e,n)];case 1:return s.sent(),[4,ov(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(a){return a.name==="FirebaseError"?a.code===b.FAILED_PRECONDITION||a.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function tp(e){if(e._initialized||e._terminated)throw new x(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new x(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),$r=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Ct.fromBase64String(t))}catch(n){throw new x(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Ct.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Xr=function(e){this._methodName=e},vu=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new x(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new x(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return fe(this._lat,t._lat)||fe(this._long,t._long)},e}(),FC=/^__.*__$/,VC=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new gs(t,this.data,n,this.fieldTransforms)},e}(),pv=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new hr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var mv=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Da(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(gv(this.Nc)&&FC.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),UC=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||du(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new mv({Nc:t,methodName:n,qc:r,path:sn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Jr(e){var t=e._freezeSettings(),n=du(e._databaseId);return new UC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wu(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Of("Data must be an object, but it was:",s,r);var a,u,c=wv(r,s);if(o.merge)a=new xi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Hc(t,h[f],n);if(!s.contains(d))throw new x(b.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_v(l,d)||l.push(d)}a=new xi(l),u=s.fieldTransforms.filter(function(p){return a.covers(p.field)})}else a=null,u=s.fieldTransforms;return new VC(new Ft(c),a,u)}var xf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Xr);function yv(e,t,n){return new mv({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var qC=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){return new ps(n.path,new Ri)},t.prototype.isEqual=function(n){return n instanceof t},t}(Xr),BC=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=yv(this,n,!0),i=this.Kc.map(function(s){return Zr(s,r)}),o=new Br(i);return new ps(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Xr),jC=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=yv(this,n,!0),i=this.Kc.map(function(s){return Zr(s,r)}),o=new jr(i);return new ps(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Xr),$C=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=new ki(n.R,iy(n.R,this.Qc));return new ps(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Xr);function Nf(e,t,n,r){var i=e.Uc(1,t,n);Of("Data must be an object, but it was:",i,r);var o=[],s=Ft.empty();Wr(r,function(u,c){var l=Rf(t,u,n);c=$e(c);var f=i.Oc(l);if(c instanceof xf)o.push(l);else{var h=Zr(c,f);h!=null&&(o.push(l),s.set(l,h))}});var a=new xi(o);return new pv(s,a,i.fieldTransforms)}function Df(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[Hc(t,r,n)],u=[i];if(o.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Hc(t,o[c])),u.push(o[c+1]);for(var l=[],f=Ft.empty(),h=a.length-1;h>=0;--h)if(!_v(l,a[h])){var d=a[h],p=u[h];p=$e(p);var m=s.Oc(d);if(p instanceof xf)l.push(d);else{var v=Zr(p,m);v!=null&&(l.push(d),f.set(d,v))}}var w=new xi(l);return new pv(f,w,s.fieldTransforms)}function vv(e,t,n,r){return r===void 0&&(r=!1),Zr(n,e.Uc(r?4:3,t))}function Zr(e,t){if(bv(e=$e(e)))return Of("Unsupported field value:",t,e),wv(e,t);if(e instanceof Xr)return function(n,r){if(!gv(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,a=n;s<a.length;s++){var u=Zr(a[s],r.Mc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=$e(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iy(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=St.fromDate(n);return{timestampValue:zo(r.R,i)}}if(n instanceof St)return i=new St(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:zo(r.R,i)};if(n instanceof vu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $r)return{bytesValue:py(r.R,n._byteString)};if(n instanceof Le){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:rf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+yu(n))}(e,t)}function wv(e,t){var n={};return Km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(e,function(r,i){var o=Zr(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bv(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof St||e instanceof vu||e instanceof $r||e instanceof Le||e instanceof Xr)}function Of(e,t,n){if(!bv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=yu(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Hc(e,t,n){if((t=$e(t))instanceof vn)return t._internalPath;if(typeof t=="string")return Rf(e,t);throw Da("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var zC=new RegExp("[~\\*/\\[\\]]");function Rf(e,t,n){if(t.search(zC)>=0)throw Da("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(vn.bind.apply(vn,Ve([void 0],t.split("."))))()._internalPath}catch{throw Da("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Da(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new x(b.INVALID_ARGUMENT,(a+=". ")+e+u)}function _v(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Le(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new HC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Oa("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),HC=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Go);function Oa(e,t){return typeof t=="string"?Rf(e,t):t instanceof vn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),On=function(e){function t(n,r,i,o,s,a){var u=this;return(u=e.call(this,n,r,i,o,a)||this)._firestore=n,u._firestoreImpl=n,u.metadata=s,u}return J(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Oa("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Go),Io=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(On),Xn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Io(r._firestore,r._userDataWriter,i.key,i,new Nr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(a){return{type:"added",doc:new Io(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(a){return i||a.type!==3}).map(function(a){var u=new Io(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,l=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(l=(s=s.add(a.doc)).indexOf(a.doc.key)),{type:KC(a.type),doc:u,oldIndex:c,newIndex:l}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function KC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}function Ev(e,t){return e instanceof On&&t instanceof On?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xn&&t instanceof Xn&&e._firestore===t._firestore&&hv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e){if(_a(e)&&e.explicitOrderBy.length===0)throw new x(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vs=function(){};function zn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var WC=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return J(t,e),t.prototype._apply=function(n){var r=Jr(n.firestore),i=function(o,s,a,u,c,l,f){var h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new x(b.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+l+"' queries on FieldPath.documentId().");if(l==="in"||l==="not-in"){sp(f,l);for(var d=[],p=0,m=f;p<m.length;p++){var v=m[p];d.push(op(u,o,v))}h={arrayValue:{values:d}}}else h=op(u,o,f)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||sp(f,l),h=vv(a,"where",f,l==="in"||l==="not-in");var w=Ut.create(c,l,h);return function(E,T){if(T.g()){var R=Jl(E);if(R!==null&&!R.isEqual(T.field))throw new x(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+R.toString()+"' and '"+T.field.toString()+"'");var U=Xl(E);U!==null&&Sv(E,T.field,U)}var Q=function(ce,ne){for(var se=0,be=ce.filters;se<be.length;se++){var Pe=be[se];if(ne.indexOf(Pe.op)>=0)return Pe.op}return null}(E,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(T.op));if(Q!==null)throw Q===T.op?new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+T.op.toString()+"' filter."):new x(b.INVALID_ARGUMENT,"Invalid query. You cannot use '"+T.op.toString()+"' filters with '"+Q.toString()+"' filters.")}(o,w),w}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new qt(n.firestore,n.converter,function(o,s){var a=o.filters.concat([s]);return new Ln(o.path,o.collectionGroup,o.explicitOrderBy.slice(),a,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(vs),QC=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return J(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new x(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var a=new _i(o,s);return function(u,c){if(Xl(u)===null){var l=Jl(u);l!==null&&Sv(u,l,c.field)}}(i,a),a}(n._query,this.jc,this.zc);return new qt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new Ln(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(vs),np=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return J(t,e),t.prototype._apply=function(n){return new qt(n.firestore,n.converter,Zm(n._query,this.Hc,this.Jc))},t}(vs),rp=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return J(t,e),t.prototype._apply=function(n){var r=Iv(n,this.type,this.Yc,this.Xc);return new qt(n.firestore,n.converter,function(i,o){return new Ln(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(vs),ip=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return J(t,e),t.prototype._apply=function(n){var r=Iv(n,this.type,this.Yc,this.Xc);return new qt(n.firestore,n.converter,function(i,o){return new Ln(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(vs);function Iv(e,t,n,r){if(n[0]=$e(n[0]),n[0]instanceof Go)return function(o,s,a,u,c){if(!u)throw new x(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+a+"().");for(var l=[],f=0,h=Oi(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())l.push(va(s,u.key));else{var p=u.data.field(d.field);if(Ql(p))throw new x(b.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){var m=d.field.canonicalString();throw new x(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}l.push(p)}}return new $o(l,c)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Jr(e.firestore);return function(o,s,a,u,c,l){var f=o.explicitOrderBy;if(c.length>f.length)throw new x(b.INVALID_ARGUMENT,"Too many arguments provided to "+u+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<c.length;d++){var p=c[d];if(f[d].field.isKeyField()){if(typeof p!="string")throw new x(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+u+"(), but got a "+typeof p);if(!Zl(o)&&p.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+u+"() must be a plain document ID, but '"+p+"' contains a slash.");var m=o.path.child(ye.fromString(p));if(!W.isDocumentKey(m))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+u+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var v=new W(m);h.push(va(s,v))}else{var w=vv(a,u,p);h.push(w)}}return new $o(h,l)}(e._query,e.firestore._databaseId,i,t,n,r)}function op(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zl(t)&&n.indexOf("/")!==-1)throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ye.fromString(n));if(!W.isDocumentKey(r))throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return va(e,new W(r))}if(n instanceof Le)return va(e,n._key);throw new x(b.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+yu(n)+".")}function sp(e,t){if(!Array.isArray(e)||e.length===0)throw new x(b.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new x(b.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Sv(e,t,n){if(!n.isEqual(t))throw new x(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ni(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw H()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Wr(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new vu(Be(t.latitude),Be(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Qm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bo(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ur(t);return new St(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ye.fromString(t);Z(Ey(r));var i=new Na(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||je("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GC=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new $r(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Le(this.firestore,null,r)},t}(kf),YC=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Jn(t,this._firestore),o=bu(i.converter,n,r),s=wu(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ht.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,a=Jn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof vn?Df(this._dataReader,"WriteBatch.update",a._key,n,r,i):Nf(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,ht.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Jn(t,this._firestore);return this._mutations=this._mutations.concat(new ms(n._key,ht.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new x(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,t){if((e=$e(e)).firestore!==t)throw new x(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new $r(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Le(this.firestore,null,r)},t}(kf);function ap(e,t,n){e=we(e,Le);var r=we(e.firestore,He),i=bu(e.converter,t,n);return ws(r,[wu(Jr(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,ht.none())])}function up(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=we(e,Le);var o=we(e.firestore,He),s=Jr(o);return ws(o,[(typeof(t=$e(t))=="string"||t instanceof vn?Df(s,"updateDoc",e._key,t,n,r):Nf(s,"updateDoc",e._key,t)).toMutation(e._key,ht.exists(!0))])}function Cv(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=$e(e);var s={includeMetadataChanges:!1},a=0;typeof i[a]!="object"||ji(i[a])||(s=i[a],a++);var u,c,l,f={includeMetadataChanges:s.includeMetadataChanges};if(ji(i[a])){var h=i[a];i[a]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[a+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof Le)c=we(e.firestore,He),l=fs(e._key.path),u={next:function(m){i[a]&&i[a](Kc(c,e,m))},error:i[a+1],complete:i[a+2]};else{var d=we(e,qt);c=we(d.firestore,He),l=d._query;var p=new Lr(c);u={next:function(m){i[a]&&i[a](new Xn(c,p,d,m))},error:i[a+1],complete:i[a+2]},Tv(e._query)}return function(m,v,w,E){var T=this,R=new gu(E),U=new vf(v,R,w);return m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var Q;return I(this,function(ce){switch(ce.label){case 0:return Q=gf,[4,Bi(m)];case 1:return[2,Q.apply(void 0,[ce.sent(),U])]}})})}),function(){R.Wo(),m.asyncQueue.enqueueAndForget(function(){return C(T,void 0,void 0,function(){var Q;return I(this,function(ce){switch(ce.label){case 0:return Q=mf,[4,Bi(m)];case 1:return[2,Q.apply(void 0,[ce.sent(),U])]}})})})}}(ut(c),l,f,u)}function ws(e,t){return function(n,r){var i=this,o=new At;return n.asyncQueue.enqueueAndForget(function(){return C(i,void 0,void 0,function(){var s;return I(this,function(a){switch(a.label){case 0:return s=fC,[4,av(n)];case 1:return[2,s.apply(void 0,[a.sent(),r,o])]}})})}),o.promise}(ut(e),t)}function Kc(e,t,n){var r=n.docs.get(t._key),i=new Lr(e);return new On(e,i,t._key,r,new Nr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return J(t,e),t.prototype.get=function(n){var r=this,i=Jn(n,this._firestore),o=new Lr(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new On(r._firestore,o,i._key,s._document,new Nr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Jr(t)}return e.prototype.get=function(t){var n=this,r=Jn(t,this._firestore),i=new GC(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return H();var s=o[0];if(s.isFoundDocument())return new Go(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Go(n._firestore,i,r._key,null,r.converter);throw H()})},e.prototype.set=function(t,n,r){var i=Jn(t,this._firestore),o=bu(i.converter,n,r),s=wu(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,a=Jn(t,this._firestore);return s=typeof(n=$e(n))=="string"||n instanceof vn?Df(this._dataReader,"Transaction.update",a._key,n,r,i):Nf(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this},e.prototype.delete=function(t){var n=Jn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){if(typeof Uint8Array>"u")throw new x(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lp(){if(typeof atob>"u")throw new x(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Av=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return lp(),new e($r.fromBase64String(t))},e.fromUint8Array=function(t){return cp(),new e($r.fromUint8Array(t))},e.prototype.toBase64=function(){return lp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return cp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),JC=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){tp(r=we(r,He));var o=ut(r),s=r._freezeSettings(),a=new zc;return ep(o,a,new rv(a,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){tp(n=we(n,He));var r=ut(n),i=n._freezeSettings(),o=new zc;return ep(r,o,new CC(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new x(b.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new At;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return C(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(a){return C(this,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return Mi.yt()?(u=a+"main",[4,Mi.delete(u)]):[2,Promise.resolve()];case 1:return c.sent(),[2]}})})}(cf(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),xv=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Na||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,a){var u;a===void 0&&(a={});var c=(i=we(i,Qo))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==o&&ma("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:o+":"+s,ssl:!1})),a.mockUserToken){var l,f;if(typeof a.mockUserToken=="string")l=a.mockUserToken,f=Je.MOCK_USER;else{l=b1(a.mockUserToken,(u=i._app)===null||u===void 0?void 0:u.options.projectId);var h=a.mockUserToken.sub||a.mockUserToken.user_id;if(!h)throw new x(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Je(h)}i._credentials=new OC(new uv(l,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,zd(t)];case 1:return r=o.sent(),[4,Hd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var a=V(s);return a.Or.delete(0),ys(a)}(i))]}})})})}(ut(we(this._delegate,He)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return C(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,zd(t)];case 1:return r=o.sent(),[4,Hd(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return C(this,void 0,void 0,function(){var a;return I(this,function(u){switch(u.label){case 0:return(a=V(s)).Or.add(0),[4,Gi(a)];case 1:return u.sent(),a.Br.set("Offline"),[2]}})})}(i))]}})})})}(ut(we(this._delegate,He)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&cv("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new At;return t.asyncQueue.enqueueAndForget(function(){return C(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=gC,[4,av(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(ut(we(this._delegate,He)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,a=new gu(o);return i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return u=function(l,f){V(l).Gr.add(f),f.next()},[4,Bi(i)];case 1:return[2,u.apply(void 0,[c.sent(),a])]}})})}),function(){a.Wo(),i.asyncQueue.enqueueAndForget(function(){return C(s,void 0,void 0,function(){var u;return I(this,function(c){switch(c.label){case 0:return u=function(l,f){V(l).Gr.delete(f)},[4,Bi(i)];case 1:return[2,u.apply(void 0,[c.sent(),a])]}})})})}}(ut(n=we(n,He)),ji(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new x(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ra(this,lv(this._delegate,t))}catch(n){throw yt(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Mr(this,Ks(this._delegate,t))}catch(n){throw yt(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Tu(this,function(n,r){if(n=we(n,Qo),Cf("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new x(b.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qt(n,null,function(i){return new Ln(ye.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw yt(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var a=this,u=new At;return o.asyncQueue.enqueueAndForget(function(){return C(a,void 0,void 0,function(){var c;return I(this,function(l){switch(l.label){case 0:return[4,function(f){return mu(f).then(function(h){return h.datastore})}(o)];case 1:return c=l.sent(),new xC(o.asyncQueue,c,s,u).run(),[2]}})})}),u.promise}(ut(r),function(o){return i(new XC(r,o))})}(this._delegate,function(r){return t(new Nv(n,r))})},e.prototype.batch=function(){var t=this;return ut(this._delegate),new Dv(new YC(this._delegate,function(n){return ws(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new x(b.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new x(b.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),_u=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new Av(new $r(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Mr.eu(r,this.firestore,null)},t}(kf);function ZC(e){var t;t=e,tn.setLogLevel(t)}var Nv=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new _u(t)}return e.prototype.get=function(t){var n=this,r=Dr(t);return this._delegate.get(r).then(function(i){return new Yo(n._firestore,new On(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Dr(t);return r?(Af("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Dr(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Ve([a,n,r],o)),this},e.prototype.delete=function(t){var n=Dr(t);return this._delegate.delete(n),this},e}(),Dv=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Dr(t);return r?(Af("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Dr(t);return arguments.length===2?this._delegate.update(a,n):(i=this._delegate).update.apply(i,Ve([a,n,r],o)),this},e.prototype.delete=function(t){var n=Dr(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Eu=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Io(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Xo(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new _u(t),n),i.set(n,o)),o},e}();Eu.su=new WeakMap;var Mr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new _u(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new x(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Le(n._delegate,r,new W(t)))},e.eu=function(t,n,r){return new e(n,new Le(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ra(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ra(this.firestore,lv(this._delegate,t))}catch(n){throw yt(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=$e(t))instanceof Le&&fv(this._delegate,t)},e.prototype.set=function(t,n){n=Af("DocumentReference.set",n);try{return n?ap(this._delegate,t,n):ap(this._delegate,t)}catch(r){throw yt(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?up(this._delegate,t):up.apply(void 0,Ve([this._delegate,t,n],r))}catch(o){throw yt(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ws(we((t=this._delegate).firestore,He),[new ms(t._key,ht.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Ov(n),o=Rv(n,function(s){return new Yo(t.firestore,new On(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return Cv(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=we(r,Le);var i=we(r.firestore,He),o=ut(i),s=new Lr(i);return function(a,u){var c=this,l=new At;return a.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var v,w;return I(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,function(T,R){var U=V(T);return U.persistence.runTransaction("read document","readonly",function(Q){return U.Mn.mn(Q,R)})}(d,p)];case 1:return(w=E.sent()).isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new x(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return v=E.sent(),w=Ji(v,"Failed to get document '"+p+" from cache"),m.reject(w),[3,3];case 3:return[2]}})})},[4,sv(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,l])]}})})}),l.promise}(o,r._key).then(function(a){return new On(i,s,r._key,a,new Nr(a!==null&&a.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=we(r,Le);var i=we(r.firestore,He);return Kd(ut(i),r._key,{source:"server"}).then(function(o){return Kc(i,r,o)})}(this._delegate):function(r){r=we(r,Le);var i=we(r.firestore,He);return Kd(ut(i),r._key).then(function(o){return Kc(i,r,o)})}(this._delegate)).then(function(r){return new Yo(n.firestore,new On(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Eu.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yt(e,t,n){return e.message=e.message.replace(t,n),e}function Ov(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!ji(r))return r}return{}}function Rv(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=ji(e[0])?e[0]:ji(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yo=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Mr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Ev(this._delegate,t._delegate)},e}(),Xo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Yo),Tu=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new _u(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,zn(this._delegate,function(i,o,s){var a=o,u=Oa("where",i);return new WC(u,a,s)}(t,n,r)))}catch(i){throw yt(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=Oa("orderBy",r);return new QC(s,o)}(t,n)))}catch(r){throw yt(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zn(this._delegate,function(n){return Jd("limit",n),new np("limit",n,"F")}(t)))}catch(n){throw yt(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zn(this._delegate,function(n){return Jd("limitToLast",n),new np("limitToLast",n,"L")}(t)))}catch(n){throw yt(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new rp("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw yt(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new rp("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw yt(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ip("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw yt(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new ip("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw yt(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hv(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=we(r,qt);var i=we(r.firestore,He),o=ut(i),s=new Lr(i);return function(a,u){var c=this,l=new At;return a.asyncQueue.enqueueAndForget(function(){return C(c,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,p,m){return C(this,void 0,void 0,function(){var v,w,E,T,R;return I(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Ca(d,p,!0)];case 1:return R=U.sent(),v=new Jy(p,R.Bn),w=v._o(R.documents),E=v.applyChanges(w,!1),m.resolve(E.snapshot),[3,3];case 2:return T=U.sent(),R=Ji(T,"Failed to execute query '"+p+" against cache"),m.reject(R),[3,3];case 3:return[2]}})})},[4,sv(a)];case 1:return[2,f.apply(void 0,[h.sent(),u,l])]}})})}),l.promise}(o,r._query).then(function(a){return new Xn(i,s,r,a)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=we(r,qt);var i=we(r.firestore,He),o=ut(i),s=new Lr(i);return Wd(o,r._query,{source:"server"}).then(function(a){return new Xn(i,s,r,a)})}(this._delegate):function(r){r=we(r,qt);var i=we(r.firestore,He),o=ut(i),s=new Lr(i);return Tv(r._query),Wd(o,r._query).then(function(a){return new Xn(i,s,r,a)})}(this._delegate)).then(function(r){return new Wc(n.firestore,new Xn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=Ov(n),o=Rv(n,function(s){return new Wc(t.firestore,new Xn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return Cv(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Eu.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),eA=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xo(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Wc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Tu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Xo(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new eA(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Xo(r._firestore,i))})},e.prototype.isEqual=function(t){return Ev(this._delegate,t._delegate)},e}(),Ra=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Mr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Mr(this.firestore,n===void 0?Ks(this._delegate):Ks(this._delegate,n))}catch(r){throw yt(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=we(i.firestore,He),a=Ks(i),u=bu(i.converter,o);return ws(s,[wu(Jr(i.firestore),"addDoc",a._key,u,i.converter!==null,{}).toMutation(a._key,ht.exists(!1))]).then(function(){return a})}(this._delegate,n).then(function(i){return new Mr(r.firestore,i)})},t.prototype.isEqual=function(n){return fv(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Eu.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Tu);function Dr(e){return we(e,Le)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tA=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(vn.bind.apply(vn,Ve([void 0],t)))}return e.documentId=function(){return new e(sn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=$e(t))instanceof vn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),nA=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new qC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new BC("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new jC("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new $C("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),rA={Firestore:xv,GeoPoint:vu,Timestamp:St,Blob:Av,Transaction:Nv,WriteBatch:Dv,DocumentReference:Mr,DocumentSnapshot:Yo,Query:Tu,QueryDocumentSnapshot:Xo,QuerySnapshot:Wc,CollectionReference:Ra,FieldPath:tA,FieldValue:nA,setLogLevel:ZC,CACHE_SIZE_UNLIMITED:MC};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){(function(t,n){t.INTERNAL.registerComponent(new Qa("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rA)))})(e,function(t,n){return new xv(t,new He(t,n),new JC)}),e.registerVersion("@firebase/firestore","2.4.1")}iA(es);const oA={apiKey:"AIzaSyBjnnmlPU6Or-arX15JZpLP1QHzEtgtkWQ",authDomain:"custom-repeater-251017.firebaseapp.com",projectId:"custom-repeater-251017",storageBucket:"custom-repeater-251017.appspot.com",messagingSenderId:"1070416993819",appId:"1:1070416993819:web:3e8a874288fe9245bf22be",measurementId:"G-JSZ62S3HLJ"},sA=es.initializeApp(oA),aA=sA.firestore(),kv=aA.collection("quizes"),uA=async e=>kv.add(e),Qc=async e=>{let t=await kv.where("quizId","==",e).limit(1).get();return t=t.docs.filter(n=>n.data())[0],console.log(t),t!==void 0&&t.exists?t.data():null},cA=P_({history:Xb("/boba-quiz/"),routes:[{path:"/",name:"home",component:tE},{path:"/create",name:"create",beforeEnter:async(e,t,n)=>{if(t.name!=="home")n({name:"home"});else{let r=lA();n({name:"createQuiz",params:{quizId:r}})}}},{path:"/create/:quizId",name:"createQuiz",component:o1},{path:"/complete",name:"chooseQuiz",component:d1},{path:"/complete/:quizId",component:()=>G_(()=>import("./CompleteQuizView.659a8306.js"),[]),name:"completeQuiz",beforeEnter:async(e,t,n)=>{await Qc(e.params.quizId)===null&&n({name:"chooseQuiz",query:{error:"1"}}),n()}}]});function lA(){for(var e=8,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,i=t.length;r<e;++r)n+=t.charAt(Math.floor(Math.random()*i));return n}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var fA="store";function Zi(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function hA(e){return e!==null&&typeof e=="object"}function dA(e){return e&&typeof e.then=="function"}function pA(e,t){return function(){return e(t)}}function Pv(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Lv(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Iu(e,n,[],e._modules.root,!0),Pf(e,n,t)}function Pf(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};Zi(i,function(s,a){o[a]=pA(s,e),Object.defineProperty(e.getters,a,{get:function(){return o[a]()},enumerable:!0})}),e._state=Hr({data:t}),e.strict&&wA(e),r&&n&&e._withCommit(function(){r.data=null})}function Iu(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=Lf(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){a[u]=r.state})}var c=r.context=gA(e,s,n);r.forEachMutation(function(l,f){var h=s+f;mA(e,h,l,c)}),r.forEachAction(function(l,f){var h=l.root?f:s+f,d=l.handler||l;yA(e,h,d,c)}),r.forEachGetter(function(l,f){var h=s+f;vA(e,h,l,c)}),r.forEachChild(function(l,f){Iu(e,t,n.concat(f),l,i)})}function gA(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,s,a){var u=ka(o,s,a),c=u.payload,l=u.options,f=u.type;return(!l||!l.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(o,s,a){var u=ka(o,s,a),c=u.payload,l=u.options,f=u.type;(!l||!l.root)&&(f=t+f),e.commit(f,c,l)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return Mv(e,t)}},state:{get:function(){return Lf(e.state,n)}}}),i}function Mv(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function mA(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function yA(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return dA(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):a})}function vA(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function wA(e){wi(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Lf(e,t){return t.reduce(function(n,r){return n[r]},e)}function ka(e,t,n){return hA(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var bA="vuex bindings",fp="vuex:mutations",Xu="vuex:actions",ai="vuex",_A=0;function EA(e,t){kb({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[bA]},function(n){n.addTimelineLayer({id:fp,label:"Vuex Mutations",color:hp}),n.addTimelineLayer({id:Xu,label:"Vuex Actions",color:hp}),n.addInspector({id:ai,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===ai)if(r.filter){var i=[];qv(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Uv(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===ai){var i=r.nodeId;Mv(t,i),r.state=SA(AA(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===ai){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(ai),n.sendInspectorState(ai),n.addTimelineEvent({layerId:fp,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=_A++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:Xu,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:Xu,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var hp=8702998,TA=6710886,IA=16777215,Fv={label:"namespaced",textColor:IA,backgroundColor:TA};function Vv(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Uv(e,t){return{id:t||"root",label:Vv(t),tags:e.namespaced?[Fv]:[],children:Object.keys(e._children).map(function(n){return Uv(e._children[n],t+n+"/")})}}function qv(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Fv]:[]}),Object.keys(t._children).forEach(function(i){qv(e,t._children[i],n,r+i+"/")})}function SA(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=CA(t);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?Vv(s):s,editable:!1,value:Gc(function(){return o[s]})}})}return i}function CA(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=Gc(function(){return e[n]})}else t[n]=Gc(function(){return e[n]})}),t}function AA(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function Gc(e){try{return e()}catch(t){return t}}var an=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Bv={namespaced:{configurable:!0}};Bv.namespaced.get=function(){return!!this._rawModule.namespaced};an.prototype.addChild=function(t,n){this._children[t]=n};an.prototype.removeChild=function(t){delete this._children[t]};an.prototype.getChild=function(t){return this._children[t]};an.prototype.hasChild=function(t){return t in this._children};an.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};an.prototype.forEachChild=function(t){Zi(this._children,t)};an.prototype.forEachGetter=function(t){this._rawModule.getters&&Zi(this._rawModule.getters,t)};an.prototype.forEachAction=function(t){this._rawModule.actions&&Zi(this._rawModule.actions,t)};an.prototype.forEachMutation=function(t){this._rawModule.mutations&&Zi(this._rawModule.mutations,t)};Object.defineProperties(an.prototype,Bv);var ei=function(t){this.register([],t,!1)};ei.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};ei.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};ei.prototype.update=function(t){jv([],this.root,t)};ei.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new an(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&Zi(n.modules,function(a,u){i.register(t.concat(u),a,r)})};ei.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);!i||!i.runtime||n.removeChild(r)};ei.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function jv(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;jv(e.concat(r),t.getChild(r),n.modules[r])}}function xA(e){return new Nt(e)}var Nt=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ei(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var s=this,a=this,u=a.dispatch,c=a.commit;this.dispatch=function(h,d){return u.call(s,h,d)},this.commit=function(h,d,p){return c.call(s,h,d,p)},this.strict=i;var l=this._modules.root.state;Iu(this,l,[],this._modules.root),Pf(this,l),r.forEach(function(f){return f(n)})},Mf={state:{configurable:!0}};Nt.prototype.install=function(t,n){t.provide(n||fA,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&EA(t,this)};Mf.state.get=function(){return this._state.data};Mf.state.set=function(e){};Nt.prototype.commit=function(t,n,r){var i=this,o=ka(t,n,r),s=o.type,a=o.payload,u={type:s,payload:a},c=this._mutations[s];!c||(this._withCommit(function(){c.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(l){return l(u,i.state)}))};Nt.prototype.dispatch=function(t,n){var r=this,i=ka(t,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._actions[o];if(!!u){try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(a,r.state)})}catch{}var c=u.length>1?Promise.all(u.map(function(l){return l(s)})):u[0](s);return new Promise(function(l,f){c.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(a,r.state)})}catch{}l(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(a,r.state,h)})}catch{}f(h)})})}};Nt.prototype.subscribe=function(t,n){return Pv(t,this._subscribers,n)};Nt.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Pv(r,this._actionSubscribers,n)};Nt.prototype.watch=function(t,n,r){var i=this;return wi(function(){return t(i.state,i.getters)},n,Object.assign({},r))};Nt.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Nt.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Iu(this,this.state,t,this._modules.get(t),r.preserveState),Pf(this,this.state)};Nt.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Lf(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Lv(this)};Nt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Nt.prototype.hotUpdate=function(t){this._modules.update(t),Lv(this,!0)};Nt.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Nt.prototype,Mf);const NA=xA({state(){return{count:0}},mutations:{SAVE_QUIZ_DB(e,t){}},actions:{async createQuiz(e,t){let n=null;try{await Qc(t.quizId)===null?(n=await uA({quizId:t.quizId,quizData:t.quizData}),console.log("Quiz successfully created")):console.log("Quiz with mentioned ID already exists")}catch(r){console.log(r)}}},getters:{getQuizFromDB:e=>async t=>await Qc(t)}});var hn={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,o=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:o}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let r=0;r<t.length;r++){if(t[r]===e)return n;t[r].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=t.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return e?e.querySelectorAll(t):[]},findSingle(e,t){return e?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=n.height,i=n.width,o=t.offsetHeight,s=t.offsetWidth,a=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),l=this.getViewport(),f,h;a.top+o+r>l.height?(f=a.top+u-r,e.style.transformOrigin="bottom",f<0&&(f=u)):(f=o+a.top+u,e.style.transformOrigin="top"),a.left+i>l.width?h=Math.max(0,a.left+c+s-i):h=a.left+c,e.style.top=f+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,e.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,e.style.transformOrigin="top"),n.width>o.width?a=i.left*-1:i.left+n.width>o.width?a=(i.left+n.width-o.width)*-1:a=0,e.style.top=s+"px",e.style.left=a+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=o=>{let s=window.getComputedStyle(o,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))};for(let o of n){let s=o.nodeType===1&&o.dataset.scrollselectors;if(s){let a=s.split(",");for(let u of a){let c=this.findSingle(o,u);c&&i(c)&&t.push(c)}}o.nodeType!==9&&i(o)&&t.push(o)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}},fadeOut(e,t){if(e){let n=1,r=50,i=t,o=r/i,s=setInterval(()=>{n-=o,n<=0&&(n=0,clearInterval(s)),e.style.opacity=n},r)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,c=e.scrollTop,l=e.clientHeight,f=this.getOuterHeight(t);u<0?e.scrollTop=c+u:u+f>l&&(e.scrollTop=c+u-l+f)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of n)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let r=document.createElement("a");r.download!==void 0?(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}},DA={equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)},deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!this.deepEquals(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=e instanceof Date,u=t instanceof Date;if(a!=u)return!1;if(a&&u)return e.getTime()==t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!=l)return!1;if(c&&l)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[i]))return!1;for(i=o;i--!==0;)if(s=f[i],!this.deepEquals(e[s],t[s]))return!1;return!0}return e!==e&&t!==t},resolveFieldData(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let i=t.split("."),o=e;for(var n=0,r=i.length;n<r;++n){if(o==null)return null;o=o[i[n]]}return o}}else return null},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},getItemValue(e,...t){return this.isFunction(e)?e(...t):e},filter(e,t,n){var r=[];if(e){for(let i of e)for(let o of t)if(String(this.resolveFieldData(i,o)).toLowerCase().indexOf(n.toLowerCase())>-1){r.push(i);break}}return r},reorderArray(e,t,n){let r;if(e&&t!==n){if(n>=e.length)for(r=n-e.length;r--+1;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}},findIndexInList(e,t){let n=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]===e){n=r;break}}return n},contains(e,t){if(e!=null&&t&&t.length){for(let n of t)if(this.equals(e,n))return!0}return!1},insertIntoOrderedArray(e,t,n,r){if(n.length>0){let i=!1;for(let o=0;o<n.length;o++)if(this.findIndexInList(n[o],r)>t){n.splice(o,0,e),i=!0;break}i||n.push(e)}else n.push(e)},removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp(e,t){let n=e.props;if(n){let r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=Object.prototype.hasOwnProperty.call(n,r)?r:t;return e.type.props[t].type===Boolean&&n[i]===""?!0:n[i]}return null},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0},isNotEmpty(e){return!this.isEmpty(e)},isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}},dp=0;function OA(e="pv_id_"){return dp++,`${e}${dp}`}const st={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},pp={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close"}},filterMatchModeOptions:{text:[st.STARTS_WITH,st.CONTAINS,st.NOT_CONTAINS,st.ENDS_WITH,st.EQUALS,st.NOT_EQUALS],numeric:[st.EQUALS,st.NOT_EQUALS,st.LESS_THAN,st.LESS_THAN_OR_EQUAL_TO,st.GREATER_THAN,st.GREATER_THAN_OR_EQUAL_TO],date:[st.DATE_IS,st.DATE_IS_NOT,st.DATE_BEFORE,st.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},RA=Symbol();var kA={install:(e,t)=>{let n=t?{...pp,...t}:{...pp};const r={config:Hr(n)};e.config.globalProperties.$primevue=r,e.provide(RA,r)}};var $v={name:"Divider",props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},computed:{containerClass(){return["p-divider p-component","p-divider-"+this.layout,"p-divider-"+this.type,{"p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left")},{"p-divider-center":this.layout==="horizontal"&&this.align==="center"},{"p-divider-right":this.layout==="horizontal"&&this.align==="right"},{"p-divider-top":this.layout==="vertical"&&this.align==="top"},{"p-divider-center":this.layout==="vertical"&&(!this.align||this.align==="center")},{"p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}]}}};const PA={key:0,class:"p-divider-content"};function LA(e,t,n,r,i,o){return ge(),bt("div",{class:Kt(o.containerClass),role:"separator"},[e.$slots.default?(ge(),bt("div",PA,[xn(e.$slots,"default")])):kt("",!0)],2)}function MA(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var FA=`
.p-divider-horizontal {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    width: 100%;
    position: relative;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-horizontal:before {
    position: absolute;
    display: block;
    top: 50%;
    left: 0;
    width: 100%;
    content: "";
}
.p-divider-horizontal.p-divider-left {
    -webkit-box-pack: start;
        -ms-flex-pack: start;
            justify-content: flex-start;
}
.p-divider-horizontal.p-divider-right {
    -webkit-box-pack: end;
        -ms-flex-pack: end;
            justify-content: flex-end;
}
.p-divider-horizontal.p-divider-center {
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-content {
    z-index: 1;
}
.p-divider-vertical {
    min-height: 100%;
    margin: 0 1rem;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    position: relative;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-divider-vertical:before {
    position: absolute;
    display: block;
    top: 0;
    left: 50%;
    height: 100%;
    content: "";
}
.p-divider-vertical.p-divider-top {
    -webkit-box-align: start;
        -ms-flex-align: start;
            align-items: flex-start;
}
.p-divider-vertical.p-divider-center {
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
}
.p-divider-vertical.p-divider-bottom {
    -webkit-box-align: end;
        -ms-flex-align: end;
            align-items: flex-end;
}
.p-divider-solid.p-divider-horizontal:before {
    border-top-style: solid;
}
.p-divider-solid.p-divider-vertical:before {
    border-left-style: solid;
}
.p-divider-dashed.p-divider-horizontal:before {
    border-top-style: dashed;
}
.p-divider-dashed.p-divider-vertical:before {
    border-left-style: dashed;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-top-style: dotted;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-left-style: dotted;
}
`;MA(FA);$v.render=LA;function VA(e){e.addEventListener("mousedown",zv)}function UA(e){e.removeEventListener("mousedown",zv)}function qA(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),e.appendChild(t),t.addEventListener("animationend",Hv)}function BA(e){let t=Kv(e);t&&(UA(e),t.removeEventListener("animationend",Hv),t.remove())}function zv(e){let t=e.currentTarget,n=Kv(t);if(!n||getComputedStyle(n,null).display==="none")return;if(hn.removeClass(n,"p-ink-active"),!hn.getHeight(n)&&!hn.getWidth(n)){let s=Math.max(hn.getOuterWidth(t),hn.getOuterHeight(t));n.style.height=s+"px",n.style.width=s+"px"}let r=hn.getOffset(t),i=e.pageX-r.left+document.body.scrollTop-hn.getWidth(n)/2,o=e.pageY-r.top+document.body.scrollLeft-hn.getHeight(n)/2;n.style.top=o+"px",n.style.left=i+"px",hn.addClass(n,"p-ink-active")}function Hv(e){hn.removeClass(e.currentTarget,"p-ink-active")}function Kv(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const Wv={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(qA(e),VA(e))},unmounted(e){BA(e)}};var Qv={name:"Fieldset",emits:["update:collapsed","toggle"],props:{legend:String,toggleable:Boolean,collapsed:Boolean},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(e){this.d_collapsed=e}},methods:{toggle(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})}},computed:{iconClass(){return["p-fieldset-toggler pi ",{"pi-minus":!this.d_collapsed,"pi-plus":this.d_collapsed}]},ariaId(){return OA()}},directives:{ripple:Wv}};const jA={class:"p-fieldset-legend"},$A=["id"],zA=["id","aria-controls","aria-expanded"],HA={class:"p-fieldset-legend-text"},KA=["id","aria-labelledby"],WA={class:"p-fieldset-content"};function QA(e,t,n,r,i,o){const s=Zp("ripple");return ge(),bt("fieldset",{class:Kt(["p-fieldset p-component",{"p-fieldset-toggleable":n.toggleable}])},[G("legend",jA,[n.toggleable?kt("",!0):xn(e.$slots,"legend",{key:0},()=>[G("span",{class:"p-fieldset-legend-text",id:o.ariaId+"_header"},or(n.legend),9,$A)]),n.toggleable?Zn((ge(),bt("a",{key:1,tabindex:"0",onClick:t[0]||(t[0]=(...a)=>o.toggle&&o.toggle(...a)),onKeydown:t[1]||(t[1]=gl((...a)=>o.toggle&&o.toggle(...a),["enter"])),id:o.ariaId+"_header","aria-controls":o.ariaId+"_content","aria-expanded":!i.d_collapsed},[G("span",{class:Kt(o.iconClass)},null,2),xn(e.$slots,"legend",{},()=>[G("span",HA,or(n.legend),1)])],40,zA)),[[s]]):kt("",!0)]),le(Ka,{name:"p-toggleable-content"},{default:Qt(()=>[Zn(G("div",{class:"p-toggleable-content",role:"region",id:o.ariaId+"_content","aria-labelledby":o.ariaId+"_header"},[G("div",WA,[xn(e.$slots,"default")])],8,KA),[[Eb,!i.d_collapsed]])]),_:3})],2)}function GA(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var YA=`
.p-fieldset-legend > a,
.p-fieldset-legend > span {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
}
.p-fieldset-toggleable .p-fieldset-legend a {
    cursor: pointer;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    overflow: hidden;
    position: relative;
    text-decoration: none;
}
.p-fieldset-legend-text {
    line-height: 1;
}
`;GA(YA);Qv.render=QA;var Gv={name:"RadioButton",emits:["click","update:modelValue","change","focus","blur"],props:{value:null,modelValue:null,name:{type:String,default:null},disabled:{type:Boolean,default:!1},inputId:null,inputClass:null,inputStyle:null,inputProps:null,"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){this.disabled||(this.$emit("click",e),this.$emit("update:modelValue",this.value),this.$refs.input.focus(),this.checked||this.$emit("change",e))},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{checked(){return this.modelValue!=null&&DA.equals(this.modelValue,this.value)},containerClass(){return["p-radiobutton p-component",{"p-radiobutton-checked":this.checked,"p-radiobutton-disabled":this.disabled,"p-radiobutton-focused":this.focused}]}}};const XA={class:"p-hidden-accessible"},JA=["id","name","checked","disabled","value","aria-labelledby","aria-label"],ZA=G("div",{class:"p-radiobutton-icon"},null,-1),ex=[ZA];function tx(e,t,n,r,i,o){return ge(),bt("div",{class:Kt(o.containerClass),onClick:t[2]||(t[2]=s=>o.onClick(s))},[G("div",XA,[G("input",dg({ref:"input",type:"radio",id:n.inputId,class:n.inputClass,style:n.inputStyle,name:n.name,checked:o.checked,disabled:n.disabled,value:n.value,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=(...s)=>o.onFocus&&o.onFocus(...s)),onBlur:t[1]||(t[1]=(...s)=>o.onBlur&&o.onBlur(...s))},n.inputProps),null,16,JA)]),G("div",{ref:"box",class:Kt(["p-radiobutton-box",{"p-highlight":o.checked,"p-disabled":n.disabled,"p-focus":i.focused}])},ex,2)],2)}Gv.render=tx;var Yv={name:"Button",props:{label:{type:String},icon:{type:String},iconPos:{type:String,default:"left"},badge:{type:String},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"}},computed:{buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}},iconClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:Wv}};const nx=["aria-label","disabled"],rx={class:"p-button-label"};function ix(e,t,n,r,i,o){const s=Zp("ripple");return Zn((ge(),bt("button",{class:Kt(o.buttonClass),type:"button","aria-label":o.defaultAriaLabel,disabled:o.disabled},[xn(e.$slots,"default",{},()=>[n.loading&&!n.icon?(ge(),bt("span",{key:0,class:Kt(o.iconClass)},null,2)):kt("",!0),n.icon?(ge(),bt("span",{key:1,class:Kt(o.iconClass)},null,2)):kt("",!0),G("span",rx,or(n.label||"\xA0"),1),n.badge?(ge(),bt("span",{key:2,class:Kt(o.badgeStyleClass)},or(n.badge),3)):kt("",!0)])],10,nx)),[[s]])}Yv.render=ix;const Ju={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,o=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:o}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let r=0;r<t.length;r++){if(t[r]===e)return n;t[r].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let r=0;r<n.length;r++)e.classList.add(n[r])}else{let n=t.split(" ");for(let r=0;r<n.length;r++)e.className+=" "+n[r]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return e?e.querySelectorAll(t):[]},findSingle(e,t){return e?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=n.height,i=n.width,o=t.offsetHeight,s=t.offsetWidth,a=t.getBoundingClientRect(),u=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),l=this.getViewport(),f,h;a.top+o+r>l.height?(f=a.top+u-r,e.style.transformOrigin="bottom",f<0&&(f=u)):(f=o+a.top+u,e.style.transformOrigin="top"),a.left+i>l.width?h=Math.max(0,a.left+c+s-i):h=a.left+c,e.style.top=f+"px",e.style.left=h+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),o=this.getViewport();let s,a;i.top+r+n.height>o.height?(s=-1*n.height,e.style.transformOrigin="bottom",i.top+s<0&&(s=-1*i.top)):(s=r,e.style.transformOrigin="top"),n.width>o.width?a=i.left*-1:i.left+n.width>o.width?a=(i.left+n.width-o.width)*-1:a=0,e.style.top=s+"px",e.style.left=a+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=o=>{let s=window.getComputedStyle(o,null);return r.test(s.getPropertyValue("overflow"))||r.test(s.getPropertyValue("overflowX"))||r.test(s.getPropertyValue("overflowY"))};for(let o of n){let s=o.nodeType===1&&o.dataset.scrollselectors;if(s){let a=s.split(",");for(let u of a){let c=this.findSingle(o,u);c&&i(c)&&t.push(c)}}o.nodeType!==9&&i(o)&&t.push(o)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}},fadeOut(e,t){if(e){let n=1,r=50,i=t,o=r/i,s=setInterval(()=>{n-=o,n<=0&&(n=0,clearInterval(s)),e.style.opacity=n},r)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),o=i?parseFloat(i):0,s=e.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-r-o,c=e.scrollTop,l=e.clientHeight,f=this.getOuterHeight(t);u<0?e.scrollTop=c+u:u+f>l&&(e.scrollTop=c+u-l+f)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),r=[];for(let i of n)getComputedStyle(i).display!="none"&&getComputedStyle(i).visibility!="hidden"&&r.push(i);return r},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},isClickable(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t=="INPUT"||t=="BUTTON"||t=="A"||n=="INPUT"||n=="BUTTON"||n=="A"||this.hasClass(e,"p-button")||this.hasClass(e.parentElement,"p-button")||this.hasClass(e.parentElement,"p-checkbox")||this.hasClass(e.parentElement,"p-radiobutton")},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let r=document.createElement("a");r.download!==void 0?(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}},Mn=Ib(K_);Mn.component("Divider",$v);Mn.component("Fieldset",Qv);Mn.component("RadioButton",Gv);Mn.component("Button",Yv);Mn.use(cA);Mn.use(NA);Mn.use(kA);Mn.directive("ripple",{mounted(e,t){e.addEventListener("click",n=>{let r=Ju.getOffset(n.currentTarget);n.target.offsetWidth,n.target.offsetHeight;let i=n.pageX-r.left+document.body.scrollTop-Ju.getWidth(n.currentTarget)/2,o=n.pageY-r.top+document.body.scrollLeft-Ju.getHeight(n.currentTarget)/2;console.log(n),console.log(i,o),console.log(e.getBoundingClientRect());const s=document.createElement("span");s.style.left=i+"px",s.style.top=o+"px",s.classList.add("ripple"),s.setAttribute("style","top:"+o+"px; left:"+i+"px;"),n.target.appendChild(s),setTimeout(function(){s.parentNode.removeChild(s)},500)})}});Mn.mount("#app");export{Pt as F,wl as _,G as a,kt as b,bt as c,Zo as d,wb as e,Js as f,Qe as g,Xc as n,ge as o,y0 as r,or as t,Eb as v,Zn as w};
